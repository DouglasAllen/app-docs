<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html401/loose.dtd">
<html>
<!-- This manual is for GNU AutoGen version 5.12, updated July 2011.

Copyright C 1992-2011 by Bruce Korb.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.2 or
any later version published by the Free Software Foundation; with no
Invariant Sections, no Front-Cover Texts, and no Back-Cover Texts.

 -->
<!-- Created on July 10, 2011 by texi2html 1.82
texi2html was written by: 
            Lionel Cons <Lionel.Cons@cern.ch> (original author)
            Karl Berry  <karl@freefriends.org>
            Olaf Bachmann <obachman@mathematik.uni-kl.de>
            and many others.
Maintained by: Many creative people.
Send bugs and suggestions to <texi2html-bug@nongnu.org>
-->
<head>
<title>GNU AutoGen - The Automated Program Generator: 7. Automated Option Processing</title>

<meta name="description" content="GNU AutoGen - The Automated Program Generator: 7. Automated Option Processing">
<meta name="keywords" content="GNU AutoGen - The Automated Program Generator: 7. Automated Option Processing">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="texi2html 1.82">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
blockquote.smallquotation {font-size: smaller}
pre.display {font-family: serif}
pre.format {font-family: serif}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
pre.smalldisplay {font-family: serif; font-size: smaller}
pre.smallexample {font-size: smaller}
pre.smallformat {font-family: serif; font-size: smaller}
pre.smalllisp {font-size: smaller}
span.roman {font-family:serif; font-weight:normal;}
span.sansserif {font-family:sans-serif; font-weight:normal;}
ul.toc {list-style: none}
-->
</style>


</head>

<body lang="en" bgcolor="#FFFFFF" text="#000000" link="#0000FF" vlink="#800080" alink="#FF0000">

<a name="AutoOpts"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="autogen_5.html#installing" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Features" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="autogen_5.html#Installation" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="autogen_0.html#Introduction" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="autogen_7.html#Add_002dOns" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="autogen_0.html#Introduction" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="autogen_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="autogen_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Automated-Option-Processing"></a>
<h1 class="chapter">7. Automated Option Processing</h1>
<a name="index-autoopts"></a>

<p>AutoOpts 35.0 is bundled with AutoGen.  It is a tool that virtually eliminates the
hassle of processing options and keeping man pages, info docs and usage text
up to date.  This package allows you to specify several program attributes, up
to a hundred option types and many option attributes.  From this, it then
produces all the code necessary to parse and handle the command line and
configuration file options, and the documentation that should go with your
program as well.
</p>
<p>All the features notwithstanding, some applications simply have
well-established command line interfaces.  Even still, those programs
may use the configuration file parsing portion of the library.
See the &ldquo;AutoOpts Features&rdquo; and &ldquo;Configuration File Format&rdquo; sections.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#Features">7.1 AutoOpts Features</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#Licensing">7.2 AutoOpts Licensing</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#Caveats">7.3 Developer and User Notes</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#Quick-Start">7.4 Quick Start</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#Option-Definitions">7.5 Option Definitions</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#AutoOpts-API">7.6 Programmatic Interface</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#Multi_002dThreading">7.7 Multi-Threading</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#option-descriptor">7.8 Option Descriptor File</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#Using-AutoOpts">7.9 Using AutoOpts</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#Presetting-Options">7.10 Configuring your program</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#Config-File-Format">7.11 Configuration File Format</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#shell-options">7.12 AutoOpts for Shell Scripts</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#AutoInfo">7.13 Automated Info Docs</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#AutoMan-pages">7.14 Automated Man Pages</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#getopt_005flong">7.15 Using getopt(3C)</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#i18n">7.16 Internationalizing AutoOpts</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#Naming-Conflicts">7.17 Naming Conflicts</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#All-Attribute-Names">7.18 All Attribute Names</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#Option-Define-Names">7.19 Option Definition Name Index</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
</table>


<hr size="6">
<a name="Features"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#AutoOpts" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Licensing" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="autogen_7.html#Add_002dOns" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="autogen_0.html#Introduction" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="autogen_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="autogen_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="AutoOpts-Features"></a>
<h2 class="section">7.1 AutoOpts Features</h2>
<a name="index-features"></a>

<p>AutoOpts supports option processing; option state saving; and
program documentation with innumerable features.  Here, we list
a few obvious ones and some important ones, but the full list is
really defined by all the attributes defined in the <a href="#Option-Definitions">Option Definitions</a>
section.
</p>
<ol>
<li>
POSIX-compliant short (flag) option processing.

</li><li>
GNU-style long options processing.  Long options
are recognized without case sensitivity, and they may be abbreviated.

</li><li>
Environment variable initializations, See section <a href="#environrc">environment variable presets</a>.

</li><li>
Initialization from configuration files (aka RC or INI files), and
saving the option state back into one, See section <a href="#loading-rcfile">configuration file presets</a>.

</li><li>
Config files may be partitioned.  One config file may be used by several
programs by partitioning it with lines containing,
&ldquo;<code>[PROGRAM_NAME]</code>&rdquo; or &ldquo;<code>&lt;?program-name&gt;</code>&rdquo;, See section <a href="#loading-rcfile">configuration file presets</a>.

</li><li>
Config files may contain AutoOpts directives.
&ldquo;<code>&lt;?auto-options [[option-text]]&gt;</code>&rdquo; may be used to set <code>AutoOpts</code>
option processing options.  Viz., <code>GNU</code> usage layout versus <code>AutoOpts</code>
conventional layout, and <code>misuse-usage</code> versus <code>no-misuse-usage</code>,
See section <a href="#usage-attributes">Usage and Version Info Display</a>.

</li><li>
Options may be marked as <code><i>dis</i>-abled</code> with a disablement prefix.
Such options may default to either an enabled or a disabled state.  You
may also provide an enablement prefix, too, e.g., <code>--allow-mumble</code>
and <code>--prevent-mumble</code> (see section <a href="#Common-Attributes">Common Option Attributes</a>).

</li><li>
Verify that required options are present between the minimum and maximum
number of times on the command line.  Verify that conflicting options do not
appear together.  Verify that options requiring the presence of other options
are, in fact, used in the presence of other options.
See See section <a href="#Common-Attributes">Common Option Attributes</a>, and See section <a href="#Option-Conflict-Attributes">Option Conflict Attributes</a>.

</li><li>
There are several <a href="#automatic-options">automatically supported options</a>.
They will have short flags if any options have option flags and the flags
are not suppressed.  The associated flag may be altered or suppressed by
specifying no value or an alternate character for &ldquo;<code>xxx-value;</code>&rdquo; in
the option definition file.  &ldquo;<code>xxx</code>&rdquo; is the name of the option below:

<dl compact="compact">
<dt> &lsquo;<samp>--help</samp>&rsquo;</dt>
<dt> &lsquo;<samp>--more-help</samp>&rsquo;</dt>
<dd><p>These are always available.  &ldquo;<code>more-help</code>&rdquo; will pass the full usage
text through a pager.
</p></dd>
<dt> &lsquo;<samp>--usage</samp>&rsquo;</dt>
<dd><a name="index-usage_002dopt"></a>
<p>This is added to the option list if &ldquo;<code>usage-opt</code>&rdquo; is specified.
It yields the abbreviated usage to &lsquo;<tt>stdout</tt>&rsquo;.
</p></dd>
<dt> &lsquo;<samp>--version</samp>&rsquo;</dt>
<dd><p>This is added to the option list if &ldquo;<code>version = xxx;</code>&rdquo; is specified.
</p></dd>
<dt> &lsquo;<samp>--load-opts</samp>&rsquo;</dt>
<dt> &lsquo;<samp>--save-opts</samp>&rsquo;</dt>
<dd><p>These are added to the option list if &ldquo;<code>homerc</code>&rdquo; is specified.
</p></dd>
</dl>

</li><li>
Various forms of main procedures can be added to the output,
See section <a href="#Generated-main">Generating main procedures</a>.  There are four basic forms:

<ol>
<li>
A program that processes the arguments and writes to standard out
portable shell commands containing the digested options.

</li><li>
A program that will generate portable shell commands to parse the defined
options.  The expectation is that this result will be copied into a
shell script and used there.

</li><li>
A &ldquo;for-each&rdquo; main that will invoke a named function once for either
each non-option argument on the command line or, if there are none,
then once for each non-blank, non-comment input line read from stdin.

</li><li>
A main procedure of your own design.  Its code can be supplied in the
option description template or by incorporating another template.
</li></ol>

</li><li>
There are several methods for handling option arguments.
<ul>
<li>
nothing (see section <a href="#OPT_005fARG">OPT_ARG( &lt;NAME&gt; ) - Option Argument String</a>) option argument strings are globally available.
</li><li>
user supplied (see section <a href="#Option-Argument-Handling">Option Argument Handling</a>)
</li><li>
stack option arguments (see section <a href="#Option-Argument-Handling">Option Argument Handling</a>)
</li><li>
integer numbers (see section <a href="#arg_002dtype-number">Arg Type Number</a>)
</li><li>
true or false valued (see section <a href="#arg_002dtype-boolean">Arg Type Boolean</a>)
</li><li>
enumerated list of names (see section <a href="#arg_002dtype-keyword">Arg Type Keyword</a>)
</li><li>
an enumeration (membership) set (see section <a href="#arg_002dtype-set-membership">Arg Type Set Membership</a>)
</li><li>
a list of name/value pairs (option &ldquo;subopts&rdquo;) (see section <a href="#arg_002dtype-hierarchy">Arg Type Hierarchical</a>)
</li><li>
a time duration or a specific time and date
</li><li>
validated file name (see section <a href="#arg_002dtype-file-name">Arg Type File Name</a>)
</li><li>
optional option argument (see section <a href="#arg_002doptional">Option Argument Optional</a>)
</li></ul>

</li><li>
The generated usage text can be emitted in either AutoOpts standard
format (maximizing the information about each option), or GNU-ish
normal form.  The default form is selected by either specifying or not
specifying the <code>gnu-usage</code> attribute (see section <a href="#information-attributes">Program Information Attributes</a>).
This can be overridden by the user himself with the
<code>AUTOOPTS_USAGE</code> environment variable.  If it exists and is set
to the string <code>gnu</code>, it will force GNU-ish style format; if it is
set to the string <code>autoopts</code>, it will force AutoOpts standard
format; otherwise, it will have no effect.

</li><li>
If you compile with <code>ENABLE_NLS</code> defined and <code>_()</code> defined to
a localization function such as <code>gettext(3GNU)</code>, then the option
processing code will be localizable (see section <a href="#i18n">Internationalizing AutoOpts</a>).

</li><li>
Provides a callable routine to parse
a text string as if it were from one of the rc/ini/config files,
hereafter referred to as a configuration file.

</li><li>
By adding a &lsquo;<samp>doc</samp>&rsquo; and &lsquo;<samp>arg-name</samp>&rsquo; attributes to each option,
AutoGen will also be able to produce a man page and the &lsquo;<samp>invoking</samp>&rsquo;
section of a texinfo document.

</li><li>
Intermingled option processing.  AutoOpts options may be intermingled with
command line operands and options processed with other parsing techniques.
This is accomplished by setting the <code>allow-errors</code>
(see section <a href="#program-attributes">Program Description Attributes</a>) attribute.  When processing reaches a point
where <code>optionProcess</code> (see section <a href="#libopts_002doptionProcess">optionProcess</a>) needs to be called
again, the current option can be set with <code>RESTART_OPT(n)</code>
(see section <a href="#RESTART_005fOPT">RESTART_OPT( n ) - Resume Option Processing</a>) before calling <code>optionProcess</code>.

<p>See: See section <a href="#library-attributes">Options for Library Code</a>.
</p>
</li><li>
Library suppliers can specify command line options that their
client programs will accept.  They specify option definitions
that get <code>#include</code>-d into the client option definitions
and they specify an &quot;anchor&quot; option that has a callback and must be invoked.
That will give the library access to the option state for their options.

</li><li>
library options.  An AutoOpt-ed library may export its options for use in
an AutoOpt-ed program.  This is done by providing an option definition file
that client programs <code>#include</code> into their own option definitions.
See &ldquo;AutoOpt-ed Library for AutoOpt-ed Program&rdquo; (see section <a href="#lib-and-program">AutoOpt-ed Library for AutoOpt-ed Program</a>)
for more details.

</li><li>
Insert the option processing state into Scheme-defined variables.
Thus, Guile based applications that are linked with private
<code>main()</code> routines can take advantage of all of AutoOpts&rsquo; functionality.
</li></ol>


<hr size="6">
<a name="Licensing"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Features" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Caveats" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="autogen_7.html#Add_002dOns" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="autogen_0.html#Introduction" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="autogen_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="autogen_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="AutoOpts-Licensing"></a>
<h2 class="section">7.2 AutoOpts Licensing</h2>
<a name="index-Licensing"></a>

<p>When AutoGen is installed, the AutoOpts project is installed with it.
AutoOpts includes various AutoGen templates and a pair of shared
libraries.  These libraries may be used under the terms of version 3
of the GNU Lesser General Public License (LGPL).
</p>
<p>One of these libraries (<code>libopts</code>) is needed by programs that are built
using AutoOpts generated code.  This library is available as a separate
&ldquo;tear-off&rdquo; source tarball.  It is redistributable for use under either of
two licenses: The above mentioned GNU Lesser General Public License, and
the advertising-clause-free BSD license.  Both of these license terms are
incorporated into appropriate COPYING files included with the <code>libopts</code>
source tarball.  This source may be incorporated into your package with
the following simple commands:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">rm -rf libopts libopts-*
gunzip -c `autoopts-config libsrc` | \
   tar -xvf -
mv libopts-*.*.* libopts
</pre></td></tr></table>

<p>View the &lsquo;<tt>libopts/README</tt>&rsquo; file for further integration information.
</p>


<hr size="6">
<a name="Caveats"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Licensing" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Quick-Start" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="autogen_7.html#Add_002dOns" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="autogen_0.html#Introduction" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="autogen_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="autogen_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Developer-and-User-Notes"></a>
<h2 class="section">7.3 Developer and User Notes</h2>

<p>AutoOpts has its conventional way of displaying option information
that includes somewhat more information that the standard GNU method.
AutoOpts will also print out a line of usage text for each option type
when options are misspecified.  GNU programs typically do not do this.
These defaults can be changed on a per-program basis by adding either
or both of the following in the option definition file:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">gnu-usage;
no-misuse-usage;
</pre></td></tr></table>

<p>Users may also override these settings with the <code>AUTOOPTS_USAGE</code>
environment variable.  It may be set to a comma or white space separated
list of the following strings:
</p>
<dl compact="compact">
<dt> &lsquo;<samp>gnu</samp>&rsquo;</dt>
<dd><a name="index-gnu"></a>
<p>The format of the extended usage text will be displayed in GNU-normal form.
The default display for <code>--version</code> will be to include a note
on licensing terms.
</p>
</dd>
<dt> &lsquo;<samp>autoopts</samp>&rsquo;</dt>
<dd><a name="index-autoopts-1"></a>
<p>The format of the extended usage will be in AutoOpts&rsquo; native layout.
</p>
</dd>
<dt> &lsquo;<samp>no-misuse-usage</samp>&rsquo;</dt>
<dd><a name="index-no_002dmisuse_002dusage"></a>
<p>When an option error is made on the command line, the abbreviated
usage text will be suppressed.
</p>
</dd>
<dt> &lsquo;<samp>misuse-usage</samp>&rsquo;</dt>
<dd><a name="index-misuse_002dusage"></a>
<p>When an option error is made on the command line, the abbreviated
usage text will be shown.
</p></dd>
</dl>

<p>The setting used is the last one seen.  The <code>autoopts</code> and
<code>misuse-usage</code> serve no purpose, unless the definition file
entries were specified as above.
</p>
<p><b>Note for developers</b>:
</p>
<p>The templates used to implement AutoOpts depend heavily upon
token pasting.  That mens that if you name an option, &ldquo;debug&rdquo;, for
example, the generated header will expect to be able to emit
<code>#define</code> macros such as this:
</p><table><tr><td>&nbsp;</td><td><pre class="example">#define DESC(n) (autogenOptions.pOptDesc[INDEX_OPT_## n])
</pre></td></tr></table>
<p>and expect <code>DESC(DEBUG)</code> to expand correctly into
<code>(autogenOptions.pOptDesc[INDEX_OPT_DEBUG])</code>.
If <code>DEBUG</code> is <code>#defined</code> to something else, then
that something else will be in the above expansion.
</p>
<p>If you discover you are having strange problems like this,
you may wish to use some variation of the <code>guard-option-names</code>
See section <a href="#program-attributes">Program Description Attributes</a>.
</p>



<hr size="6">
<a name="Quick-Start"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Caveats" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Option-Definitions" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="autogen_7.html#Add_002dOns" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="autogen_0.html#Introduction" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="autogen_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="autogen_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Quick-Start-1"></a>
<h2 class="section">7.4 Quick Start</h2>
<a name="index-example_002c-simple-AutoOpts"></a>

<p>Since it is generally easier to start with a simple example than it is
to look at the options that AutoGen uses itself, here is a very simple
AutoOpts example.  You can copy this example out of the Info file and
into a source file to try it.  You can then embellish it into what you
really need.  For more extensive examples, you can also examine the help
output and option definitions for the commands <code>columns</code>,
<code>getdefs</code> and <code>autogen</code> itself.
</p>
<p>For our simple example, assume you have a program named <code>check</code>
that takes two options:
</p>
<ol>
<li>
A list of directories to check over for whatever it is <code>check</code> does.
You want this option available as a POSIX-style flag option
and a GNU long option.  You want to allow as many of these
as the user wishes.
</li><li>
An option to show or not show the definition tree being used.
Only one occurrence is to be allowed, specifying one or the other.
</li></ol>

<p>First, specify your program attributes and its options to AutoOpts,
as with the following example.
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">AutoGen Definitions options;
prog-name     = check;
prog-title    = &quot;Checkout Automated Options&quot;;
long-opts;

main = { main-type = shell-process; };

flag = {
    name      = check-dirs;
    value     = L;        /* flag style option character */
    arg-type  = string;   /* option argument indication  */
    max       = NOLIMIT;  /* occurrence limit (none)     */
    stack-arg;            /* save opt args in a stack    */
    descrip   = &quot;Checkout directory list&quot;;
};

flag = {
    name      = show_defs;
    descrip   = &quot;Show the definition tree&quot;;
    disable   = dont;     /* mark as enable/disable type */
                          /* option.  Disable as `dont-' */
};
</pre></td></tr></table>

<p>Then perform the following steps:
</p>
<ol>
<li>
<code>cflags=&quot;-DTEST_CHECK_OPTS `autoopts-config cflags`&quot;</code>
</li><li>
<code>ldflags=&quot;`autoopts-config ldflags`&quot;</code>
</li><li>
<code>autogen checkopt.def</code>
</li><li>
<code>cc -o check -g ${cflags} checkopt.c ${ldflags}</code>
</li><li>
<code>./check --help</code>
</li></ol>

<p>Running those commands yields:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">check - Checkout Automated Options
USAGE:  check [ -&lt;flag&gt; [&lt;val&gt;] | --&lt;name&gt;[{=| }&lt;val&gt;] ]...
  Flg Arg Option-Name    Description
   -L Str check-dirs     Checkout directory list
                                - may appear multiple times
      no  show-defs      Show the definition tree
                                - disabled as --dont-show-defs
   -? no  help           Display extended usage information and exit
   -! no  more-help      Extended usage information passed thru pager

Options are specified by doubled hyphens and their name or by a single
hyphen and the flag character.
</pre></td></tr></table>

<p>Normally, however, you would compile &lsquo;<tt>checkopt.c</tt>&rsquo; as in:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">cc -o checkopt.o $cflags -c checkopt.c
</pre></td></tr></table>

<p>and link &lsquo;<tt>checkopt.o</tt>&rsquo; with the rest of your program.
The main program causes the options to be processed
by calling <code>optionProcess</code> (see section <a href="#libopts_002doptionProcess">optionProcess</a>):
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">main( int argc, char** argv )
{
  {
    int optct = optionProcess( &amp;checkOptions, argc, argv );
    argc -= optct;
    argv += optct;
  }
</pre></td></tr></table>

<p>The options are tested and used as in the following fragment.
&ldquo;<code>ENABLED_OPT</code>&rdquo; is used instead of &ldquo;<code>HAVE_OPT</code>&rdquo; for the
<code>show-defs</code> option because it is an enabled/disabled option type:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">  if (  ENABLED_OPT( SHOW_DEFS )
     &amp;&amp; HAVE_OPT( CHECK_DIRS )) {
    int    dirct = STACKCT_OPT( CHECK_DIRS );
    char** dirs  = STACKLST_OPT( CHECK_DIRS );
    while (dirct-- &gt; 0) {
      char* dir = *dirs++;
      ...
</pre></td></tr></table>

<p>A lot of magic happens to make this happen.
The rest of this chapter will describe the myriad of option attributes
supported by AutoOpts.  However, keep in mind that, in general, you won&rsquo;t
need much more than what was described in this &quot;quick start&quot; section.
</p>
<hr size="6">
<a name="Option-Definitions"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Quick-Start" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#program-attributes" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="autogen_7.html#Add_002dOns" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="autogen_0.html#Introduction" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="autogen_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="autogen_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Option-Definitions-1"></a>
<h2 class="section">7.5 Option Definitions</h2>
<a name="index-Option-Definitions"></a>

<p>AutoOpts uses an AutoGen definitions file for the definitions of the
program options and overall configuration attributes.
The complete list of program and option attributes is quite extensive,
so if you are reading to understand how to use AutoOpts, I recommend
reading the &quot;Quick Start&quot; section (see section <a href="#Quick-Start">Quick Start</a>) and paying
attention to the following:
</p>
<ol>
<li>
<code>prog-name</code>, <code>prog-title</code>, and <code>argument</code>, program
attributes, See section <a href="#program-attributes">Program Description Attributes</a>.
</li><li>
<code>name</code> and <code>descrip</code> option attributes, See section <a href="#Required-Attributes">Required Attributes</a>.
</li><li>
<code>value</code> (flag character) and <code>min</code> (occurrence counts)
option attributes, See section <a href="#Common-Attributes">Common Option Attributes</a>.
</li><li>
<code>arg-type</code> from the option argument specification section,
See section <a href="#Option-Arguments">Option Argument Specification</a>.
</li><li>
Read the overall how to, See section <a href="#Using-AutoOpts">Using AutoOpts</a>.
</li><li>
Highly recommended, but not required, are the several &quot;man&quot; and
&quot;info&quot; documentation attributes, See section <a href="#documentation-attributes">Man and Info doc Attributes</a>.
</li></ol>

<p>Keep in mind that the majority are rarely used and can be safely
ignored.  However, when you have special option processing requirements,
the flexibility is there.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#program-attributes">7.5.1 Program Description Attributes</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#library-attributes">7.5.2 Options for Library Code</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#information-attributes">7.5.3 Program Information Attributes</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#Generated-main">7.5.4 Generating main procedures</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#option-attributes">7.5.5 Option Attributes</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#Option-Arguments">7.5.6 Option Argument Specification</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#Option-Argument-Handling">7.5.7 Option Argument Handling</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#Internationalizing-Options">7.5.8 Internationalizing Options</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#documentation-attributes">7.5.9 Man and Info doc Attributes</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#automatic-options">7.5.10 Automatically Supported Options</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#standard-options">7.5.11 Library of Standard Options</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
</table>

<hr size="6">
<a name="program-attributes"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Option-Definitions" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#usage-attributes" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Option-Definitions" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="autogen_7.html#Add_002dOns" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="autogen_0.html#Introduction" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="autogen_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="autogen_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Program-Description-Attributes"></a>
<h3 class="subsection">7.5.1 Program Description Attributes</h3>
<a name="index-program-attributes"></a>

<p>The following global definitions are used to define attributes of the entire
program.  These generally alter the configuration or global behavior of the
AutoOpts option parser.  The first two are required of every program.  The
third is required if there are to be any left over arguments (operands)
after option processing.  The rest have been grouped below.  Except as noted,
there may be only one copy of each of these definitions:
</p>
<dl compact="compact">
<dt> &lsquo;<samp>prog-name</samp>&rsquo;</dt>
<dd><a name="index-prog_002dname"></a>
<p>This attribute is required.  Variable names derived from this name
are derived using <code>string-&gt;c_name!</code> (see section <a href="autogen_2.html#SCM-string_002d_003ec_002dname_0021">&lsquo;<tt>string-&gt;c-name!</tt>&rsquo; - map non-name chars to underscore</a>).
</p>
</dd>
<dt> &lsquo;<samp>prog-title</samp>&rsquo;</dt>
<dd><a name="index-prog_002dtitle"></a>
<p>This attribute is required and may be any descriptive text.
</p>
</dd>
<dt> &lsquo;<samp>argument</samp>&rsquo;</dt>
<dd><a name="index-argument"></a>
<p>This attribute is required if your program uses operand arguments.
It specifies the syntax of the arguments that <strong>follow</strong> the options.
It may not be empty, but if it is not supplied, then option processing
must consume all the arguments.  If it is supplied and starts with an
open bracket (<code>[</code>), then there is no requirement on the presence or
absence of command line arguments following the options.  Lastly, if it
is supplied and does not start with an open bracket, then option
processing must <strong>not</strong> consume all of the command line arguments.
</p></dd>
</dl>

<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#usage-attributes">7.5.1.1 Usage and Version Info Display</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#config-attributes">7.5.1.2 Program Configuration</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#programming-attributes">7.5.1.3 Programming Details</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#presentation-attributes">7.5.1.4 User Presentation Attributes</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
</table>

<hr size="6">
<a name="usage-attributes"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#program-attributes" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#config-attributes" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#program-attributes" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="autogen_7.html#Add_002dOns" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="autogen_0.html#Introduction" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="autogen_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="autogen_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Usage-and-Version-Info-Display"></a>
<h4 class="subsubsection">7.5.1.1 Usage and Version Info Display</h4>

<p>These will affect the way usage is seen and whether or not version
information gets displayed.
</p>
<dl compact="compact">
<dt> &lsquo;<samp>full-usage</samp>&rsquo;</dt>
<dd><a name="index-full_002dusage"></a>
<p>If this attribute is provided, it may specify the full length
usage text, or a variable name assignable to a &ldquo;char const *&rdquo; pointer,
or it may be empty.  The meanings are determined by  the length.
</p><ul>
<li>
If not provided, the text will be computed as normal.
</li><li>
If the length is zero, then the usage text will be derived from
the current settings and inserted as text into the generated .c file.
</li><li>
If the length is 1 to 32 bytes, then it is presumed to be a variable
name that either points to or is an array of const chars.
</li><li>
If it is longer than that, it is presumed to be the help text itself.
This text will be inserted into the generated .c file.
</li></ul>

<p>This string should be readily translatable and provision will be made
to translate it if this is provided and the source code is compiled with
&ldquo;ENABLE_NLS&rdquo; defined.
</p>
</dd>
<dt> &lsquo;<samp>short-usage</samp>&rsquo;</dt>
<dd><a name="index-short_002dusage"></a>
<p>If this attribute is provided, it is used to specify an abbreviated
version of the usage text.  This text is constructed in the same way
as the &ldquo;full-usage&rdquo;, described above.
</p>
</dd>
<dt> &lsquo;<samp>gnu-usage</samp>&rsquo;</dt>
<dd><a name="index-gnu_002dusage"></a>
<p>AutoOpts normaly displays usage text in a format that provides more
information than the standard GNU layout, but that also means it is
not the standard GNU layout.  This attribute changes the default to
GNU layout, with the <code>AUTOOPTS_USAGE</code> environment variable used
to request <code>autoopts</code> layout.
See See section <a href="#Caveats">Developer and User Notes</a>.
</p>
</dd>
<dt> &lsquo;<samp>no-misuse-usage</samp>&rsquo;</dt>
<dd><a name="index-no_002dmisuse_002dusage-1"></a>
<p>When there is a command line syntax error, by default AutoOpts will
display the abbreviated usage text, rather than just a one line
&ldquo;you goofed it, ask for usage&rdquo; message.  You can change the default
behavior for your program by supplying this attribute.  The user may
override this choice, again, with the <code>AUTOOPTS_USAGE</code> environment
variable.  See See section <a href="#Caveats">Developer and User Notes</a>.
</p>
</dd>
<dt> &lsquo;<samp>prog-group</samp>&rsquo;</dt>
<dd><a name="index-prog_002dgroup"></a>
<p>The version text in the &lsquo;<tt>getopt.tpl</tt>&rsquo; template will include this
text in parentheses after the program name, when this attribute is specified.
For example:
</p><table><tr><td>&nbsp;</td><td><pre class="example">mumble (stumble) 1.0
</pre></td></tr></table>
<p>says that the &ldquo;<code>mumble</code>&rdquo; program is version 1.0 and is part of the
&ldquo;<code>stumble</code>&rdquo; group of programs.
</p>
</dd>
<dt> &lsquo;<samp>version</samp>&rsquo;</dt>
<dd><a name="index-version"></a>
<p>Specifies the program version and activates the VERSION option,
See section <a href="#automatic-options">Automatically Supported Options</a>.
</p></dd>
</dl>

<hr size="6">
<a name="config-attributes"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#usage-attributes" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#programming-attributes" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#program-attributes" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="autogen_7.html#Add_002dOns" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="autogen_0.html#Introduction" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="autogen_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="autogen_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Program-Configuration"></a>
<h4 class="subsubsection">7.5.1.2 Program Configuration</h4>

<p>Programs may be &ldquo;pre-configured&rdquo; before normal command line options
are processed (See see section <a href="#Immediate-Action">Immediate Action Attributes</a>).
How configuration files and environment variables are handled get
specified with these attributes.
</p>
<dl compact="compact">
<dt> &lsquo;<samp>disable-load</samp>&rsquo;</dt>
<dt> &lsquo;<samp>disable-save</samp>&rsquo;</dt>
<dd><a name="index-disable_002dload"></a>
<a name="index-disable_002dsave"></a>
<p>Indicates that the command line usage of <code>--load-opts</code> and/or
<code>--save-opts</code> are disallowed.
</p>
</dd>
<dt> &lsquo;<samp>environrc</samp>&rsquo;</dt>
<dd><a name="index-environrc"></a>
<p>Indicates looking in the environment for values of variables named,
<code>PROGRAM_OPTNAME</code> or <code>PROGRAM</code>, where <code>PROGRAM</code> is the
upper cased <code>C-name</code> of the program and <code>OPTNAME</code> is the
upper cased <code>C-name</code> of a specific option.  The contents of
the <code>PROGRAM</code> variable, if found, are tokenized and processed.
The contents of <code>PROGRAM_OPTNAME</code> environment variables are taken
as the option argument to the option nameed <code>optname</code>.
</p>
</dd>
<dt> &lsquo;<samp>homerc</samp>&rsquo;</dt>
<dd><a name="index-homerc"></a>
<p>Specifies either a directory or a file using a specific path, a path based
on an environment variable or a path relative to installation directories.
The method used depends on the first two characters of the name.  If the
first character is not the dollar character (<code>$</code>), then it is
presumed to be a path name based on the current directory.
</p>
<p>Otherwise, the method depends on the second character:
</p><dl compact="compact">
<dt> &lsquo;<samp>$</samp>&rsquo;</dt>
<dd><p>The path is relative to the directory where the executable was found.
</p></dd>
<dt> &lsquo;<samp>@</samp>&rsquo;</dt>
<dd><p>The path is relative to the package data directory, e.g.
<code>/usr/local/share/autogen</code>.
</p></dd>
<dt> &lsquo;<samp>[a-zA-Z]</samp>&rsquo;</dt>
<dd><p>The path is derived from the named environment variable.
</p></dd>
</dl>

<p>Use as many as you like.  The presence of this attribute
activates the <code>--save-opts</code> and <code>--load-opts</code> options.
See the <code>optionMakePath(3AGEN)</code> man page for excruciating details.
See section <a href="#loading-rcfile">configuration file presets</a>.
</p>
</dd>
<dt> &lsquo;<samp>rcfile</samp>&rsquo;</dt>
<dd><a name="index-rcfile"></a>
<p>Specifies the configuration file name.  This is only useful if you
have provided at least one <code>homerc</code> attribute.
default: .&lt;prog-name&gt;rc
</p></dd>
</dl>

<hr size="6">
<a name="programming-attributes"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#config-attributes" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#presentation-attributes" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#program-attributes" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="autogen_7.html#Add_002dOns" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="autogen_0.html#Introduction" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="autogen_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="autogen_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Programming-Details"></a>
<h4 class="subsubsection">7.5.1.3 Programming Details</h4>

<p>These attributes affect some of the ways that the option data are
used and made available to the program.
</p>
<dl compact="compact">
<dt> &lsquo;<samp>config-header</samp>&rsquo;</dt>
<dd><a name="index-config_002dheader"></a>
<p>The contents of this attribute should be just the name of the configuration
file.  A &quot;#include&quot; naming this file will be inserted at the top of the
generated header.
</p>
</dd>
<dt> &lsquo;<samp>exit-name</samp>&rsquo;</dt>
<dt> &lsquo;<samp>exit-desc</samp>&rsquo;</dt>
<dd><a name="index-exit_002dname"></a>
<a name="index-exit_002ddesc"></a>
<p>These values should be defined as indexed values, thus:
</p><table><tr><td>&nbsp;</td><td><pre class="example">exit-name[0] = success;
exit-desc[0] = 'Successful program execution.';
exit-name[1] = failure;
exit-desc[1] = 'The operation failed or command syntax was not valid.';
</pre></td></tr></table>
<p>By default, all programs have these effectively defined for them.
They may be overridden by explicitly defining any or all of these values.
Additional names and descriptions may be defined.
They will cause an enumeration to be emitted, like this one
for <code>getdefs</code>:
</p><table><tr><td>&nbsp;</td><td><pre class="example">typedef enum {
    GETDEFS_EXIT_SUCCESS = 0,
    GETDEFS_EXIT_FAILURE = 1
} getdefs_exit_code_t;
</pre></td></tr></table>
<p>which will be augmented by any <code>exit-name</code> definitions beyond &ldquo;1&rdquo;.
</p>
</dd>
<dt> &lsquo;<samp>usage-message</samp>&rsquo;</dt>
<dd><a name="index-usage_002dmessage"></a>
<p>This attribute will cause two procedures to be added to the code file:
<code>usage_message</code> and <code>vusage_message</code>, with any applicable prefix
(see <code>prefix</code>, below).  They are declared in the
generated header, thus:
</p><table><tr><td>&nbsp;</td><td><pre class="example">extern void vusage_message(char const * fmt, va_list ap);
extern void usage_message(char const * fmt, ...);
</pre></td></tr></table>
<p>These functions print the message to &lsquo;<tt>stderr</tt>&rsquo; and invoke the usage
function with the exit code set to <code>1</code> (<code>EXIT_FAILURE</code>).
</p>
</dd>
<dt> &lsquo;<samp>export</samp>&rsquo;</dt>
<dd><a name="index-export"></a>
<p>This string is inserted into the .h interface file.  Generally used for
global variables or <code>#include</code> directives required by
<code>flag-code</code> text and shared with other program text.
Do not specify your configuration header (&lsquo;<tt>config.h</tt>&rsquo;) in this
attribute or the <code>include</code> attribute, however.  Instead, use
<code>config-header</code>, above.
</p>
</dd>
<dt> &lsquo;<samp>guard-option-names</samp>&rsquo;</dt>
<dd><a name="index-guard_002doption_002dnames"></a>
<p>AutoOpts generates macros that presume that there are no <code>cpp</code> macros
with the same name as the option name.  For example, if you have an option
named, <code>debug</code>, then you must not use <code>#ifdef DEBUG</code> in your code.
If you specify this attribute, every option name will be guarded.  If the name
is <code>#define</code>-d, then a warning will be issued and the name undefined.
If you do not specify this and there is a conflict, you will get strange
error messages.
</p>
<p>This attribute may be set to any of four recognized states:
</p>
<ul>
<li>
Not defined.  AutoOpts will behave as described above.

</li><li>
Defined, but set to the empty string.  Text will be emitted into the header
to undefine (<code>#undef</code>) any conflicting preprocessor macros.  The code
will include compiler warnings (via <code>#warning</code>).  Some compilers are
not ANSI-C-99 compliant yet and will error out on those warnings.  You may
compile with <code>-DNO_OPTION_NAME_WARNINGS</code> to silence or mostly silence
them.

</li><li>
Defined and set to the string, &ldquo;<code>no-warning</code>&rdquo;.  All of the needed
<code>#undef</code>s will be emitted, without any conflict checking <code>#warning</code>
directives emitted.

</li><li>
Defined and set to the string, &ldquo;<code>full-enum</code>&rdquo;.  The option manipulation
preprocessor macros will not token paste the option names to the index
enumeration prefix.  e.g. you will need to use <code>HAVE_OPT(INDEX_OPT_DEBUG)</code>
instead of <code>HAVE_OPT(DEBUG)</code>.
</li></ul>

</dd>
<dt> &lsquo;<samp>include</samp>&rsquo;</dt>
<dd><a name="index-include"></a>
<p>This string is inserted into the .c file.  Generally used for global
variables required only by <code>flag-code</code> program text.
</p>
</dd>
<dt> &lsquo;<samp>no-libopts</samp>&rsquo;</dt>
<dd><a name="index-no_002dlibopts"></a>
<p>If you are going to handle your option processing with the <code>getopt.tpl</code>
template instead of using libopts, then specify this attribute.  It will
suppress mention of <code>--more-help</code> in the generated documentation.
(<code>getopt_long</code> does not support <code>--more-help</code>.)
</p>
</dd>
<dt> &lsquo;<samp>prefix</samp>&rsquo;</dt>
<dd><a name="index-prefix-1"></a>
<p>This value is inserted into <strong>all</strong> global names.  This will
disambiguate them if more than one set of options are to be compiled
into a single program.
</p></dd>
</dl>

<hr size="6">
<a name="presentation-attributes"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#programming-attributes" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#library-attributes" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#program-attributes" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="autogen_7.html#Add_002dOns" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="autogen_0.html#Introduction" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="autogen_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="autogen_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="User-Presentation-Attributes"></a>
<h4 class="subsubsection">7.5.1.4 User Presentation Attributes</h4>

<p>Attributes that affect the user&rsquo;s experience.
</p>
<dl compact="compact">
<dt> &lsquo;<samp>allow-errors</samp>&rsquo;</dt>
<dd><a name="index-allow_002derrors"></a>
<p>The presence of this attribute indicates ignoring any command line
option errors.  This may also be turned on and off by invoking the
macros <code>ERRSKIP_OPTERR</code> and <code>ERRSTOP_OPTERR</code> from the
generated interface file.
</p>
</dd>
<dt> &lsquo;<samp>long-opts</samp>&rsquo;</dt>
<dd><a name="index-long_002dopts"></a>
<a name="index-named-option-mode"></a>
<p>Presence indicates GNU-standard long option processing.  Partial name
matches are accepted, if they are at least two characters long and the
partial match is unique.  The matching is not case sensitive, and the
underscore, hyphen and carat characters are all equivalent (they match).
</p>
<p>If any options do not have an option value (flag character) specified,
and least one does specify such a value, then you must specify
<code>long-opts</code>.  If none of your options specify an option value
(flag character) and you do not specify <code>long-opts</code>, then command
line arguments are processed in &quot;named option mode&quot;.  This means that:
</p>
<ul>
<li>
Every command line argument must be a long option.
</li><li>
The flag markers <code>-</code> and <code>--</code> are completely optional.
</li><li>
The <code>argument</code> program attribute is disallowed.
</li><li>
One of the options may be specified as the default
(as long as it has a required option argument).
</li></ul>

</dd>
<dt> &lsquo;<samp>no-xlate</samp>&rsquo;</dt>
<dd><a name="index-no_002dxlate"></a>
<p>Modifies when or whether option names get translated.  If provided,
it must be assigned one of two values:
</p><dl compact="compact">
<dt> &lsquo;<samp>opt-cfg</samp>&rsquo;</dt>
<dd><p>to suppress option name translation for configuration file and and environment
variable processing.
</p></dd>
<dt> &lsquo;<samp>opt</samp>&rsquo;</dt>
<dd><p>to suppress option name translation completely.  The usage text will
always be translated if <code>ENABLE_NLS</code> is defined and you have
translations for that text.
</p></dd>
</dl>
<p>See also the various &ldquo;<code>XLAT</code>&rdquo; interface entries in the
AutoOpts Programmatic Interface section (see section <a href="#AutoOpts-API">Programmatic Interface</a>).
</p>
</dd>
<dt> &lsquo;<samp>reorder-args</samp>&rsquo;</dt>
<dd><a name="index-reorder_002dargs"></a>
<p>Normally, POSIX compliant commands do not allow for options to be interleaved
with operands.  If this is necessary for historical reasons, there are two
approaches available:
</p><ul>
<li>
Allow <code>optionProcess</code> to return the index of the operand like it normally
does and process the operand(s).  When an operand is encountered that starts
with a hyphen, then set the AutoOpts current index with the <code>RESTART_OPT</code>
macro (see see section <a href="#RESTART_005fOPT">RESTART_OPT( n ) - Resume Option Processing</a>), and re-invoke <code>optionProcess</code>.  This will
also allow you to process the operands in context.

</li><li>
Specify this attribute.  AutoOpts will re-order the command arguments
so that the operands appear (in the original order) at the end of
the argument list.  Differing configuration state is not possible
to detect after all options have been processed.
</li></ul>

</dd>
<dt> &lsquo;<samp>resettable</samp>&rsquo;</dt>
<dd><a name="index-resettable"></a>
<p>Specifies that the <code>--reset-option</code> command line option is to be supported.
This makes it possible to suppress any setting that might be found in
a configuration file or environment variable.
</p></dd>
</dl>

<hr size="6">
<a name="library-attributes"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#presentation-attributes" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#lib-and-program" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Option-Definitions" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="autogen_7.html#Add_002dOns" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="autogen_0.html#Introduction" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="autogen_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="autogen_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Options-for-Library-Code"></a>
<h3 class="subsection">7.5.2 Options for Library Code</h3>
<a name="index-library-attributes"></a>

<p>Some libraries provide their own code for processing command line
options, and this may be used by programs that utilize AutoOpts.
You may also wish to write a library that gets configured with AutoOpts
options and config files.  Such a library may either supply its own
configury routine and process its own options, or it may export its
option descriptions to programs that also use AutoOpts.  This section
will describe how to do all of these different things.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#lib-and-program">7.5.2.1 AutoOpt-ed Library for AutoOpt-ed Program</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#lib-called">7.5.2.2 AutoOpt-ed Library for Regular Program</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#prog-calls-lib">7.5.2.3 AutoOpt-ed Program Calls Regular Library</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
</table>

<hr size="6">
<a name="lib-and-program"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#library-attributes" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#lib-called" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#library-attributes" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="autogen_7.html#Add_002dOns" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="autogen_0.html#Introduction" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="autogen_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="autogen_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="AutoOpt_002ded-Library-for-AutoOpt_002ded-Program"></a>
<h4 class="subsubsection">7.5.2.1 AutoOpt-ed Library for AutoOpt-ed Program</h4>

<p>The library source code must provide an option definition file that consists
of only the attribute <code>library</code>
<a name="index-library"></a>
and <code>flag</code> entries.  The &ldquo;library&rdquo; attribute does not need any
associated value, so it will generally appeary by itself on a line folowed
by a semi-colon.  The first <code>flag</code> entry must contain the following
attributes:
</p>
<dl compact="compact">
<dt> &lsquo;<samp>name</samp>&rsquo;</dt>
<dd><p>This name is used in the construction of a global pointer of type
<code>tOptDesc const*</code>.  It is always required.
</p></dd>
<dt> &lsquo;<samp>documentation</samp>&rsquo;</dt>
<dd><a name="index-documentation"></a>
<p>It tells <code>AutoOpts</code> that this option serves no normal purpose.
It will be used to add usage clarity and to locate option descriptors
in the library code.
</p></dd>
<dt> &lsquo;<samp>descrip</samp>&rsquo;</dt>
<dd><p>This is a string that is inserted in the extended usage display
before the options specific to the current library.  It is always required.
</p></dd>
<dt> &lsquo;<samp>lib-name</samp>&rsquo;</dt>
<dd><a name="index-lib_002dname"></a>
<p>This should match the name of the library.  This string is also used in
the construction of the option descriptor pointer name.  In the end, it
looks like this:
</p><table><tr><td>&nbsp;</td><td><pre class="example">extern tOptDesc const* &lt;&lt;lib-name&gt;&gt;_&lt;&lt;name&gt;&gt;_optDesc_p;
</pre></td></tr></table>
<p>and is used in the macros generated for the library&rsquo;s <code>.h</code> file.
</p></dd>
</dl>

<p>In order to compile this <code>AutoOpts</code> using library, you must create a
special header that is not used by the client program.  This is accomplished
by creating an option definition file that contains essentially exactly the
following:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">AutoGen definitions options;
prog-name  = does-not-matter;  // but is always required
prog-title = 'also does not matter';  // also required
config-header = 'config.h'; // optional, but common
library;
#include library-options-only.def
</pre></td></tr></table>

<p>and nothing else.  AutoGen will produce only the <code>.h</code> file.
You may now compile your library, referencing just this <code>.h</code> file.
The macros it creates will utilize a global variable that will be defined
by the <code>AutoOpts</code>-using client program.  That program will need to
have the following <code>#include</code> in <i>its</i> option definition file:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">#include library-options-only.def
</pre></td></tr></table>

<p>All the right things will magically happen so that the global variables
named <code>&lt;&lt;lib-name&gt;&gt;_&lt;&lt;name&gt;&gt;_optDesc_p</code> are initialized correctly.
For an example, please see the <code>AutoOpts</code> test script:
&lsquo;<tt>autoopts/test/library.test</tt>&rsquo;.
</p>
<hr size="6">
<a name="lib-called"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#lib-and-program" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#prog-calls-lib" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#library-attributes" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="autogen_7.html#Add_002dOns" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="autogen_0.html#Introduction" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="autogen_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="autogen_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="AutoOpt_002ded-Library-for-Regular-Program"></a>
<h4 class="subsubsection">7.5.2.2 AutoOpt-ed Library for Regular Program</h4>

<p>In this case, your library must provide an option processing function
to a calling program.  This is accomplished by setting the <code>allow-errors</code>
global option attribute.  Each time your option handling function is called,
you must determine where your scan is to resume and tell the AutoOpts library
by invoking:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">RESTART_OPT(next_arg_index);
</pre></td></tr></table>

<p>and then invoke <code>not_opt_index = optionProcess(...)</code>.
The <code>not_opt_index</code> value can be used to set <code>optind</code>,
if that is the global being used to scan the program argument array.
</p>
<p>In this method, do <strong>NOT</strong> utilize the global <code>library</code> attribute.
Your library must specify its options as if it were a complete program.
You may choose to specify an alternate <code>usage()</code> function so that
usage for other parts of the option interface may be displayed as well.
See &ldquo;Program Information Attributes&rdquo; (see section <a href="#information-attributes">Program Information Attributes</a>).
</p>
<p>At the moment, there is no method for calling <code>optionUsage()</code> telling
it to produce just the information about the options and not the program
as a whole.  Some later revision after somebody asks.
</p>
<hr size="6">
<a name="prog-calls-lib"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#lib-called" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#information-attributes" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#library-attributes" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="autogen_7.html#Add_002dOns" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="autogen_0.html#Introduction" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="autogen_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="autogen_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="AutoOpt_002ded-Program-Calls-Regular-Library"></a>
<h4 class="subsubsection">7.5.2.3 AutoOpt-ed Program Calls Regular Library</h4>

<p>As with providing an <code>AutoOpt</code>-ed library to a non-<code>AutoOpt</code>-ed
program, you must write the option description file as if you were writing
all the options for the program, but you should specify the
<code>allow-errors</code> global option attribute and you will likely want an
alternate <code>usage()</code> function (see &ldquo;Program Information Attributes&rdquo;
see section <a href="#information-attributes">Program Information Attributes</a>).  In this case, though, when
<code>optionProcess()</code> returns, you need to test to see if there might be
library options.  If there might be, then call the library&rsquo;s exported
routine for handling command line options, set the next-option-to-process
with the <code>RESTART_OPT()</code> macro, and recall <code>optionProcess()</code>.
Repeat until done.
</p>
<hr size="6">
<a name="information-attributes"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#prog-calls-lib" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Generated-main" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Option-Definitions" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="autogen_7.html#Add_002dOns" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="autogen_0.html#Introduction" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="autogen_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="autogen_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Program-Information-Attributes"></a>
<h3 class="subsection">7.5.3 Program Information Attributes</h3>
<a name="index-information-attributes"></a>

<p>These attributes are used to define how and what information is displayed
to the user of the program.
</p>
<dl compact="compact">
<dt> &lsquo;<samp>copyright</samp>&rsquo;</dt>
<dd><a name="index-copyright"></a>
<p>The <code>copyright</code> is a structured value containing three to five
values.  If <code>copyright</code> is used, then the first three are required.
</p>
<ol>
<li>
<a name="index-date"></a>
&lsquo;<tt>date</tt>&rsquo; - the list of applicable dates for the copyright.
</li><li>
<a name="index-owner"></a>
&lsquo;<tt>owner</tt>&rsquo; - the name of the copyright holder.
</li><li>
<a name="index-type"></a>
&lsquo;<tt>type</tt>&rsquo; - specifies the type of distribution license.
AutoOpts/AutoGen will automatically support the text of the GNU Public
License (&lsquo;<tt>GPL</tt>&rsquo;), the GNU General Public License with Library extensions
(&lsquo;<tt>LGPL</tt>&rsquo;), the Free BSD license (&lsquo;<tt>BSD</tt>&rsquo;), and a
write-it-yourself copyright notice (&lsquo;<tt>NOTE</tt>&rsquo;).  Only these values are
recognized.
</li><li>
<a name="index-text"></a>
&lsquo;<tt>text</tt>&rsquo; - the text of the copyright notice.  It is only needed
if &lsquo;<tt>type</tt>&rsquo; is set to &lsquo;<tt>NOTE</tt>&rsquo;.
</li><li>
<a name="index-author"></a>
&lsquo;<tt>author</tt>&rsquo; - in case the author name is to appear in the documentation
and is different from the copyright owner.
</li><li>
<a name="index-eaddr"></a>
&lsquo;<tt>eaddr</tt>&rsquo; - email address for receiving praises and complaints.
Typically that of the author or copyright holder.
</li></ol>
<br>
<p>An example of this might be:
</p><table><tr><td>&nbsp;</td><td><pre class="example">copyright = {
    date  = &quot;1992-2008&quot;;
    owner = &quot;Bruce Korb&quot;;
    eaddr = 'bkorb@gnu.org';
    type  = GPL;
};
</pre></td></tr></table>

</dd>
<dt> &lsquo;<samp>detail</samp>&rsquo;</dt>
<dd><a name="index-detail"></a>
<p>This string is added to the usage output when the HELP option is
selected.
</p>
</dd>
<dt> &lsquo;<samp>explain</samp>&rsquo;</dt>
<dd><a name="index-explain"></a>
<p>Gives additional information whenever the usage routine is invoked.
</p>
</dd>
<dt> &lsquo;<samp>package</samp>&rsquo;</dt>
<dd><a name="index-package"></a>
<p>The name of the package the program belongs to.  This will appear
parenthetically after the program name in the version and usage output,
e.g.:  <code>autogen <i>(GNU autogen)</i> - The Automated Program Generator</code>.
</p>
</dd>
<dt> &lsquo;<samp>preserve-case</samp>&rsquo;</dt>
<dd><a name="index-preserve_002dcase"></a>
<p>This attribute will not change anything except appearance.
Normally, the option names are all documented in lower case.
However, if you specify this attribute, then they will display
in the case used in their specification.  Command line options
will still be matched without case sensitivity.
</p>
</dd>
<dt> &lsquo;<samp>prog-desc <strong>and</strong></samp>&rsquo;</dt>
<dt> &lsquo;<samp>opts-ptr</samp>&rsquo;</dt>
<dd><a name="index-prog_002ddesc"></a>
<a name="index-opts_002dptr"></a>
<p>These define global pointer variables that point to the program
descriptor and the first option descriptor for a library option.  This
is intended for use by certain libraries that need command line and/or
initialization file option processing.  These definitions have no effect
on the option template output, but are used for creating a library
interface file.  Normally, the first &quot;option&quot; for a library will be a
documentation option that cannot be specified on the command line, but
is marked as <code>settable</code>.  The library client program will invoke the
<code>SET_OPTION</code> macro which will invoke a handler function that will
finally set these global variables.
</p>
</dd>
<dt> &lsquo;<samp>usage</samp>&rsquo;</dt>
<dd><a name="index-usage"></a>
<p>Optionally names the usage procedure, if the library routine
<code>optionUsage()</code> does not work for you.  If you specify
<code>my_usage</code> as the value of this attribute, for example, you will
use a procedure by that name for displaying usage.  Of course, you will
need to provide that procedure and it must conform to this profile:
</p><table><tr><td>&nbsp;</td><td><pre class="example">void <i>my_usage</i>( tOptions* pOptions, int exitCode )
</pre></td></tr></table>

</dd>
<dt> &lsquo;<samp>gnu-usage</samp>&rsquo;</dt>
<dd><a name="index-gnu_002dusage-1"></a>
<p>Normally, the default format produced by the <code>optionUsage</code> procedure
is <i>AutoOpts Standard</i>.  By specifying this attribute, the default format
will be <i>GNU-ish style</i>.  Either default may be overridden by the user with
the <code>AUTOOPTS_USAGE</code> environment variable.  If it is set to <code>gnu</code>
or <code>autoopts</code>, it will alter the style appropriately.  This attribute
will conflict with the <code>usage</code> attribute.
</p>
</dd>
<dt> &lsquo;<samp>reorder-args</samp>&rsquo;</dt>
<dd><a name="index-reorder_002dargs-1"></a>
<p>Some applications traditionally require that the command operands be
intermixed with the command options.  In order to handle that, the arguments
must be reordered.  If you are writing such an application, specify this
global option.  All of the options (and any associated option arguments)
will be brought to the beginning of the argument list.  New applications
should not use this feature, if at all possible.  This feature is
<i>disabled</i> if <code>POSIXLY_CORRECT</code> is defined in the environment.
</p></dd>
</dl>

<hr size="6">
<a name="Generated-main"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#information-attributes" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#main-guile" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Option-Definitions" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="autogen_7.html#Add_002dOns" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="autogen_0.html#Introduction" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="autogen_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="autogen_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Generating-main-procedures"></a>
<h3 class="subsection">7.5.4 Generating main procedures</h3>
<a name="index-main-procedure"></a>

<p>When AutoOpts generates the code to parse the command line options, it has
the ability to produce any of several types of <code>main()</code> procedures.
This is done by specifying a global structured value for
<a name="index-main"></a>
<code>main</code>.  The values that it contains are dependent on the value set for
the one value it must have: <code>main-type</code>.
</p>
<a name="index-main_002dtype"></a>
<p>The recognized values for <code>main-type</code> are:
</p><table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#main-guile">7.5.4.1 guile: main and inner_main procedures</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#main-shell_002dprocess">7.5.4.2 shell-process: emit Bourne shell results</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#main-shell_002dparser">7.5.4.3 shell-parser: emit Bourne shell script</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#main-main">7.5.4.4 main: user supplied main procedure</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#main-include">7.5.4.5 include: code emitted from included template</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#main-invoke">7.5.4.6 invoke: code emitted from AutoGen macro</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#main-for_002deach">7.5.4.7 for-each: perform function on each argument</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
</table>

<p>Here is an example of an <code>include</code> variation:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">main = {
  main-type = include;
  tpl       = &quot;main-template.tpl&quot;;
};
</pre></td></tr></table>

<hr size="6">
<a name="main-guile"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Generated-main" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#main-shell_002dprocess" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Generated-main" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="autogen_7.html#Add_002dOns" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="autogen_0.html#Introduction" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="autogen_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="autogen_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="guile_003a-main-and-inner_005fmain-procedures"></a>
<h4 class="subsubsection">7.5.4.1 guile: main and inner_main procedures</h4>

<p>When the <code>main-type</code> is specified to be <code>guile</code>,
a <code>main()</code> procedure is generated that calls <code>gh_enter()</code>, providing
it with a generated <code>inner_main()</code> to invoke.  If you must perform
certain tasks before calling <code>gh_enter()</code>, you may specify such code
in the value for the
<a name="index-before_002dguile_002dboot"></a>
<code>before-guile-boot</code> attribute.
</p>
<p>The <code>inner_main()</code> procedure itself will process the command line
arguments (by calling <code>optionProcess()</code>,
see section <a href="#libopts_002doptionProcess">optionProcess</a>), and then either invoke the code
specified with the
<a name="index-guile_002dmain"></a>
<code>guile-main</code> attribute, or else export the parsed options to Guile
symbols and invoke the <code>scm_shell()</code> function from the Guile library.
This latter will render the program nearly identical to the stock
<code>guile(1)</code> program.
</p>
<hr size="6">
<a name="main-shell_002dprocess"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#main-guile" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#main-shell_002dparser" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Generated-main" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="autogen_7.html#Add_002dOns" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="autogen_0.html#Introduction" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="autogen_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="autogen_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="shell_002dprocess_003a-emit-Bourne-shell-results"></a>
<h4 class="subsubsection">7.5.4.2 shell-process: emit Bourne shell results</h4>

<p>This will produce a <code>main()</code> procedure that parses the command line
options and emits to &lsquo;<tt>stdout</tt>&rsquo; Bourne shell commands that puts the
option state into environment variables.  This can be used within a
shell script as follows:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">unset OPTION_CT
eval &quot;`opt_parser \&quot;$@\&quot;`&quot;
test -z &quot;${OPTION_CT}&quot; &amp;&amp; exit 1
test ${OPTION_CT} -gt 0 &amp;&amp; shift ${OPTION_CT}
</pre></td></tr></table>

<p>If the option parsing code detects an error or a request for usage,
it will not emit an assignment to OPTION_CT and the script should just
exit.  If the options are set consistently, then something along the
lines of the following will be written to &lsquo;<tt>stdout</tt>&rsquo; and evaled:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">    OPTION_CT=4
    export OPTION_CT
    MYPROG_SECOND='first'
    export MYPROG_SECOND
    MYPROG_ANOTHER=1 # 0x1
    export MYPROG_ANOTHER
</pre></td></tr></table>

<p>If the arguments are to be reordered, however, then the resulting set
of operands will be emitted and <code>OPTION_CT</code> gets set to zero.
For example, the following would be appended to the above:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">    set -- 'operand1' 'operand2' 'operand3'
    OPTION_CT=0
</pre></td></tr></table>

<p><code>OPTION_CT</code> is set to zero since it is not necessary to shift
off any options.
</p>
<hr size="6">
<a name="main-shell_002dparser"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#main-shell_002dprocess" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#main-main" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Generated-main" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="autogen_7.html#Add_002dOns" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="autogen_0.html#Introduction" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="autogen_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="autogen_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="shell_002dparser_003a-emit-Bourne-shell-script"></a>
<h4 class="subsubsection">7.5.4.3 shell-parser: emit Bourne shell script</h4>

<p>This will produce a <code>main()</code> procedure that emits a shell script
that will parse the command line options.  That script can be emitted
to &lsquo;<tt>stdout</tt>&rsquo; or inserted or substituted into a pre-existing shell
script file.  Improbable markers are used to identify previously inserted
parsing text:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example"># # # # # # # # # # -- do not modify this marker --
</pre></td></tr></table>

<p>The program is also pretty insistent upon starting its parsing script
on the second line.
</p>
<hr size="6">
<a name="main-main"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#main-shell_002dparser" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#main-include" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Generated-main" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="autogen_7.html#Add_002dOns" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="autogen_0.html#Introduction" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="autogen_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="autogen_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="main_003a-user-supplied-main-procedure"></a>
<h4 class="subsubsection">7.5.4.4 main: user supplied main procedure</h4>

<p>You must supply a value for the <code>main-text</code> attribute.
You may also supply a value for
<a name="index-option_002dcode"></a>
<code>option-code</code>.  If you do, then the <code>optionProcess</code> invocation
will not be emitted into the code.  AutoOpts will wrap the <code>main-text</code>
inside of:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">int
main( int argc, char** argv )
{
    { // replaced by option-code, if that exists
        int ct = optionProcess( &amp;&lt;&lt;prog-name&gt;&gt;Options, argc, argv );
        argc -= ct;
        argv += ct;
    }
&lt;&lt;your main-text goes here&gt;&gt;
}
</pre></td></tr></table>

<p>so you can most conveniently set the value with a &ldquo;<code>here string</code>&rdquo;
(see section <a href="autogen_1.html#here_002dstring">A Here String</a>):
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">code = &lt;&lt;- _EndOfMainProc_
	&lt;&lt;your text goes here&gt;&gt;
	_EndOfMainProc_;
</pre></td></tr></table>

<hr size="6">
<a name="main-include"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#main-main" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#main-invoke" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Generated-main" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="autogen_7.html#Add_002dOns" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="autogen_0.html#Introduction" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="autogen_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="autogen_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="include_003a-code-emitted-from-included-template"></a>
<h4 class="subsubsection">7.5.4.5 include: code emitted from included template</h4>

<p>You must write a template to produce your main procedure.
You specify the name of the template with the <code>tpl</code> attribute
and it will be incorporated at the point where AutoOpts is ready
to emit the <code>main()</code> procedure.
</p>
<p>This can be very useful if, in your working environment, you have
many programs with highly similar <code>main()</code> procedures.  All you need
to do is parameterize the variations and specify which variant is needed
within the <code>main</code> AutoOpts specification.  Since you are coding
the template for this, the attributes needed for this variation would
be dictated by your template.
</p>
<hr size="6">
<a name="main-invoke"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#main-include" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#main-for_002deach" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Generated-main" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="autogen_7.html#Add_002dOns" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="autogen_0.html#Introduction" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="autogen_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="autogen_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="invoke_003a-code-emitted-from-AutoGen-macro"></a>
<h4 class="subsubsection">7.5.4.6 invoke: code emitted from AutoGen macro</h4>

<p>You must write a template to produce your main procedure.  That template
must contain a definition for the function specified with the <code>func</code>
attribute to this <code>main()</code> procedure specification.  Typically, this
template will be incorporated by using the <code>--lib-template</code> option
(see section <a href="autogen_4.html#autogen-lib_002dtemplate">lib-template option (-l)</a>) in the AutoGen invocation.  Otherwise, this
variation operates in much the same way as &ldquo;<code>include</code>&rdquo;
(see section <a href="#main-include">include: code emitted from included template</a>) method.
</p>
<hr size="6">
<a name="main-for_002deach"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#main-invoke" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#option-attributes" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Generated-main" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="autogen_7.html#Add_002dOns" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="autogen_0.html#Introduction" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="autogen_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="autogen_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="for_002deach_003a-perform-function-on-each-argument"></a>
<h4 class="subsubsection">7.5.4.7 for-each: perform function on each argument</h4>

<p>This produces a main procedure that invokes a procedure once for each operand
on the command line (non-option arguments), <strong>OR</strong> once for each
non-blank, non-comment <code>stdin</code> input line.  Leading and trailing white
space is trimmed from the input line and comment lines are lines that are
empty or begin with a comment character, defaulting to a hash (&rsquo;#&rsquo;) character.
</p>
<p><strong>NB</strong>:
The <code>argument</code> program attribute (see section <a href="#program-attributes">Program Description Attributes</a>)
must begin with the <code>[</code> character, to indicate that there are
command operands, but that they are optional.
</p>
<p>There are a number of attributes to <code>main</code> that may be used:
</p>
<dl compact="compact">
<dt>  <code>handler-proc</code></dt>
<dd><a name="index-handler_002dproc"></a>
<p>This attribute is required.  It is used to name the procedure to call.
That procedure is presumed to be external, but if you provide the code
for it, then the procedure is emitted as a static procedure in the
generated code.
</p>
<p>This procedure should return 0 on success, a cumulative error code on warning
and exit without returning on an unrecoverable error.  As the cumulative
warning codes are <i>or</i>-ed together, the codes should be some sort of bit
mask in order to be ultimately decipherable (if you need to do that).
</p>
<p>If the called procedure needs to cause a fail-exit, it is expected to call
<code>exit(3)</code> directly.  If you want to cause a warning exit code, then this
handler function should return a non-zero status.  That value will be
<strong>OR</strong>-ed into a result integer for computing the final exit code.  E.g.,
here is part of the emitted code:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">  int res = 0;
  if (argc &gt; 0) {
     do  {
         res |= <i>my_handler</i>( *(argv++) );
     } while (--argc &gt; 0);
  } else { ...
</pre></td></tr></table>

</dd>
<dt> <code>handler-type</code></dt>
<dd><a name="index-handler_002dtype"></a>
<p>If you do not supply this attribute, your handler procedure must be
the default type.  The profile of the procedure must be:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">int <i>my_handler</i>( char const *pz_entry );
</pre></td></tr></table>

<p>However, if you do supply this attribute, you may set the value to any of
four alternate flavors:
</p>
<dl compact="compact">
<dt> &lsquo;<samp>name-of-file</samp>&rsquo;</dt>
<dd><p>This is essentially the same as the default handler type, except that before
your procedure is invoked, the generated code has verified that the string
names an existing file.  The profile is unchanged.
</p>
</dd>
<dt> &lsquo;<samp>file-X</samp>&rsquo;</dt>
<dd><p>Before calling your procedure, the file is f-opened according to the &ldquo;X&rdquo;,
where &ldquo;X&rdquo; may be any of the legal modes for <code>fopen(3C)</code>.  In this case,
the profile for your procedure must be:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">int <i>my_handler</i>( char const* pz_fname, FILE* entry_fp );
</pre></td></tr></table>

</dd>
<dt>  &lsquo;<samp>text-of-file</samp>&rsquo;</dt>
<dt> &lsquo;<samp>some-text-of-file</samp>&rsquo;</dt>
<dd><p>Before calling your procedure, the contents of the file are read or mapped into memory.
(Excessively large files may cause problems.)  The &lsquo;<samp>some-text-of-file</samp>&rsquo;
disallows empty files.  Both require regular files.  In this case, the profile
for your procedure must be:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">program_exit_code_t
<i>my_handler</i>(char const* pz_fname, char* file_text,
           size_t text_size);
</pre></td></tr></table>

<p>Note that though the <code>file_text</code> is not <code>const</code>, any changes made to
it are not written back to the original file.  It is merely a memory image of
the file contents.  Also, the memory allocated to hold the text is
<code>text_size + 1</code> bytes long and the final byte is always <code>NUL</code>.
The file contents need not be text, as the data are read with the <code>read(2)</code>
system call.
</p></dd>
</dl>

<p>If you select one of these file type handlers, then on access or usage errors
the <code>PROGRAM_EXIT_FAILURE</code> exit code will, by default, be or-ed
into the final exit code.  This can be changed by specifying the
global <code>file-fail-code</code> attribute and naming a different value.
That is, something other than <code>failure</code>.  You may choose <code>success</code>,
in which case file access issues will not affect the exit code and the error
message will not be printed.
</p>
</dd>
<dt> <code><i>my_handler</i>-code</code></dt>
<dd><a name="index-MYHANDLER_002dcode"></a>
<p>With this attribute, you provide the code for your handler procedure
in the option definition file.  In this case, your <code>main()</code>
procedure specification might look something like this:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">main = {
  main-type    = for-each;
  handler-proc = <i>my_handler</i>;
  <i>my_handler</i>-code = &lt;&lt;- EndOfMyCode
	/* whatever you want to do */
	EndOfMyCode;
};
</pre></td></tr></table>

<p>and instead of an emitted external reference, a procedure will be emitted
that looks like this:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">static int
<i>my_handler</i>( char const* pz_entry )
{
    int res = 0;
    &lt;&lt;<i>my_handler</i>-code goes here&gt;&gt;
    return res;
}
</pre></td></tr></table>

</dd>
<dt> <code>main-init</code></dt>
<dd><a name="index-main_002dinit"></a>
<p>This is code that gets inserted after the options have been processed, but
before the handler procs get invoked.
</p>
</dd>
<dt> <code>main-fini</code></dt>
<dd><a name="index-main_002dfini"></a>
<p>This is code that gets inserted after all the entries have been processed,
just before returning from <code>main()</code>.
</p>
</dd>
<dt> <code>comment-char</code></dt>
<dd><a name="index-comment_002dchar"></a>
<p>If you wish comment lines to start with a character other than a hash
(<code>#</code>) character, then specify one character with this attribute.
If that character is the <code>NUL</code> byte, then only blank lines will be
considered comments.
</p></dd>
</dl>

<hr size="6">
<a name="option-attributes"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#main-for_002deach" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Required-Attributes" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Option-Definitions" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="autogen_7.html#Add_002dOns" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="autogen_0.html#Introduction" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="autogen_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="autogen_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Option-Attributes"></a>
<h3 class="subsection">7.5.5 Option Attributes</h3>
<a name="index-option-attributes"></a>

<p>For each option you wish to specify, you must have a block macro named
<code>flag</code> defined.  There are two required attributes: <code>name</code> and
<code>descrip</code>.  If any options do not have a <code>value</code> (traditional flag
character) attribute, then the <code>long-opts</code> program attribute must also
be defined.  As a special exception, if no options have a <code>value</code>
<strong>and</strong> <code>long-opts</code> is not defined <strong>and</strong> <code>argument</code> is
not defined, then all arguments to the program are named options.  In this
case, the <code>-</code> and <code>--</code> command line option markers are optional.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#Required-Attributes">7.5.5.1 Required Attributes</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#Common-Attributes">7.5.5.2 Common Option Attributes</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#Immediate-Action">7.5.5.3 Immediate Action Attributes</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#Option-Conflict-Attributes">7.5.5.4 Option Conflict Attributes</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">
These option attributes do not fit well with the above categories.

</pre></th></tr><tr><td align="left" valign="top"><a href="#opt_002dattr-settable">7.5.5.5 Program may set option</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#opt_002dattr-no_002dpreset">7.5.5.6 Option cannot be pre-configured</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#opt_002dattr-equivalence">7.5.5.7 Option Equivalence Class</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#opt_002dattr-aliases">7.5.5.8 Option Aliasing</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#opt_002dattr-default-option">7.5.5.9 Default Option</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#opt_002dattr-documentation">7.5.5.10 Option Sectioning Comment</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#opt_002dattr-translators">7.5.5.11 Translator Notes</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
</table>

<hr size="6">
<a name="Required-Attributes"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#option-attributes" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Common-Attributes" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#option-attributes" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="autogen_7.html#Add_002dOns" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="autogen_0.html#Introduction" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="autogen_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="autogen_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Required-Attributes-1"></a>
<h4 class="subsubsection">7.5.5.1 Required Attributes</h4>
<a name="index-Required-Attributes"></a>

<p>Every option must have exactly one copy of both of these attributes.
</p>
<dl compact="compact">
<dt> &lsquo;<samp>name</samp>&rsquo;</dt>
<dd><a name="index-name"></a>
<p>Long name for the option.  Even if you are not accepting long options
and are only accepting flags, it must be provided.  AutoOpts generates
private, named storage that requires this name.  This name also causes
a <code>#define</code>-d name to be emitted.  It must not conflict with any
other names you may be using in your program.
</p>
<p>For example, if your option name is, <code>debug</code> or <code>munged-up</code>,
you must not use the <code>#define</code> names <code>DEBUG</code> (or
<code>MUNGED_UP</code>) in your program for non-AutoOpts related purposes.
They are now used by AutoOpts.
</p>
<p>Sometimes (most especially under Windows), you may get a surprise.
For example, <code>INTERFACE</code> is apparently a user space name that
one should be free to use.  Windows usurps this name.  To solve this,
you must do one of the following:
</p>
<ol>
<li>
Change the name of your option
</li><li>
add the program attribute (see section <a href="#program-attributes">Program Description Attributes</a>):

<table><tr><td>&nbsp;</td><td><pre class="example">export = '#undef INTERFACE';
</pre></td></tr></table>
</li><li>
add the program attribute:

<table><tr><td>&nbsp;</td><td><pre class="example">guard-option-names;
</pre></td></tr></table>
</li></ol>

</dd>
<dt> &lsquo;<samp>descrip</samp>&rsquo;</dt>
<dd><a name="index-descrip"></a>
<p>Except for documentation options, a <strong>very</strong> brief description of
the option.  About 40 characters on one line, maximum.  It appears on
the <code>usage()</code> output next to the option name.  If, however, the
option is a documentation option, it will appear on one or more lines by
itself.  It is thus used to visually separate and comment upon groups of
options in the usage text.
</p></dd>
</dl>

<hr size="6">
<a name="Common-Attributes"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Required-Attributes" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Immediate-Action" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#option-attributes" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="autogen_7.html#Add_002dOns" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="autogen_0.html#Introduction" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="autogen_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="autogen_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Common-Option-Attributes"></a>
<h4 class="subsubsection">7.5.5.2 Common Option Attributes</h4>
<a name="index-Common-Option-Attributes"></a>

<p>These option attributes are optional.  Any that do appear in the
definition of a flag, may appear only once.
</p>
<dl compact="compact">
<dt> &lsquo;<samp>value</samp>&rsquo;</dt>
<dd><a name="index-value"></a>
<p>The flag character to specify for traditional option flags, e.g., <code>-L</code>.
</p>
</dd>
<dt> &lsquo;<samp>max</samp>&rsquo;</dt>
<dd><a name="index-max-1"></a>
<p>Maximum occurrence count (invalid if <var>disable</var> present).
The default maximum is 1.  <code>NOLIMIT</code> can be used for the value,
otherwise it must be a number or a <code>#define</code> that evaluates to a number.
</p>
</dd>
<dt> &lsquo;<samp>min</samp>&rsquo;</dt>
<dd><a name="index-min-1"></a>
<p>Minimum occurrence count.  If present, then the option <strong>must</strong>
appear on the command line.  Do not define it with the value zero (0).
</p>
</dd>
<dt> &lsquo;<samp>must-set</samp>&rsquo;</dt>
<dd><a name="index-must_002dset"></a>
<p>If an option must be specified, but it need not be specified on
the command line, then specify this attribute for the option.
</p>
</dd>
<dt> &lsquo;<samp>deprecated</samp>&rsquo;</dt>
<dd><a name="index-deprecated"></a>
<p>There are two effects to this attribute:  the usage text will not
show the option, and the generated documentation will mark it with:
&ldquo;<em>NOTE: THIS OPTION IS DEPRECATED</em>&rdquo;.
</p>
</dd>
<dt> &lsquo;<samp>disable</samp>&rsquo;</dt>
<dd><a name="index-disable"></a>
<p>Prefix for disabling (inverting sense of) the option.  Only useful
if long option names are being processed.
</p>
</dd>
<dt> &lsquo;<samp>enable</samp>&rsquo;</dt>
<dd><a name="index-enable"></a>
<p>Long-name prefix for enabling the option (invalid if <var>disable</var>
<strong>not</strong> present).  Only useful if long option names are being
processed.
</p>
</dd>
<dt> &lsquo;<samp>enabled</samp>&rsquo;</dt>
<dd><a name="index-enabled"></a>
<p>If default is for option being enabled.  (Otherwise, the OPTST_DISABLED
bit is set at compile time.)  Only useful if the option can be disabled.
</p>
</dd>
<dt> &lsquo;<samp>ifdef</samp>&rsquo;</dt>
<dt> &lsquo;<samp>ifndef</samp>&rsquo;</dt>
<dt> &lsquo;<samp>omitted-usage</samp>&rsquo;</dt>
<dd><a name="index-ifdef"></a>
<a name="index-ifndef"></a>
<a name="index-omitted_002dusage"></a>
<p>If an option is relevant on certain platforms or when certain features
are enabled or disabled, you can specify the compile time flag used
to indicate when the option should be compiled in or out.  For example,
if you have a configurable feature, <code>mumble</code> that is indicated
with the compile time define, <code>WITH_MUMBLING</code>, then add:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">ifdef = WITH_MUMBLING;
</pre></td></tr></table>

<p>Take care when using these.  There are several caveats:
</p>
<ul>
<li>
The case and spelling must match whatever is specified.
</li><li>
Do not confuse these attributes with the AutoGen directives of the
same names, See section <a href="autogen_1.html#Directives">Controlling What Gets Processed</a>.  These cause C preprocessing directives
to be inserted into the generated C text.
</li><li>
Only one of <code>ifdef</code> and <code>ifndef</code> may apply to any one option.
</li><li>
The <code>VALUE_OPT_</code> values are <code>#define</code>-d.  If <code>WITH_MUMBLING</code>
is not defined, then the associated <code>VALUE_OPT_</code> value will not be
<code>#define</code>-d either.  So, if you have an option named, <code>MUMBLING</code>
that is active only if <code>WITH_MUMBLING</code> is <code>#define</code>-d, then
<code>VALUE_OPT_MUMBLING</code> will be <code>#define</code>-d iff <code>WITH_MUMBLING</code>
is <code>#define</code>-d.  Watch those switch statements.
</li><li>
If you specify <code>omitted-usage</code>, then the option will be recognized
as disabled when it is configured out of the build, but will yield the
message, &ldquo;This option has been disabled.&rdquo;  You may specify an alternate
message by giving <code>omitted-usage</code> a string value. e.g.:
<table><tr><td>&nbsp;</td><td><pre class="example">omitted-usage = 'you cannot do this';
</pre></td></tr></table>
</li></ul>

</dd>
<dt> &lsquo;<samp>no-command</samp>&rsquo;</dt>
<dd><a name="index-no_002dcommand"></a>
<p>This option specifies that the option is not allowed on the command line.
Such an option may not take a <code>value</code> (flag character) attribute.
The program must have the <code>homerc</code> (see section <a href="#program-attributes">Program Description Attributes</a>) option set.
</p></dd>
</dl>

<hr size="6">
<a name="Immediate-Action"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Common-Attributes" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Option-Conflict-Attributes" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#option-attributes" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="autogen_7.html#Add_002dOns" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="autogen_0.html#Introduction" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="autogen_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="autogen_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Immediate-Action-Attributes"></a>
<h4 class="subsubsection">7.5.5.3 Immediate Action Attributes</h4>
<a name="index-immediate-action"></a>

<p>Certain options may need to be processed early.  For example, in order to
suppress the processing of configuration files, it is necessary to process the
command line option <code>--no-load-opts</code> <strong>before</strong> the config files are
processed.  To accommodate this, certain options may have their enabled or
disabled forms marked for immediate processing.  The consequence of this is
that they are processed ahead of all other options in the reverse of normal
order.
</p>
<p>Normally, the first options processed are the options specified in the first
<code>homerc</code> file, followed by then next <code>homerc</code> file through to the
end of config file processing.  Next, environment variables are processed and
finally, the command line options.  The later options override settings
processed earlier.  That actually gives them higher priority.  Command line
immediate action options actually have the lowest priority of all.  They would
be used only if they are to have an effect on the processing of subsequent
options.
</p>
<dl compact="compact">
<dt> &lsquo;<samp>immediate</samp>&rsquo;</dt>
<dd><a name="index-immediate"></a>
<p>Use this option attribute to specify that the enabled form of the option
is to be processed immediately.  The <code>help</code> and <code>more-help</code>
options are so specified.  They will also call <code>exit()</code> upon
completion, so they <strong>do</strong> have an effect on the processing
of the remaining options :-).
</p>
</dd>
<dt> &lsquo;<samp>immed-disable</samp>&rsquo;</dt>
<dd><a name="index-immed_002ddisable"></a>
<p>Use this option attribute to specify that the disabled form of the
option is to be processed immediately.  The <code>load-opts</code> option is
so specified.  The <code>--no-load-opts</code> command line option will
suppress the processing of config files and environment variables.
Contrariwise, the <code>--load-opts</code> command line option is
processed normally.  That means that the options specified in that file
will be processed after all the <code>homerc</code> files and, in fact, after
options that precede it on the command line.
</p>
</dd>
<dt> &lsquo;<samp>also</samp>&rsquo;</dt>
<dd><p>If either the <code>immediate</code> or the <code>immed-disable</code> attributes
are set to the string, &ldquo;<code>also</code>&rdquo;, then the option will actually be
processed twice:  first at the immediate processing phase and again
at the &ldquo;normal&rdquo; time.
</p></dd>
</dl>

<hr size="6">
<a name="Option-Conflict-Attributes"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Immediate-Action" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#opt_002dattr-settable" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#option-attributes" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="autogen_7.html#Add_002dOns" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="autogen_0.html#Introduction" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="autogen_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="autogen_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Option-Conflict-Attributes-1"></a>
<h4 class="subsubsection">7.5.5.4 Option Conflict Attributes</h4>
<a name="index-Option-Conflict-Attributes"></a>

<p>These attributes may be used as many times as you need.
They are used at the end of the option processing to verify
that the context within which each option is found does not
conflict with the presence or absence of other options.
</p>
<p>This is not a complete cover of all possible conflicts and
requirements, but it simple to implement and covers the
more common situations.
</p>
<dl compact="compact">
<dd><a name="index-flags_002dmust"></a>
</dd>
<dt> &lsquo;<samp>flags-must</samp>&rsquo;</dt>
<dd><p>one entry for every option that <strong>must</strong> be present
when this option is present
</p>
<a name="index-flags_002dcant"></a>
</dd>
<dt> &lsquo;<samp>flags-cant</samp>&rsquo;</dt>
<dd><p>one entry for every option that <strong>cannot</strong> be present
when this option is present
</p></dd>
</dl>

<hr size="6">
<a name="opt_002dattr-settable"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Option-Conflict-Attributes" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#opt_002dattr-no_002dpreset" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#option-attributes" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="autogen_7.html#Add_002dOns" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="autogen_0.html#Introduction" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="autogen_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="autogen_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Program-may-set-option"></a>
<h4 class="subsubsection">7.5.5.5 Program may set option</h4>
<a name="index-settable"></a>
<p>If the option can be set outside of option processing, specify
&ldquo;<code>settable</code>&rdquo;.  If this attribute is defined, special macros for setting
this particular option will be inserted into the interface file.  For example,
<code>TEMPL_DIRS</code> is a settable option for AutoGen, so a macro named
<code>SET_OPT_TEMPL_DIRS(a)</code> appears in the interface file.  This attribute
interacts with the <var>documentation</var> attribute.
</p>
<hr size="6">
<a name="opt_002dattr-no_002dpreset"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#opt_002dattr-settable" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#opt_002dattr-equivalence" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#option-attributes" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="autogen_7.html#Add_002dOns" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="autogen_0.html#Introduction" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="autogen_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="autogen_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Option-cannot-be-pre_002dconfigured"></a>
<h4 class="subsubsection">7.5.5.6 Option cannot be pre-configured</h4>
<a name="index-no_002dpreset"></a>
<a name="index-configuration-file"></a>
<p>If presetting this option is not allowed, specify &ldquo;<code>no-preset</code>&rdquo;.
(Thus, environment variables and values set in configuration files will be
ignored.)
</p>
<hr size="6">
<a name="opt_002dattr-equivalence"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#opt_002dattr-no_002dpreset" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#opt_002dattr-aliases" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#option-attributes" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="autogen_7.html#Add_002dOns" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="autogen_0.html#Introduction" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="autogen_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="autogen_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Option-Equivalence-Class"></a>
<h4 class="subsubsection">7.5.5.7 Option Equivalence Class</h4>
<a name="index-equivalence"></a>
<p>Generally, when several options are mutually exclusive and basically serve the
purpose of selecting one of several processing modes, specify the
&ldquo;<code>equivalence</code>&rdquo; attribute.  These options will be considered an
equivalence class.  Sometimes, it is just easier to deal with them as such.
All members of the equivalence class must contain the same equivalenced-to
option, including the equivalenced-to option itself.  Thus, it must be a class
member.
</p>
<p>For an option equivalence class, there is a single occurrence counter for
the class.  It can be referenced with the interface macro,
<code>COUNT_OPT(BASE_OPTION)</code>, where &ldquo;BASE_OPTION&rdquo; is the equivalenced-to
option name.
</p>
<p>Also, please take careful note: since the options are mapped to the
equivalenced-to option descriptor, any option argument values are mapped to
that descriptor also.  Be sure you know which &ldquo;equivalent option&rdquo; was
selected before getting an option argument value!
</p>
<p>During the presetting phase of option processing (see section <a href="#Presetting-Options">Configuring your program</a>), equivalenced options may be specified.  However, if different
equivalenced members are specified, only the last instance will be
recognized and the others will be discarded.  A conflict error is indicated
only when multiple different members appear on the command line itself.
</p>
<p>As an example of where equivalenced options might be useful, <code>cpio(1)</code>
has three options <code>-o</code>, <code>-i</code>, and <code>-p</code> that define the
operational mode of the program (<code>create</code>, <code>extract</code> and
<code>pass-through</code>, respectively).  They form an equivalence class from
which one and only one member must appear on the command line.  If
<code>cpio</code> were an AutoOpt-ed program, then each of these option
definitions would contain:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">equivalence = create;
</pre></td></tr></table>

<p>and the program would be able to determine the operating mode
with code that worked something like this:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">switch (WHICH_IDX_CREATE) {
case INDEX_OPT_CREATE:       ...
case INDEX_OPT_EXTRACT:      ...
case INDEX_OPT_PASS_THROUGH: ...
default:    /* cannot happen */
}
</pre></td></tr></table>

<hr size="6">
<a name="opt_002dattr-aliases"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#opt_002dattr-equivalence" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#opt_002dattr-default-option" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#option-attributes" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="autogen_7.html#Add_002dOns" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="autogen_0.html#Introduction" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="autogen_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="autogen_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Option-Aliasing"></a>
<h4 class="subsubsection">7.5.5.8 Option Aliasing</h4>

<p>Sometimes, for backwards compatibility or tradition or just plain convenience,
it works better to define one option as a pure alias for another option.
For such situations, provide the following pieces of information:
</p><table><tr><td>&nbsp;</td><td><pre class="example">flag = {
   name  = <i>aliasing-option-name</i>;
   value = <i>aliasing-flag-char</i>; // optional !
   aliases = <i>aliased-to-option</i>;
};
</pre></td></tr></table>
<p>Do not provide anything else.  The usage text for such an option will be:
</p><table><tr><td>&nbsp;</td><td><pre class="example">   alais for <i>aliased-to-option</i> option
</pre></td></tr></table>

<hr size="6">
<a name="opt_002dattr-default-option"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#opt_002dattr-aliases" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#opt_002dattr-documentation" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#option-attributes" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="autogen_7.html#Add_002dOns" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="autogen_0.html#Introduction" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="autogen_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="autogen_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Default-Option"></a>
<h4 class="subsubsection">7.5.5.9 Default Option</h4>
<a name="index-default"></a>
<p>If your program processes its arguments in named option mode (See
&ldquo;long-opts&rdquo; in <a href="#program-attributes">Program Description Attributes</a>), then you may select <strong>one</strong>
of your options to be the default option.  Do so by using attribute
&ldquo;<code>default</code>&rdquo; with one of the options.  The option so specified must have
an <code>arg-type</code> (see section <a href="#Option-Arguments">Option Argument Specification</a>) specified, but not the
<code>arg-optional</code> (see section <a href="#arg_002doptional">Option Argument Optional</a>) attribute.  That is to say, the
option argument must be required.
</p>
<p>If you have done this, then any arguments that do not match an option
name and do not contain an equal sign (<code>=</code>) will be interpreted as
an option argument to the default option.
</p>
<hr size="6">
<a name="opt_002dattr-documentation"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#opt_002dattr-default-option" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#opt_002dattr-translators" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#option-attributes" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="autogen_7.html#Add_002dOns" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="autogen_0.html#Introduction" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="autogen_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="autogen_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Option-Sectioning-Comment"></a>
<h4 class="subsubsection">7.5.5.10 Option Sectioning Comment</h4>
<p>This attribute means the option exists for the purpose of separating
option description text in the usage output.  Libraries may choose
to make it settable so that the library can determine which command
line option is the first one that pertains to the library.
</p>
<a name="index-documentation-1"></a>
<p>If the &ldquo;<code>documentation</code>&rdquo; attribute is present, then all other
attributes are disabled except <code>settable</code>, <code>call-proc</code> and
<code>flag-code</code>.  <code>settable</code> must be and is only specified if
<code>call-proc</code>, <code>extract-code</code> or <code>flag-code</code> has been specified.
When present, the <code>descrip</code> attribute will be displayed only when the
<code>--help</code> option has been specified.  It will be displayed flush to the
left hand margin and may consist of one or more lines of text.  The name of
the option will not be printed.
</p>
<p>Documentation options are for clarifying the usage text and will not
appear in generated man pages or in the generated invoking texinfo doc.
</p>
<hr size="6">
<a name="opt_002dattr-translators"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#opt_002dattr-documentation" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Option-Arguments" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#option-attributes" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="autogen_7.html#Add_002dOns" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="autogen_0.html#Introduction" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="autogen_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="autogen_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Translator-Notes"></a>
<h4 class="subsubsection">7.5.5.11 Translator Notes</h4>
<a name="index-translators"></a>
<p>If you need to give the translators a special note about a particular option,
please use the &ldquo;<code>translators</code>&rdquo; attribute.  The attribute text will be
emitted into the generated <code>.c</code> text where the option related strings get
defined.  To make a general comment about all of the option code, add comments
to an <code>include</code> attribute (see section <a href="#program-attributes">Program Description Attributes</a>).  Do <strong>not</strong>
use this attribute globally, or it will get emitted into every option
definition block.
</p>
<hr size="6">
<a name="Option-Arguments"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#opt_002dattr-translators" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#arg_002dtype-string" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Option-Definitions" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="autogen_7.html#Add_002dOns" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="autogen_0.html#Introduction" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="autogen_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="autogen_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Option-Argument-Specification"></a>
<h3 class="subsection">7.5.6 Option Argument Specification</h3>
<a name="index-Option-Arguments"></a>

<p>Command line options come in three flavors:  options that do not
take arguments, those that do and those that may.  Without an
&quot;arg-type&quot; attribute, AutoOpts will not process an argument to an
option.  If &quot;arg-type&quot; is specified and &quot;arg-optional&quot; is also
specified, then the next command line token will be taken to
be an argument, unless it looks like the name of another option.
</p>
<p>If the argument type is specified to be anything other than &quot;str[ing]&quot;, then
AutoOpts will specify a callback procedure to handle the argument.  Some of
these procedures will be created and inserted into the generated <code>.c</code>
file, and others are already built into the &lsquo;<tt>libopts</tt>&rsquo; library.
Therefore, if you write your own callback procedure
(see section <a href="#Option-Argument-Handling">Option Argument Handling</a>), then you must either not specify an
&quot;arg-type&quot; attribute, or else specify it to be of type &quot;str[ing]&quot;.  Your
callback function will be able to place its own restrictions on what that
string may contain or represent.
</p>
<p>Option argument handling attributes depend upon the value set for the
<a name="index-arg_002dtype"></a>
<code>arg-type</code> attribute.  It specifies the type of argument the option
will take.  If not present, the option cannot take an argument.  If present,
it must be an entry in the following table.  The first three letters is
sufficient.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#arg_002dtype-string">7.5.6.1 Arg Type String</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#arg_002dtype-number">7.5.6.2 Arg Type Number</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#arg_002dtype-boolean">7.5.6.3 Arg Type Boolean</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#arg_002dtype-keyword">7.5.6.4 Arg Type Keyword</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#arg_002dtype-set-membership">7.5.6.5 Arg Type Set Membership</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#arg_002dtype-hierarchy">7.5.6.6 Arg Type Hierarchical</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#arg_002dtype-file-name">7.5.6.7 Arg Type File Name</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#arg_002dtype-time_002dduration">7.5.6.8 Arg Type Time Duration</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#arg_002dtype-time_002ddate">7.5.6.9 Arg Type Time and Date</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">
Supporting attributes for particular argument types:

</pre></th></tr><tr><td align="left" valign="top"><a href="#arg_002dkeyword">7.5.6.10 Keyword list</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#arg_002doptional">7.5.6.11 Option Argument Optional</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#arg_002ddefault">7.5.6.12 Default Option Argument Value</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
</table>

<hr size="6">
<a name="arg_002dtype-string"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Option-Arguments" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#arg_002dtype-number" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Option-Arguments" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="autogen_7.html#Add_002dOns" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="autogen_0.html#Introduction" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="autogen_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="autogen_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Arg-Type-String"></a>
<h4 class="subsubsection">7.5.6.1 Arg Type String</h4>
<p><code>arg-type = string;</code>
</p>
<p>The argument may be any arbitrary string, though your program or option
callback procedure may place additional constraints upon it.
</p>

<hr size="6">
<a name="arg_002dtype-number"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#arg_002dtype-string" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#arg_002dtype-boolean" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Option-Arguments" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="autogen_7.html#Add_002dOns" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="autogen_0.html#Introduction" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="autogen_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="autogen_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Arg-Type-Number"></a>
<h4 class="subsubsection">7.5.6.2 Arg Type Number</h4>
<p><code>arg-type = number;</code>
</p>
<p>The argument must be a correctly formed integer, without any trailing U&rsquo;s or
L&rsquo;s.  AutoOpts contains a library procedure to convert the string to a number.
If you specify range checking with <code>arg-range</code> (see below), then AutoOpts
produces a special purpose procedure for this option.
</p>
<dl compact="compact">
<dt> &lsquo;<samp>scaled</samp>&rsquo;</dt>
<dd><a name="index-scaled"></a>
<p><code>scaled</code> marks the option so that suffixes of &lsquo;<samp>k</samp>&rsquo;, &lsquo;<samp>K</samp>&rsquo;,
&lsquo;<samp>m</samp>&rsquo;, &lsquo;<samp>M</samp>&rsquo;, &lsquo;<samp>g</samp>&rsquo;, &lsquo;<samp>G</samp>&rsquo;, &lsquo;<samp>t</samp>&rsquo;, and &lsquo;<samp>T</samp>&rsquo; will multiply
the given number by a power of 1000 or 1024.  Lower case letters scale by a
power of 1000 and upper case scale by a power of 1024.
</p>
</dd>
<dt> &lsquo;<samp>arg-range</samp>&rsquo;</dt>
<dd><a name="index-arg_002drange"></a>
<p><code>arg-range</code> is used to create a callback procedure for validating the
range of the option argument.  It must match one of the range entries.  Each
<code>arg-range</code> should consist of either an integer by itself or an integer
range.  The integer range is specified by one or two integers separated by the
two character sequence, <code>-&gt;</code>.  Be sure to quote the entire range string.
The definitions parser will not accept the range syntax as a single string
token.
</p>
<p>The generated procedure imposes the range constraints as follows:
</p><ul>
<li>
A number by itself will match that one value.
</li><li>
The high end of the range may not be <code>INT_MIN</code>, both for obvious
reasons and because that value is used to indicate a single-valued match.
</li><li>
An omitted lower value implies a lower bound of INT_MIN.
</li><li>
An omitted upper value implies a upper bound of INT_MAX.
</li><li>
The argument value is required.  It may not be optional.
</li><li>
The value must match one of the entries.  If it can match more than one,
then you have redundancies, but no harm will come of it.
</li></ul>
</dd>
</dl>


<hr size="6">
<a name="arg_002dtype-boolean"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#arg_002dtype-number" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#arg_002dtype-keyword" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Option-Arguments" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="autogen_7.html#Add_002dOns" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="autogen_0.html#Introduction" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="autogen_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="autogen_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Arg-Type-Boolean"></a>
<h4 class="subsubsection">7.5.6.3 Arg Type Boolean</h4>
<p><code>arg-type = boolean;</code>
</p>
<p>The argument will be interpreted and always yield either AG_TRUE or
AG_FALSE.  False values are  the empty string, the number zero, or a
string that starts with <code>f</code>, <code>F</code>, <code>n</code> or <code>N</code>
(representing False or No).  Anything else will be interpreted as True.
</p>

<hr size="6">
<a name="arg_002dtype-keyword"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#arg_002dtype-boolean" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#arg_002dtype-set-membership" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Option-Arguments" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="autogen_7.html#Add_002dOns" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="autogen_0.html#Introduction" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="autogen_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="autogen_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Arg-Type-Keyword"></a>
<h4 class="subsubsection">7.5.6.4 Arg Type Keyword</h4>
<p><code>arg-type = keyword;</code>
</p>
<p>The argument must match a specified list of strings (see section <a href="#arg_002dkeyword">Keyword list</a>).
Assuming you have named the option, <code>optn-name</code>, the strings will be
converted into an enumeration of type <code>te_Optn_Name</code> with the values
<code>OPTN_NAME_KEYWORD</code>.*  If you have <strong>not</strong> specified a default value,
the value <code>OPTN_NAME_UNDEFINED</code> will be inserted with the value zero.
The option will be initialized to that value.  You may now use this in your
code as follows:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">te_Optn_Name opt = OPT_VALUE_OPTN_NAME;
switch (opt) {
case OPTN_NAME_UNDEFINED:  /* undefined things */ break;
case OPTN_NAME_KEYWORD:    /* `keyword' things */ break;
default: /* utterly impossible */ ;
}
</pre></td></tr></table>

<p>AutoOpts produces a special purpose procedure for this option.
</p>
<p>If you have need for the string name of the selected keyword, you
may obtain this with the macro, <code>OPT_OPTN_NAME_VAL2STR(val)</code>.
The value you pass would normally be <code>OPT_VALUE_OPTN_NAME</code>,
but anything with numeric value that is legal for <code>te_Optn_Name</code>
may be passed.  Anything out of range will result in the string,
<code>&quot;*INVALID*&quot;</code> being returned.  The strings are read only.
It may be used as in:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">te_Optn_Name opt = OPT_VALUE_OPTN_NAME;
printf( &quot;you selected the %s keyword\n&quot;,
        OPT_OPTN_NAME_VAL2STR(opt) );
</pre></td></tr></table>

<p>* Note: you may replace the <code>OPTN_NAME</code> enumeration prefix with
another prefix by specifying a
<a name="index-prefix_002denum"></a>
<code>prefix-enum</code> attribute.
</p>
<hr size="6">
<a name="arg_002dtype-set-membership"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#arg_002dtype-keyword" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#arg_002dtype-hierarchy" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Option-Arguments" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="autogen_7.html#Add_002dOns" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="autogen_0.html#Introduction" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="autogen_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="autogen_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Arg-Type-Set-Membership"></a>
<h4 class="subsubsection">7.5.6.5 Arg Type Set Membership</h4>
<p><code>arg-type = set;</code>
</p>
<p>The argument must be a list of names each of which must match the strings
&quot;<code>all</code>&quot;, &quot;<code>none</code>&quot; or one of the keywords (see section <a href="#arg_002dkeyword">Keyword list</a>)
specified for this option.  <code>all</code> will turn on all membership bits and
<code>none</code> will turn them all off.  Specifying one of the keywords will turn
on the corresponding set membership bit.  Literal numbers may also be used and
may, thereby, set or clear more than one bit.  Preceding a keyword or literal
number with a bang (<code>!</code>  - exclamation point) will turn the bit(s) off.
The number of keywords allowed is constrained by the number of bits in a
pointer, as the bit set is kept in a <code>void*</code>.
</p>
<p>If, for example, you specified <code>first</code> in your list of keywords,
then you can use the following code to test to see if either <code>first</code>
or <code>all</code> was specified:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">uintptr_t opt = OPT_VALUE_OPTN_NAME;
if (opt &amp; OPTN_NAME_FIRST)
    /* OPTN_NAME_FIRST bit was set */ ;
</pre></td></tr></table>

<p>AutoOpts produces a special purpose procedure for this option.
To set multiple bits as the default (initial) value, you must
specify an initial numeric value (which might become inaccurate over
time), or else specify <code>arg-default</code> multiple times.  Do not
specify a series of names conjoined with <code>+</code> symbols as the
value for any of the <code>arg-default</code> attributes.  That works for
option parsing, but not for the option code generation.
</p>
<hr size="6">
<a name="arg_002dtype-hierarchy"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#arg_002dtype-set-membership" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#arg_002dtype-file-name" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Option-Arguments" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="autogen_7.html#Add_002dOns" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="autogen_0.html#Introduction" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="autogen_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="autogen_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Arg-Type-Hierarchical"></a>
<h4 class="subsubsection">7.5.6.6 Arg Type Hierarchical</h4>
<p><code>arg-type = hierarchy;</code>
<br>
<code>arg-type = nested;</code>
</p>
<p>This denotes an option with a structure-valued argument, a.k.a.
&ldquo;subopts&rdquo; in <code>getopts</code> terminology.  The argument is parsed
and the values made available to the program via the find and
find next calls (See section <a href="#libopts_002doptionFindValue">optionFindValue</a>,
See section <a href="#libopts_002doptionGetValue">optionGetValue</a>, and
see section <a href="#libopts_002doptionFindNextValue">optionFindNextValue</a>).
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">tOptionValue * val = optionGetValue(VALUE_OPT_OPTN_NAME, &quot;name&quot;);
while (val != NULL) {
  process(val);
  val = optionNextValue(VALUE_OPT_OPTN_NAME, val);
  if (wrong_name(val, &quot;name&quot;))
    break;
}
</pre></td></tr></table>


<hr size="6">
<a name="arg_002dtype-file-name"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#arg_002dtype-hierarchy" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#arg_002dtype-time_002dduration" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Option-Arguments" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="autogen_7.html#Add_002dOns" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="autogen_0.html#Introduction" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="autogen_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="autogen_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Arg-Type-File-Name"></a>
<h4 class="subsubsection">7.5.6.7 Arg Type File Name</h4>
<p><code>arg-type = file;</code>
</p>
<p>This argument type will have some validations on the argument and,
optionally, actually open the file.  You must specify several additonal
attributes for the option:
</p>
<dl compact="compact">
<dt> &lsquo;<samp>file-exists</samp>&rsquo;</dt>
<dd><a name="index-file_002dexists"></a>
<p>If not specified or empty, then the directory portion of the name is checked.
The directory must exist or the argument is rejected and the usage procedure
is invoked.
</p>
<p>Otherwise, both the directory as above and the full name is tested for
existence.  If the value begins with the two letters &ldquo;no&rdquo;, then the file
must not pre-exist.  Otherwise, the file is expected to exist.
</p>
</dd>
<dt> &lsquo;<samp>open-file</samp>&rsquo;</dt>
<dd><a name="index-open_002dfile"></a>
<p>If not specified or empty, the file is left alone.
If the value begins with the four letters &ldquo;desc&rdquo;[<i>riptor</i>], then
<code>open(2)</code> is used and <code>optArg.argFd</code> is set.  Otherwise, the
file is opened with <code>fopen</code> and <code>optArg.argFp</code> is set.
</p>
</dd>
<dt> &lsquo;<samp>file-mode</samp>&rsquo;</dt>
<dd><a name="index-file_002dmode"></a>
<p>If &ldquo;open-file&rdquo; is set and not empty, then you must specify the open mode.
Set the value to the flag bits or mode string as appropriate for the open
type.
</p></dd>
</dl>


<hr size="6">
<a name="arg_002dtype-time_002dduration"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#arg_002dtype-file-name" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#arg_002dtype-time_002ddate" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Option-Arguments" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="autogen_7.html#Add_002dOns" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="autogen_0.html#Introduction" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="autogen_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="autogen_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Arg-Type-Time-Duration"></a>
<h4 class="subsubsection">7.5.6.8 Arg Type Time Duration</h4>
<p><code>arg-type = time-duration;</code>
</p>
<p>The argument will be converted into a number of seconds.  It may be
a multi-part number with different parts being multiplied into a seconds
value and added into the final result.  Valid forms are in the table
below.  Upper cased letters represent numbers that must be used in the
expressions.
</p>
<dl compact="compact">
<dt> &lsquo;<samp>[[HH:]MM:]SS</samp>&rsquo;</dt>
<dd><p>where the hyphens (<code>-</code>) are really colons(<code>:</code>), but the
texi doc system won&rsquo;t allow colons there.
</p>
<p><code>HH</code> is multiplied by <code>3600</code> and <code>MM</code> multiplied by <code>60</code>
before they are added to <code>SS</code>.  This time specification may not be
followed by any other time specs.  <code>HH</code> and <code>MM</code> are both optional,
though <code>HH</code> cannot be specified without <code>MM</code>.
</p>
</dd>
<dt> &lsquo;<samp>DAYS d</samp>&rsquo;</dt>
<dd><p><code>DAYS</code> is multiplied by the number of seconds in a day.  This value may
be followed by (and added to) values specified by <code>HH:MM:SS</code> or the
suffixed values below.  If present, it must always be first.
</p>
</dd>
<dt> &lsquo;<samp>HRS h</samp>&rsquo;</dt>
<dd><p><code>HRS</code> is multiplied by the number of seconds in an hour.  This value may
be followed by (and added to) values specified by <code>MM:SS</code> or the
suffixed values below.
</p>
</dd>
<dt> &lsquo;<samp>MINS m</samp>&rsquo;</dt>
<dd><p><code>MINS</code> is multiplied by the number of seconds in a minute.  This value may
be followed by (and added to) a count of seconds.
</p>
</dd>
<dt> &lsquo;<samp>SECS s</samp>&rsquo;</dt>
<dd><p>This value can only be the last value in a time specification.  The <code>s</code>
suffix is optional.
</p></dd>
</dl>

<table><tr><td>&nbsp;</td><td><pre class="example">   5 d 1:10:05    ==&gt; 5 days + 1 hour 10 minutes and 5 seconds
   5 d 1 h 10 m 5 ==&gt; yields: 436205 seconds
   5d1h10m5s      ==&gt; same result -- spaces are optional.
</pre></td></tr></table>

<p>When saved into a config file, the value will be stored as a simple count
of seconds.  There are actually more (many) accepted time duration strings.
The full documentation can be found with ISO-8601 documentation and the
more extedded documentation when &ldquo;parse_duration()&rdquo; becomes more widely
available.
</p>

<hr size="6">
<a name="arg_002dtype-time_002ddate"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#arg_002dtype-time_002dduration" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#arg_002dkeyword" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Option-Arguments" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="autogen_7.html#Add_002dOns" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="autogen_0.html#Introduction" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="autogen_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="autogen_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Arg-Type-Time-and-Date"></a>
<h4 class="subsubsection">7.5.6.9 Arg Type Time and Date</h4>
<p><code>arg-type = time-date;</code>
</p>
<p>The argument will be converted into the number of seconds since the epoch.
The conversion rules are very complicated, please see the &lsquo;<tt>getdate_r(3GNU)</tt>&rsquo;
man page.  There are some additional restrictions:
</p>
<ol>
<li>
Your project must be compiled with <code>PKGDATADIR</code> defined and naming a
valid directory.
</li><li>
The <code>DATEMSK</code> environment variable will be set to the &lsquo;<tt>datemsk</tt>&rsquo; file
within that directory.
</li></ol>

<p>If that file is not accessible for any reason, the string will be
parsed as a time duration (see section <a href="#arg_002dtype-time_002dduration">Arg Type Time Duration</a>) instead of a
specific date and time.
</p>
<hr size="6">
<a name="arg_002dkeyword"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#arg_002dtype-time_002ddate" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#arg_002doptional" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Option-Arguments" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="autogen_7.html#Add_002dOns" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="autogen_0.html#Introduction" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="autogen_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="autogen_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Keyword-list"></a>
<h4 class="subsubsection">7.5.6.10 Keyword list</h4>
<a name="index-keyword"></a>
<p>If the <code>arg-type</code> is <code>keyword</code> (see section <a href="#arg_002dtype-keyword">Arg Type Keyword</a>) or
<code>set-membership</code> (see section <a href="#arg_002dtype-set-membership">Arg Type Set Membership</a>), then you must specify
the list of keywords by a series of <code>keyword</code> entries.  The interface
file will contain values for <code><i>&lt;OPTN_NAME&gt;</i>_<i>&lt;KEYWORD&gt;</i></code> for each
keyword entry.  <code>keyword</code> option types will have an enumeration and
<code>set-membership</code> option types will have a set of unsigned bits
<code>#define</code>-d.
</p>
<p>If the <code>arg-type</code> is specifically <code>keyword</code>, you may also add
special handling code with a
<a name="index-extra_002dcode"></a>
<code>extra-code</code> attribute.  After <code>optionEnumerationVal</code> has
converted the input string into an enumeration, you may insert code to
process this enumeration value (<code>pOptDesc-&gt;optArg.argEnum</code>).
</p>
<hr size="6">
<a name="arg_002doptional"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#arg_002dkeyword" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#arg_002ddefault" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Option-Arguments" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="autogen_7.html#Add_002dOns" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="autogen_0.html#Introduction" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="autogen_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="autogen_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Option-Argument-Optional"></a>
<h4 class="subsubsection">7.5.6.11 Option Argument Optional</h4>
<a name="index-arg_002doptional"></a>
<p>This attribute indicates that the user does not have to supply an argument for
the option.  This is only valid if the <var>arg-type</var> is <code>string</code>
(see section <a href="#arg_002dtype-string">Arg Type String</a>) or <code>keyword</code> (see section <a href="#arg_002dtype-keyword">Arg Type Keyword</a>).  If it
is <code>keyword</code>, then this attribute may also specify the default keyword to
assume when the argument is not supplied.  If left empty, <var>arg-default</var>
(see section <a href="#arg_002ddefault">Default Option Argument Value</a>) or the zero-valued keyword will be used.
</p>
<p>This is overridden and the options are required if the libopts library
gets configured with <code>--disable-optional-args</code>.
</p>
<hr size="6">
<a name="arg_002ddefault"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#arg_002doptional" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Option-Argument-Handling" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Option-Arguments" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="autogen_7.html#Add_002dOns" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="autogen_0.html#Introduction" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="autogen_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="autogen_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Default-Option-Argument-Value"></a>
<h4 class="subsubsection">7.5.6.12 Default Option Argument Value</h4>
<a name="index-arg_002ddefault"></a>
<p>This specifies the default option argument value to be used when the option is
not specified or preset.  You may specify multiple <code>arg-default</code> values if
the argument type is <code>set membership</code>.
</p>
<hr size="6">
<a name="Option-Argument-Handling"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#arg_002ddefault" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Internationalizing-Options" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Option-Definitions" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="autogen_7.html#Add_002dOns" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="autogen_0.html#Introduction" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="autogen_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="autogen_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Option-Argument-Handling-1"></a>
<h3 class="subsection">7.5.7 Option Argument Handling</h3>
<a name="index-Option-Argument-Handling"></a>

<p>AutoOpts will either specify or automatically generate callback procedures
for options that take specialized arguments.  The only option argument types
that are not specialized are plain string arguments and no argument at all.
For options that fall into one of those two categories, you may specify your
own callback function, as specified below.  If you do this and if you
specify that options are resettable (see section <a href="#automatic-options">Automatically Supported Options</a>), then your
option handling code <strong>must</strong> look for the <code>OPTST_RESET</code> bit in
the <code>fOptState</code> field of the option descriptor.
</p>
<p>If the option takes a string argument, then you may specify that the option
is to be handled by the <code>libopts</code> library procedures
<code>stackOptArg()</code> or <code>unstackOptArg()</code> (see below).  In this case,
you may not provide option handling code.
</p>
<p>Finally, <code>documentation</code> options (see section <a href="#opt_002dattr-documentation">Option Sectioning Comment</a>) may
also be marked as <code>settable</code> (see section <a href="#opt_002dattr-settable">Program may set option</a>) and have special
callback functions (either <code>flag-code</code>, <code>extract-code</code>, or
<code>call-proc</code>).
</p>
<dl compact="compact">
<dt> &lsquo;<samp>flag-code</samp>&rsquo;</dt>
<dd><a name="index-flag_002dcode"></a>
<p>statements to execute when the option is encountered.
The generated procedure will look like this:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">static void
doOpt&lt;name&gt;( tOptions* pOptions, tOptDesc* pOptDesc )
{
&lt;flag-code&gt;
}
</pre></td></tr></table>

<p>Only certain fields within the <code>tOptions</code> and <code>tOptDesc</code>
structures may be accessed.  See section <a href="#Option-Processing-Data">Data for Option Processing</a>.
</p>
</dd>
<dt> &lsquo;<samp>extract-code</samp>&rsquo;</dt>
<dd><a name="index-extract_002dcode"></a>
<p>This is effectively identical to <code>flag-code</code>, except that the
source is kept in the output file instead of the definitions file.
A long comment is used to demarcate the code.  You must not modify
that marker.  <i>Before</i> regenerating the option code file,
the old file is renamed from MUMBLE.c to MUMBLE.c.save.  The template
will be looking there for the text to copy into the new output file.
</p>
</dd>
<dt> &lsquo;<samp>call-proc</samp>&rsquo;</dt>
<dd><a name="index-call_002dproc"></a>
<p>external procedure to call when option is encountered.  The calling
sequence must conform to the sequence defined above for the generated
procedure, <code>doOpt&lt;name&gt;</code>.  It has the same restrictions
regarding the fields within the structures passed in as arguments.
See section <a href="#Option-Processing-Data">Data for Option Processing</a>.
</p>
</dd>
<dt> &lsquo;<samp>flag-proc</samp>&rsquo;</dt>
<dd><a name="index-flag_002dproc"></a>
<p>Name of another option whose <code>flag-code</code> can be executed
when this option is encountered.
</p>
</dd>
<dt> &lsquo;<samp>stack-arg</samp>&rsquo;</dt>
<dd><a name="index-stack_002darg"></a>
<p>Call a special library routine to stack the option&rsquo;s arguments.  Special
macros in the interface file are provided for determining how many of the
options were found (<code>STACKCT_OPT(NAME)</code>) and to obtain a pointer to a
list of pointers to the argument values (<code>STACKLST_OPT(NAME)</code>).
Obviously, for a stackable argument, the <code>max</code> attribute
(see section <a href="#Common-Attributes">Common Option Attributes</a>) needs to be set higher than <code>1</code>.
</p>
<p>If this stacked argument option has a disablement prefix, then the entire
stack of arguments will be cleared by specifying the option with that
disablement prefix.
</p>
</dd>
<dt> &lsquo;<samp>unstack-arg</samp>&rsquo;</dt>
<dd><a name="index-unstack_002darg"></a>
<p>Call a special library routine to remove (&ldquo;unstack&rdquo;) strings
from a <code>stack-arg</code> option stack.  This attribute must name
the option that is to be &ldquo;unstacked&rdquo;.  Neither this option nor
the stacked argument option it references may be equivalenced to
another option.
</p></dd>
</dl>

<hr size="6">
<a name="Internationalizing-Options"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Option-Argument-Handling" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#documentation-attributes" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Option-Definitions" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="autogen_7.html#Add_002dOns" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="autogen_0.html#Introduction" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="autogen_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="autogen_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Internationalizing-Options-1"></a>
<h3 class="subsection">7.5.8 Internationalizing Options</h3>
<a name="index-Internationalizing-Options"></a>

<p>Normally, AutoOpts produces usage text that is difficult to translate.  It is
pieced together on the fly using words and phrases scattered around here and
there, piecing together toe document.  This does not translate well.
</p>
<p>Incorporated into this package are some ways around the problem.  First, you
should specify the <code>full-usage</code> and <code>short-usage</code> program attributes
(see section <a href="#program-attributes">Program Description Attributes</a>).  This will enable your translators to translate
the usage text as a whole.
</p>
<p>Your translators will also be able to translate long option names.  The option
name translations will then become the names searched for both on the command
line and in configuration files.  However, it will not affect the names of
environment variable names used to configure your program.
</p>
<p>If it is considered desireable to keep configuration files in the &ldquo;C&rdquo;
locale, then several macros are available to suppress or delay the
translations of option names at run time.  These are all disabled if
<code>ENABLE_NLS</code> is not defined at compile time.  These macros <strong>must</strong>
be invoked before the first invocation of <code>optionProcess</code>.
</p>
<dl compact="compact">
<dt>  &lsquo;<samp>OPT_NO_XLAT_CFG_NAMES;</samp>&rsquo;</dt>
<dt> &lsquo;<samp>OPT_XLAT_CFG_NAMES;</samp>&rsquo;</dt>
<dd><p>Disable (or enable) the translations of option names for configuration files.
If you enable translation for config files, then they will be translated for
command line options.
</p>
</dd>
<dt>  &lsquo;<samp>OPT_NO_XLAT_OPT_NAMES;</samp>&rsquo;</dt>
<dt> &lsquo;<samp>OPT_XLAT_OPT_NAMES;</samp>&rsquo;</dt>
<dd><p>Disable (or enable) the translations of option names for command line
processing.  If you disable the translation for command line processing,
you will also disable it for configuration file processing.  Once translated,
the option names will remain translated.
</p></dd>
</dl>

<hr size="6">
<a name="documentation-attributes"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Internationalizing-Options" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#automatic-options" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Option-Definitions" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="autogen_7.html#Add_002dOns" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="autogen_0.html#Introduction" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="autogen_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="autogen_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Man-and-Info-doc-Attributes"></a>
<h3 class="subsection">7.5.9 Man and Info doc Attributes</h3>
<a name="index-documentation-attributes"></a>

<p>AutoOpts includes AutoGen templates for producing abbreviated man pages
and for producing the invoking section of an info document.  To take
advantage of these templates, you must add several attributes to your
option definitions.
</p>
<dl compact="compact">
<dt> &lsquo;<samp>arg-name</samp>&rsquo;</dt>
<dd><a name="index-arg_002dname"></a>
<p>If an option has an argument, the argument should have a name for
documentation purposes.  It will default to <code>arg-type</code>, but
it will likely be clearer with something else like, <code>file-name</code>
instead of <code>string</code> (the type).
</p>
</dd>
<dt> &lsquo;<samp>doc</samp>&rsquo;</dt>
<dd><a name="index-doc"></a>
<p>First, every <code>flag</code> definition <em>other than</em> &ldquo;documentation&rdquo;
definitions, must have a <code>doc</code> attribute defined.  If the option takes
an argument, then it will need an <code>arg-name</code> attribute as well.  The
<code>doc</code> text should be in plain sentences with minimal formatting.  The
Texinfo commands <code>@code</code>, and <code>@var</code> will have its enclosed text
made into <strong>\fB</strong> entries in the man page, and the <code>@file</code> text
will be made into <strong>\fI</strong> entries.  The <code>arg-name</code> attribute is
used to display the option&rsquo;s argument in the man page.
</p>
<p>Options marked with the &ldquo;documentation&rdquo; attribute are for documenting
the usage text.  All other options should have the &ldquo;doc&rdquo; attribute in
order to document the usage of the option in the generated man pages.
</p>
</dd>
<dt> &lsquo;<samp>option-info</samp>&rsquo;</dt>
<dd><a name="index-option_002dinfo"></a>
<p>This text will be inserted as a lead-in paragraph in the <code>OPTIONS</code>
section of the generated man page.
</p>
</dd>
<dt> &lsquo;<samp>doc-section</samp>&rsquo;</dt>
<dd><a name="index-doc_002dsection"></a>
<p>This is a compound attribute that requires three <i>sub</i>attributes:
</p><dl compact="compact">
<dt> <i>ds-type</i></dt>
<dd><p>This describes the section type.  Basically, the title of the section
that will be added to all output documentation.  There may be only one
<code>doc-section</code> for any given <code>ds-type</code>.  If there are duplicates,
the results are undefined (it might work, it might not).
</p>
<p>There are five categories of <code>ds-type</code> sections.
They are those that the documentation templates would otherwise:
</p><ol>
<li>
always create itself, ignoring any <code>ds-type</code>s by this name.
These are marked, below, as <code>ao-only</code>.
</li><li>
create, if none have been provided.
These are marked, <code>alternate</code>.
</li><li>
create, but augment if the <code>doc-section</code> was provided.
These are marked, <code>augments</code>.
</li><li>
do nothing, but inserts them into the output in a prescribed order.
These are marked, <code>known</code>
</li><li>
knows nothing about them.  They will be alphabetized and inserted
after the list of leading sections and before the list of trailing
sections.  These are not marked because I don&rsquo;t know their names.
</li></ol>

<p>Some of these are emitted by the documentation templates only if
certain conditions are met.  If there are conditions, they are
explained below.  If there are no conditions, then you will always
see the named section in the output.
</p>
<p>The output sections will appear in this order:
</p><dl compact="compact">
<dt> &lsquo;<samp>NAME</samp>&rsquo;</dt>
<dd><p><code>ao-only</code>.
</p></dd>
<dt> &lsquo;<samp>SYNOPSIS</samp>&rsquo;</dt>
<dd><p><code>alternate</code>.
</p></dd>
<dt> &lsquo;<samp>DESCRIPTION</samp>&rsquo;</dt>
<dd><p><code>augments</code>.
</p></dd>
<dt> &lsquo;<samp>OPTIONS</samp>&rsquo;</dt>
<dd><p><code>ao-only</code>.
</p></dd>
<dt> &lsquo;<samp>OPTION PRESETS</samp>&rsquo;</dt>
<dd><p><code>ao-only</code>, if environment presets or configuration file processing
has been specified.
</p></dd>
<dt> &lsquo;<samp>unknown</samp>&rsquo;</dt>
<dd><p>At this point, the unknown, alphabetized sections are inserted.
</p></dd>
<dt> &lsquo;<samp>IMPLEMENTATION NOTES</samp>&rsquo;</dt>
<dd><p><code>known</code>
</p></dd>
<dt> &lsquo;<samp>ENVIRONMENT</samp>&rsquo;</dt>
<dd><p><code>augments</code>, if environment presets have been specified.
</p></dd>
<dt> &lsquo;<samp>FILES</samp>&rsquo;</dt>
<dd><p><code>augments</code>, if configuration file processing has been specified.
</p></dd>
<dt> &lsquo;<samp>EXAMPLES</samp>&rsquo;</dt>
<dd><p><code>known</code>
</p></dd>
<dt> &lsquo;<samp>EXIT STATUS</samp>&rsquo;</dt>
<dd><p><code>augments</code>.
</p></dd>
<dt> &lsquo;<samp>ERRORS</samp>&rsquo;</dt>
<dd><p><code>known</code>
</p></dd>
<dt> &lsquo;<samp>COMPATIBILITY</samp>&rsquo;</dt>
<dd><p><code>known</code>
</p></dd>
<dt> &lsquo;<samp>SEE ALSO</samp>&rsquo;</dt>
<dd><p><code>known</code>
</p></dd>
<dt> &lsquo;<samp>CONFORMING TO</samp>&rsquo;</dt>
<dd><p><code>known</code>
</p></dd>
<dt> &lsquo;<samp>HISTORY</samp>&rsquo;</dt>
<dd><p><code>known</code>
</p></dd>
<dt> &lsquo;<samp>AUTHORS</samp>&rsquo;</dt>
<dd><p><code>alternate</code>, if the <code>copyright</code> stanza has either
an <code>author</code> or an <code>owner</code> attribute.
</p></dd>
<dt> &lsquo;<samp>COPYRIGHT</samp>&rsquo;</dt>
<dd><p><code>alternate</code>, if there is a <code>copyright</code> stanza.
</p></dd>
<dt> &lsquo;<samp>BUGS</samp>&rsquo;</dt>
<dd><p><code>augments</code>, if the <code>copyright</code> stanza has an
<code>eaddr</code> attribute.
</p></dd>
<dt> &lsquo;<samp>NOTES</samp>&rsquo;</dt>
<dd><p><code>augments</code>.
</p></dd>
</dl>

</dd>
<dt> <i>ds-format</i></dt>
<dd><p>This describes the format of the associated <code>ds-text</code> section.
<code>man</code>, <code>mdoc</code> and <code>texi</code> formats are supported.
Regardless of the chosen format, the formatting tags in the output
text will be converted to <code>man</code> macros for <code>man</code> pages,
<code>mdoc</code> macros for <code>mdoc</code> pages, and <code>texi</code> macros for
<code>texinfo</code> pages.
</p></dd>
<dt> <i>ds-text</i></dt>
<dd><p>This is the descriptive text, written according to the rules for
<code>ds-format</code> documents.
</p></dd>
</dl>

<p>Here is an example of a &ldquo;doc-section&rdquo; for a &ldquo;SEE ALSO&rdquo; type.
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">doc-section = {
  ds-type   = 'SEE ALSO'; // or anything else
  ds-format = 'man';      // or texi or mdoc format
  ds-text   = &lt;&lt;-_EOText_
	text relevant to this section type,
	in the chosen format
	_EOText_;
};
</pre></td></tr></table>

</dd>
<dt> &lsquo;<samp>prog-man-descrip</samp>&rsquo;</dt>
<dt> &lsquo;<samp>prog-info-descrip</samp>&rsquo;</dt>
<dd><a name="index-prog_002dman_002ddescrip"></a>
<a name="index-prog_002dinfo_002ddescrip"></a>
<p>These attributes are now deprecated.
Please use a <code>doc-section</code> stanza with a <code>ds-type</code>
attribute set to <code>DESCRIPTION</code> instead.
</p>
</dd>
<dt> &lsquo;<samp>detail</samp>&rsquo;</dt>
<dd><a name="index-detail-1"></a>
<p>This attribute is used to add a very short explanation about what
a program is used for when the &ldquo;title&rdquo; attribute is insufficient.
If there is no &ldquo;doc-section&rdquo; stanza of type &ldquo;DESCRIPTION&rdquo;, then
this text is used for the man page DESCRIPTION section, too.
</p></dd>
</dl>

<hr size="6">
<a name="automatic-options"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#documentation-attributes" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#standard-options" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Option-Definitions" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="autogen_7.html#Add_002dOns" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="autogen_0.html#Introduction" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="autogen_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="autogen_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Automatically-Supported-Options"></a>
<h3 class="subsection">7.5.10 Automatically Supported Options</h3>
<a name="index-automatic-options"></a>

<p>AutoOpts provides automated support for several options.  <code>help</code> and
<code>more-help</code> are always provided.  The others are conditional upon
various global program attributes being defined See section <a href="#program-attributes">Program Description Attributes</a>.
</p>
<p>Below are the option names and default flag values.  The flags are activated
if and only if at least one user-defined option also uses a flag value.  The
long names are supported as option names if <code>long-opts</code> has been
specified.  These option flags may be deleted or changed to characters of your
choosing by specifying
<a name="index-more_002dhelp_002dvalue"></a>
<a name="index-usage_002dvalue"></a>
<a name="index-version_002dvalue"></a>
<a name="index-load_002dopts_002dvalue"></a>
<a name="index-reset_002dvalue"></a>
<code>xxx-value = &quot;y&quot;;</code>, where <code>xxx</code> is one of the
option names below and <code>y</code> is either empty or the character of your choice.
For example, to change the help flag from <code>?</code> to <code>h</code>, specify
<a name="index-help_002dvalue"></a>
<code>help-value = &quot;h&quot;;</code>; and to require that <code>save-opts</code> be specified
only with its long option name, specify
<a name="index-save_002dopts_002dvalue"></a>
<code>save-opts-value = &quot;&quot;;</code>.
</p>
<p>With the exception of the <code>load-opts</code> option, none of these automatically
supported options will be recognized in configuration files or environment
variables.
</p>
<dl compact="compact">
<dt> &lsquo;<samp>help -?</samp>&rsquo;</dt>
<dd><p>This option will immediately invoke the <code>USAGE()</code> procedure
and display the usage line, a description of each option with
its description and option usage information.  This is followed
by the contents of the definition of the <code>detail</code> text macro.
</p>
</dd>
<dt> &lsquo;<samp>more-help -!</samp>&rsquo;</dt>
<dd><p>This option is identical to the <code>help</code> option, except that the
output is passed through a pager program.  (<code>more</code> by default, or
the program identified by the <code>PAGER</code> environment variable.)
</p>
</dd>
<dt> &lsquo;<samp>usage -u</samp>&rsquo;</dt>
<dd><p>This option must be requested by specifying, <code>usage-opt</code> in the option
definition file.  It will produce abbreviated help text to &lsquo;<tt>stdout</tt>&rsquo; and
exit with zero status (<code>EXIT_SUCCESS</code>).
</p>
</dd>
<dt> &lsquo;<samp>version -v</samp>&rsquo;</dt>
<dd><p>This will print the program name, title and version.  If it is followed by
the letter <code>c</code> and a value for <code>copyright</code> and <code>owner</code> have
been provided, then the copyright will be printed, too.  If it is followed
by the letter <code>n</code>, then the full copyright notice (if available) will
be printed.  The <code>version</code> attribute must be specified in the option
definition file.
</p>
</dd>
<dt> &lsquo;<samp>load-opts -&lt;</samp>&rsquo;</dt>
<dd><a name="index-configuration-file-1"></a>
<p>This option will load options from the named file.  They will be treated
exactly as if they were loaded from the normally found configuration files,
but will not be loaded until the option is actually processed.  This can also
be used within another configuration file, causing them to nest.  This is the
<strong>only</strong> automatically supported option that can be activated inside of
config files or with environment variables.
</p>
<p>Specifying the negated form of the option (<code>--no-load-opts</code>) will
suppress the processing of configuration files and environment variables.
</p>
<p>This option is activated by specifying one or more <code>homerc</code> attributes.
</p>
</dd>
<dt> &lsquo;<samp>save-opts -&gt;</samp>&rsquo;</dt>
<dd><a name="index-configuration-file-2"></a>
<p>This option will cause the option state to be printed in the configuration file
format when option processing is done but not yet verified for consistency.
The program will terminate successfully without running when this has
completed.  Note that for most shells you will have to quote or escape the
flag character to restrict special meanings to the shell.
</p>
<p>The output file will be the configuration file name (default or provided by
<code>rcfile</code>) in the last directory named in a <code>homerc</code> definition.
</p>
<p>This option may be set from within your program by invoking the
&quot;<code>SET_OPT_SAVE_OPTS(<i>filename</i>)</code>&quot; macro (see section <a href="#SET_005fOPT_005fname">SET_OPT_name - Force an option to be set</a>).
Invoking this macro will set the file name for saving the option processing
state, but the state will <strong>not</strong> actually be saved.  You must call
<code>optionSaveFile</code> to do that (see section <a href="#libopts_002doptionSaveFile">optionSaveFile</a>).
<strong>CAVEAT:</strong> if, after invoking this macro, you call
<code>optionProcess</code>, the option processing state will be saved to this file
and <code>optionProcess</code> will not return.  You may wish to invoke
<code>CLEAR_OPT( SAVE_OPTS )</code> (see section <a href="#CLEAR_005fOPT">CLEAR_OPT( &lt;NAME&gt; ) - Clear Option Markings</a>) beforehand if you do need
to reinvoke <code>optionProcess</code>.
</p>
<p>This option is activated by specifying one or more <code>homerc</code> attributes.
</p>
</dd>
<dt> &lsquo;<samp>reset-option -R</samp>&rsquo;</dt>
<dd><p>This option takes the name of an option for the current program and resets its
state such that it is set back to its original, compile-time initialized
value.  If the option state is subsequently stored (via <code>--save-opts</code>),
the named option will not appear in that file.
</p>
<p>This option is activated by specifying the <code>resettable</code> attribute.
</p>
<p><strong>BEWARE</strong>:  If the <code>resettable</code> attribute is specified, all
option callbacks <strong>must</strong> look for the <code>OPTST_RESET</code> bit in the
<code>fOptState</code> field of the option descriptor.  If set, the <code>optCookie</code>
and <code>optArg</code> fields will be unchanged from their last setting.  When the
callback returns, these fields will be set to their original values.  If you
use this feature and you have allocated data hanging off of the cookie, you
need to deallocate it.
</p></dd>
</dl>

<hr size="6">
<a name="standard-options"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#automatic-options" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts-API" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Option-Definitions" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="autogen_7.html#Add_002dOns" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="autogen_0.html#Introduction" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="autogen_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="autogen_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Library-of-Standard-Options"></a>
<h3 class="subsection">7.5.11 Library of Standard Options</h3>
<a name="index-standard-options"></a>

<p>AutoOpts has developed a set of standardized options.
You may incorporate these options in your program simply by <em>first</em>
adding a <code>#define</code> for the options you want, and then the line,
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">#include stdoptions.def
</pre></td></tr></table>

<p>in your option definitions.  The supported options are specified thus:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">#define DEBUG
#define DIRECTORY
#define DRY_RUN
#define INPUT
#define INTERACTIVE
#define OUTPUT
#define WARN

#define SILENT
#define QUIET
#define BRIEF
#define VERBOSE
</pre></td></tr></table>

<p>By default, only the long form of the option will be available.
To specify the short (flag) form, suffix these names with <code>_FLAG</code>.
e.g.,
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">#define DEBUG_FLAG
</pre></td></tr></table>

<p><code>--silent</code>, <code>--quiet</code>, <code>--brief</code> and <code>--verbose</code> are
related in that they all indicate some level of diagnostic output.
These options are all designed to conflict with each other.
Instead of four different options, however, several levels can be
incorporated by <code>#define</code>-ing <code>VERBOSE_ENUM</code>.  In conjunction
with <code>VERBOSE</code>, it incorporates the notion of <i>5</i> levels in an
enumeration: <code>silent</code>, <code>quiet</code>, <code>brief</code>,
<code>informative</code> and <code>verbose</code>; with the default being
<code>brief</code>.
</p>
<p>Here is an example program that uses the following set of definitions:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">AutoGen Definitions options;

prog-name  = default-test;
prog-title = 'Default Option Example';
homerc     = '$$/../share/default-test', '$HOME', '.';
environrc;
long-opts;
gnu-usage;
usage-opt;
version    = '1.0';
main = {
  main-type = shell-process;
};
#define DEBUG_FLAG
#define WARN_FLAG
#define WARN_LEVEL
#define VERBOSE_FLAG
#define VERBOSE_ENUM
#define DRY_RUN_FLAG
#define OUTPUT_FLAG
#define INPUT_FLAG
#define DIRECTORY_FLAG
#define INTERACTIVE_FLAG
#include stdoptions.def
</pre></td></tr></table>

<p>Running a few simple commands on that definition file:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">autogen default-test.def
copts=&quot;-DTEST_DEFAULT_TEST_OPTS `autoopts-config cflags`&quot;
lopts=&quot;`autoopts-config ldflags`&quot;
cc -o default-test ${copts} default-test.c ${lopts}
</pre></td></tr></table>

<p>Yields a program which, when run with &lsquo;<tt>--help</tt>&rsquo;, prints out:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">default-test - Default Option Example - Ver. 1.0
USAGE:  default-test [ -&lt;flag&gt; [&lt;val&gt;] | --&lt;name&gt;[{=| }&lt;val&gt;] ]...


The following options are commonly used and are provided and supported
by AutoOpts:

   -D, --debug                run program with debugging info
   -V, --verbose=KWd          run program with progress info
   -w, --warn=num             specify a warning-level threshhold
                                - disabled as --no-warn
   -R, --dry-run              program will make no changes
   -I, --interactive=str      prompt for confirmation
   -i, --input=str            redirect input from file
   -o, --output=str           redirect output to file
   -d, --directory=str        use specified dir for I/O

version and help options:

   -v, --version[=arg]        Output version information and exit
   -?, --help                 Display extended usage information and exit
   -!, --more-help            Extended usage information passed thru pager
   -u, --usage                Abbreviated usage to stdout
   -&gt;, --save-opts[=arg]      Save the option state to a config file
   -&lt;, --load-opts=str        Load options from a config file
                                - disabled as --no-load-opts
                                - may appear multiple times

Options are specified by doubled hyphens and their name or by a single
hyphen and the flag character.

The following option preset mechanisms are supported:
 - reading file $$/../share/default-test
 - reading file $HOME/.default_testrc
 - reading file ./.default_testrc
 - examining environment variables named DEFAULT_TEST_*

The valid &quot;verbose&quot; option keywords are:
  silent quiet brief informative verbose
  or an integer from 0 through 4
</pre></td></tr></table>


<hr size="6">
<a name="AutoOpts-API"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#standard-options" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Option-Processing-Data" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="autogen_7.html#Add_002dOns" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="autogen_0.html#Introduction" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="autogen_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="autogen_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Programmatic-Interface"></a>
<h2 class="section">7.6 Programmatic Interface</h2>
<a name="index-AutoOpts-API"></a>

<p>The user interface for access to the argument information is completely
defined in the generated header file and in the portions of the
distributed file &quot;options.h&quot; that are marked &quot;public&quot;.
</p>
<p>In the following macros, text marked <code>&lt;NAME&gt;</code> or <code>name</code>
is the name of the option <strong>in upper case</strong> and <strong>segmented
with underscores <code>_</code></strong>.  The macros and enumerations defined in the
options header (interface) file are used as follows:
</p>
<p>To see how these <code>#define</code> macros are used in a program,
the reader is referred to the several &lsquo;<tt>opts.h</tt>&rsquo; files
included with the AutoGen sources.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#Option-Processing-Data">7.6.1 Data for Option Processing</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#CLEAR_005fOPT">7.6.2 CLEAR_OPT( &lt;NAME&gt; ) - Clear Option Markings</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#COUNT_005fOPT">7.6.3 COUNT_OPT( &lt;NAME&gt; ) - Definition Count</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#DESC">7.6.4 DESC( &lt;NAME&gt; ) - Option Descriptor</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#DISABLE_005fOPT_005fname">7.6.5 DISABLE_OPT_name - Disable an option</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#ENABLED_005fOPT">7.6.6 ENABLED_OPT( &lt;NAME&gt; ) - Is Option Enabled?</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#ERRSKIP_005fOPTERR">7.6.7 ERRSKIP_OPTERR - Ignore Option Errors</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#ERRSTOP_005fOPTERR">7.6.8 ERRSTOP_OPTERR - Stop on Errors</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#HAVE_005fOPT">7.6.9 HAVE_OPT( &lt;NAME&gt; ) - Have this option?</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#ISSEL_005fOPT">7.6.10 ISSEL_OPT( &lt;NAME&gt; ) - Is Option Selected?</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#ISUNUSED_005fOPT">7.6.11 ISUNUSED_OPT( &lt;NAME&gt; ) - Never Specified?</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#OPTION_005fCT">7.6.12 OPTION_CT - Full Count of Options</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#OPT_005fARG">7.6.13 OPT_ARG( &lt;NAME&gt; ) - Option Argument String</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#OPT_005fNO_005fXLAT_005fCFG_005fNAMES">7.6.14 OPT_NO_XLAT_CFG_NAMES - option name xlation</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#OPT_005fNO_005fXLAT_005fOPT_005fNAMES">7.6.15 OPT_NO_XLAT_OPT_NAMES - option name xlation</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#OPT_005fVALUE_005fname">7.6.16 OPT_VALUE_name - Option Argument Value</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#OPT_005fXLAT_005fCFG_005fNAMES">7.6.17 OPT_XLAT_CFG_NAMES - option name xlation</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#OPT_005fXLAT_005fOPT_005fNAMES">7.6.18 OPT_XLAT_OPT_NAMES - option name xlation</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#RESTART_005fOPT">7.6.19 RESTART_OPT( n ) - Resume Option Processing</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#SET_005fOPT_005fname">7.6.20 SET_OPT_name - Force an option to be set</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#STACKCT_005fOPT">7.6.21 STACKCT_OPT( &lt;NAME&gt; ) - Stacked Arg Count</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#STACKLST_005fOPT">7.6.22 STACKLST_OPT( &lt;NAME&gt; ) - Argument Stack</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#START_005fOPT">7.6.23 START_OPT - Restart Option Processing</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#STATE_005fOPT">7.6.24 STATE_OPT( &lt;NAME&gt; ) - Option State</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#USAGE">7.6.25 USAGE( exit-code ) - Usage invocation macro</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#VALUE_005fOPT_005fname">7.6.26 VALUE_OPT_name - Option Flag Value</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#VERSION">7.6.27 VERSION - Version and Full Version</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#WHICH_005fIDX_005fname">7.6.28 WHICH_IDX_name - Which Equivalenced Index</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#WHICH_005fOPT_005fname">7.6.29 WHICH_OPT_name - Which Equivalenced Option</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#teOptIndex">7.6.30 teOptIndex - Option Index and Enumeration</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#OPTIONS_005fSTRUCT_005fVERSION">7.6.31 OPTIONS_STRUCT_VERSION - active version</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#libopts-procedures">7.6.32 libopts External Procedures</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
</table>

<hr size="6">
<a name="Option-Processing-Data"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#AutoOpts-API" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#CLEAR_005fOPT" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts-API" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="autogen_7.html#Add_002dOns" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="autogen_0.html#Introduction" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="autogen_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="autogen_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Data-for-Option-Processing"></a>
<h3 class="subsection">7.6.1 Data for Option Processing</h3>
<a name="index-Option-Processing-Data"></a>

<p>This section describes the data that may be accessed from within the
option processing callback routines.  The following fields may be used
in the following ways and may be used for read only.  The first set is
addressed from the <code>tOptDesc*</code> pointer:
</p>
<dl compact="compact">
<dd><a name="index-optIndex"></a>
</dd>
<dt> &lsquo;<samp>optIndex</samp>&rsquo;</dt>
<dd><a name="index-optValue"></a>
</dd>
<dt> &lsquo;<samp>optValue</samp>&rsquo;</dt>
<dd><p>These may be used by option procedures to determine which option they
are working on (in case they handle several options).
</p>
<a name="index-optActualIndex"></a>
</dd>
<dt> &lsquo;<samp>optActualIndex</samp>&rsquo;</dt>
<dd><a name="index-optActualValue"></a>
</dd>
<dt> &lsquo;<samp>optActualValue</samp>&rsquo;</dt>
<dd><p>These may be used by option procedures to determine which option was
used to set the current option.  This may be different from the above if
the options are members of an equivalence class.
</p>
<a name="index-optOccCt"></a>
</dd>
<dt> &lsquo;<samp>optOccCt</samp>&rsquo;</dt>
<dd><p>If AutoOpts is processing command line arguments, then this value will
contain the current occurrence count.  During the option preset phase
(reading configuration files and examining environment variables), the value is
zero.
</p>
<a name="index-fOptState"></a>
</dd>
<dt> &lsquo;<samp>fOptState</samp>&rsquo;</dt>
<dd><p>The field may be tested for the following bit values
(prefix each name with <code>OPTST_</code>, e.g. <code>OPTST_INIT</code>):
</p>
<dl compact="compact">
<dt> &lsquo;<samp>INIT</samp>&rsquo;</dt>
<dd><p>Initial compiled value.  As a bit test, it will always yield FALSE.
</p>
</dd>
<dt> &lsquo;<samp>SET</samp>&rsquo;</dt>
<dd><p>The option was set via the <code>SET_OPT()</code> macro.
</p>
</dd>
<dt> &lsquo;<samp>PRESET</samp>&rsquo;</dt>
<dd><a name="index-configuration-file-3"></a>
<p>The option was set via a configuration file.
</p>
</dd>
<dt> &lsquo;<samp>DEFINED</samp>&rsquo;</dt>
<dd><p>The option was set via a command line option.
</p>
</dd>
<dt> &lsquo;<samp>SET_MASK</samp>&rsquo;</dt>
<dd><p>This is a mask of flags that show the set state, one of the
above four values.
</p>
</dd>
<dt> &lsquo;<samp>EQUIVALENCE</samp>&rsquo;</dt>
<dd><p>This bit is set when the option was selected by an equivalenced option.
</p>
</dd>
<dt> &lsquo;<samp>DISABLED</samp>&rsquo;</dt>
<dd><p>This bit is set if the option is to be disabled.
(Meaning it was a long option prefixed by the disablement prefix, or
the option has not been specified yet and initializes as <code>disabled</code>.)
</p></dd>
</dl>

<p>As an example of how this might be used, in AutoGen I want to allow
template writers to specify that the template output can be left
in a writable or read-only state.  To support this, there is a Guile
function named <code>set-writable</code> (see section <a href="autogen_2.html#SCM-set_002dwritable">&lsquo;<tt>set-writable</tt>&rsquo; - Make the output file be writable</a>).
Also, I provide for command options <code>--writable</code> and
<code>--not-writable</code>.  I give precedence to command line and RC
file options, thus:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">switch (STATE_OPT( WRITABLE )) {
case OPTST_DEFINED:
case OPTST_PRESET:
    fprintf(stderr, zOverrideWarn, pCurTemplate-&gt;pzFileName,
            pCurMacro-&gt;lineNo);
    break;

default:
    if (gh_boolean_p( set ) &amp;&amp; (set == SCM_BOOL_F))
        CLEAR_OPT( WRITABLE );
    else
        SET_OPT_WRITABLE;
}
</pre></td></tr></table>

<a name="index-pzLastArg"></a>
</dd>
<dt> &lsquo;<samp>pzLastArg</samp>&rsquo;</dt>
<dd><p>Pointer to the latest argument string.  BEWARE If the argument type
is numeric, an enumeration or a bit mask, then this will be the
argument <strong>value</strong> and not a pointer to a string.
</p></dd>
</dl>

<p>The following two fields are addressed from the <code>tOptions*</code> pointer:
</p>
<dl compact="compact">
<dd><a name="index-pzProgName"></a>
</dd>
<dt> &lsquo;<samp>pzProgName</samp>&rsquo;</dt>
<dd><p>Points to a NUL-terminated string containing the current program
name, as retrieved from the argument vector.
</p>
<a name="index-pzProgPath"></a>
</dd>
<dt> &lsquo;<samp>pzProgPath</samp>&rsquo;</dt>
<dd><p>Points to a NUL-terminated string containing the full path of
the current program, as retrieved from the argument vector.
(If available on your system.)
</p>
</dd>
</dl>

<p>Note  these fields get filled in during the first call to
<code>optionProcess()</code>.  All other fields are private, for the exclusive
use of AutoOpts code and are subject to change.
</p>
<hr size="6">
<a name="CLEAR_005fOPT"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Option-Processing-Data" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#COUNT_005fOPT" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts-API" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="autogen_7.html#Add_002dOns" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="autogen_0.html#Introduction" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="autogen_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="autogen_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="CLEAR_005fOPT_0028-_003cNAME_003e-_0029-_002d-Clear-Option-Markings"></a>
<h3 class="subsection">7.6.2 CLEAR_OPT( &lt;NAME&gt; ) - Clear Option Markings</h3>
<a name="index-CLEAR_005fOPT"></a>

<p>Make as if the option had never been specified.
<code>HAVE_OPT(&lt;NAME&gt;)</code> will yield <code>FALSE</code>
after invoking this macro.
</p>
<hr size="6">
<a name="COUNT_005fOPT"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#CLEAR_005fOPT" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#DESC" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts-API" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="autogen_7.html#Add_002dOns" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="autogen_0.html#Introduction" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="autogen_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="autogen_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="COUNT_005fOPT_0028-_003cNAME_003e-_0029-_002d-Definition-Count"></a>
<h3 class="subsection">7.6.3 COUNT_OPT( &lt;NAME&gt; ) - Definition Count</h3>
<a name="index-COUNT_005fOPT"></a>

<p>This macro will tell you how many times the option was
specified on the command line.  It does not include counts
of preset options.
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">if (COUNT_OPT( NAME ) != desired-count) {
    make-an-undesirable-message.
}
</pre></td></tr></table>

<hr size="6">
<a name="DESC"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#COUNT_005fOPT" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#DISABLE_005fOPT_005fname" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts-API" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="autogen_7.html#Add_002dOns" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="autogen_0.html#Introduction" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="autogen_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="autogen_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="DESC_0028-_003cNAME_003e-_0029-_002d-Option-Descriptor"></a>
<h3 class="subsection">7.6.4 DESC( &lt;NAME&gt; ) - Option Descriptor</h3>
<a name="index-DESC"></a>

<p>This macro is used internally by other AutoOpt macros.
It is not for general use.  It is used to obtain the option description
corresponding to its <strong>UPPER CASED</strong> option name argument.
This is primarily used in other macro definitions.
</p>
<hr size="6">
<a name="DISABLE_005fOPT_005fname"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#DESC" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#ENABLED_005fOPT" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts-API" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="autogen_7.html#Add_002dOns" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="autogen_0.html#Introduction" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="autogen_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="autogen_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="DISABLE_005fOPT_005fname-_002d-Disable-an-option"></a>
<h3 class="subsection">7.6.5 DISABLE_OPT_name - Disable an option</h3>
<a name="index-DISABLE_005fOPT_005fname"></a>

<p>This macro is emitted if it is both settable
and it can be disabled.  If it cannot be disabled, it may
always be CLEAR-ed (see above).
</p>
<p>The form of the macro will actually depend on whether the
option is equivalenced to another, and/or has an assigned
handler procedure.  Unlike the <code>SET_OPT</code> macro,
this macro does not allow an option argument.
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">DISABLE_OPT_NAME;
</pre></td></tr></table>

<hr size="6">
<a name="ENABLED_005fOPT"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#DISABLE_005fOPT_005fname" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#ERRSKIP_005fOPTERR" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts-API" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="autogen_7.html#Add_002dOns" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="autogen_0.html#Introduction" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="autogen_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="autogen_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="ENABLED_005fOPT_0028-_003cNAME_003e-_0029-_002d-Is-Option-Enabled_003f"></a>
<h3 class="subsection">7.6.6 ENABLED_OPT( &lt;NAME&gt; ) - Is Option Enabled?</h3>
<a name="index-ENABLED_005fOPT"></a>

<p>Yields true if the option defaults to disabled and
<code>ISUNUSED_OPT()</code> would yield true.  It also yields true if
the option has been specified with a disablement prefix,
disablement value or the <code>DISABLE_OPT_NAME</code> macro was invoked.
</p>
<hr size="6">
<a name="ERRSKIP_005fOPTERR"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#ENABLED_005fOPT" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#ERRSTOP_005fOPTERR" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts-API" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="autogen_7.html#Add_002dOns" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="autogen_0.html#Introduction" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="autogen_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="autogen_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="ERRSKIP_005fOPTERR-_002d-Ignore-Option-Errors"></a>
<h3 class="subsection">7.6.7 ERRSKIP_OPTERR - Ignore Option Errors</h3>
<a name="index-ERRSKIP_005fOPTERR"></a>

<p>When it is necessary to continue (return to caller)
on option errors, invoke this option.  It is reversible.
See section <a href="#ERRSTOP_005fOPTERR">ERRSTOP_OPTERR - Stop on Errors</a>.
</p>
<hr size="6">
<a name="ERRSTOP_005fOPTERR"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#ERRSKIP_005fOPTERR" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#HAVE_005fOPT" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts-API" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="autogen_7.html#Add_002dOns" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="autogen_0.html#Introduction" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="autogen_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="autogen_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="ERRSTOP_005fOPTERR-_002d-Stop-on-Errors"></a>
<h3 class="subsection">7.6.8 ERRSTOP_OPTERR - Stop on Errors</h3>
<a name="index-ERRSTOP_005fOPTERR"></a>

<p>After invoking this macro, if <code>optionProcess()</code>
encounters an error, it will call <code>exit(1)</code> rather than return.
This is the default processing mode.  It can be overridden by
specifying <code>allow-errors</code> in the definitions file,
or invoking the macro See section <a href="#ERRSKIP_005fOPTERR">ERRSKIP_OPTERR - Ignore Option Errors</a>.
</p>
<hr size="6">
<a name="HAVE_005fOPT"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#ERRSTOP_005fOPTERR" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#ISSEL_005fOPT" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts-API" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="autogen_7.html#Add_002dOns" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="autogen_0.html#Introduction" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="autogen_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="autogen_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="HAVE_005fOPT_0028-_003cNAME_003e-_0029-_002d-Have-this-option_003f"></a>
<h3 class="subsection">7.6.9 HAVE_OPT( &lt;NAME&gt; ) - Have this option?</h3>
<a name="index-HAVE_005fOPT"></a>

<p>This macro yields true if the option has been specified
in any fashion at all.  It is used thus:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">if (HAVE_OPT( NAME )) {
    &lt;do-things-associated-with-opt-name&gt;;
}
</pre></td></tr></table>

<hr size="6">
<a name="ISSEL_005fOPT"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#HAVE_005fOPT" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#ISUNUSED_005fOPT" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts-API" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="autogen_7.html#Add_002dOns" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="autogen_0.html#Introduction" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="autogen_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="autogen_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="ISSEL_005fOPT_0028-_003cNAME_003e-_0029-_002d-Is-Option-Selected_003f"></a>
<h3 class="subsection">7.6.10 ISSEL_OPT( &lt;NAME&gt; ) - Is Option Selected?</h3>
<a name="index-ISSEL_005fOPT"></a>

<p>This macro yields true if the option has been
specified either on the command line or via a SET/DISABLE macro.
</p>
<hr size="6">
<a name="ISUNUSED_005fOPT"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#ISSEL_005fOPT" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#OPTION_005fCT" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts-API" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="autogen_7.html#Add_002dOns" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="autogen_0.html#Introduction" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="autogen_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="autogen_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="ISUNUSED_005fOPT_0028-_003cNAME_003e-_0029-_002d-Never-Specified_003f"></a>
<h3 class="subsection">7.6.11 ISUNUSED_OPT( &lt;NAME&gt; ) - Never Specified?</h3>
<a name="index-ISUNUSED_005fOPT"></a>

<p>This macro yields true if the option has
never been specified, or has been cleared via the
<code>CLEAR_OPT()</code> macro.
</p>
<hr size="6">
<a name="OPTION_005fCT"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#ISUNUSED_005fOPT" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#OPT_005fARG" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts-API" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="autogen_7.html#Add_002dOns" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="autogen_0.html#Introduction" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="autogen_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="autogen_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="OPTION_005fCT-_002d-Full-Count-of-Options"></a>
<h3 class="subsection">7.6.12 OPTION_CT - Full Count of Options</h3>
<a name="index-OPTION_005fCT"></a>

<p>The full count of all options, both those defined
and those generated automatically by AutoOpts.  This is primarily
used to initialize the program option descriptor structure.
</p>
<hr size="6">
<a name="OPT_005fARG"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#OPTION_005fCT" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#OPT_005fNO_005fXLAT_005fCFG_005fNAMES" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts-API" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="autogen_7.html#Add_002dOns" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="autogen_0.html#Introduction" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="autogen_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="autogen_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="OPT_005fARG_0028-_003cNAME_003e-_0029-_002d-Option-Argument-String"></a>
<h3 class="subsection">7.6.13 OPT_ARG( &lt;NAME&gt; ) - Option Argument String</h3>
<a name="index-OPT_005fARG"></a>

<p>The option argument value as a pointer to string.  Note that argument
values that have been specified as numbers are stored as numbers or
keywords.  For such options, use instead the <code>OPT_VALUE_name</code>
define.  It is used thus:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">if (HAVE_OPT( NAME )) {
    char* p = OPT_ARG( NAME );
    &lt;do-things-with-opt-name-argument-string&gt;;
}
</pre></td></tr></table>

<hr size="6">
<a name="OPT_005fNO_005fXLAT_005fCFG_005fNAMES"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#OPT_005fARG" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#OPT_005fNO_005fXLAT_005fOPT_005fNAMES" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts-API" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="autogen_7.html#Add_002dOns" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="autogen_0.html#Introduction" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="autogen_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="autogen_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="OPT_005fNO_005fXLAT_005fCFG_005fNAMES-_002d-option-name-xlation"></a>
<h3 class="subsection">7.6.14 OPT_NO_XLAT_CFG_NAMES - option name xlation</h3>
<a name="index-OPT_005fNO_005fXLAT_005fCFG_005fNAMES"></a>

<p>Invoking this macro will disable the translation of option names only while
processing configuration files and environment variables.  This must be
invoked before the first call to <code>optionProcess</code>..  You need not invoke
this if your option definition file contains the attribute assignment,
&ldquo;<code>no-xlate = opt-cfg;</code>&rdquo;.
</p>
<hr size="6">
<a name="OPT_005fNO_005fXLAT_005fOPT_005fNAMES"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#OPT_005fNO_005fXLAT_005fCFG_005fNAMES" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#OPT_005fVALUE_005fname" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts-API" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="autogen_7.html#Add_002dOns" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="autogen_0.html#Introduction" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="autogen_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="autogen_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="OPT_005fNO_005fXLAT_005fOPT_005fNAMES-_002d-option-name-xlation"></a>
<h3 class="subsection">7.6.15 OPT_NO_XLAT_OPT_NAMES - option name xlation</h3>
<a name="index-OPT_005fNO_005fXLAT_005fOPT_005fNAMES"></a>

<p>Invoking this macro will completely disable the translation of option names.
This must be invoked before the first call to <code>optionProcess</code>.  You need
not invoke this if your option definition file contains the attribute
assignment, &ldquo;<code>no-xlate = opt;</code>&rdquo;.
</p>
<hr size="6">
<a name="OPT_005fVALUE_005fname"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#OPT_005fNO_005fXLAT_005fOPT_005fNAMES" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#OPT_005fXLAT_005fCFG_005fNAMES" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts-API" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="autogen_7.html#Add_002dOns" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="autogen_0.html#Introduction" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="autogen_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="autogen_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="OPT_005fVALUE_005fname-_002d-Option-Argument-Value"></a>
<h3 class="subsection">7.6.16 OPT_VALUE_name - Option Argument Value</h3>
<a name="index-OPT_005fVALUE_005fname"></a>

<p>This macro gets emitted only for options that take numeric, keyword or set
membership arguments.  The macro yields a word-sized integer containing the
enumeration, bit set or numeric value for the option argument.
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">int opt_val = OPT_VALUE_name;
</pre></td></tr></table>

<hr size="6">
<a name="OPT_005fXLAT_005fCFG_005fNAMES"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#OPT_005fVALUE_005fname" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#OPT_005fXLAT_005fOPT_005fNAMES" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts-API" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="autogen_7.html#Add_002dOns" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="autogen_0.html#Introduction" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="autogen_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="autogen_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="OPT_005fXLAT_005fCFG_005fNAMES-_002d-option-name-xlation"></a>
<h3 class="subsection">7.6.17 OPT_XLAT_CFG_NAMES - option name xlation</h3>
<a name="index-OPT_005fXLAT_005fCFG_005fNAMES"></a>

<p>If <code>ENABLE_NLS</code> is defined, this macro will cause the translation of
option names to happen before starting the processing of configuration files
and environment variables.  This will change the recognition of options within
the <code>$PROGRAMNAME</code> environment variable, but will not alter the names
used for setting options via <code>$PROGRAMNAME_name</code> environment variables.
</p>
<p>This must be invoked before the first call to <code>optionProcess</code>.  You might
need to use this macro if your option definition file contains the attribute
assignment, &ldquo;<code>no-xlate = opt;</code>&rdquo; or &ldquo;<code>no-xlate = opt-cfg;</code>&rdquo;, and
you have determined in some way that you wish to override that.
</p>
<hr size="6">
<a name="OPT_005fXLAT_005fOPT_005fNAMES"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#OPT_005fXLAT_005fCFG_005fNAMES" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#RESTART_005fOPT" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts-API" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="autogen_7.html#Add_002dOns" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="autogen_0.html#Introduction" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="autogen_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="autogen_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="OPT_005fXLAT_005fOPT_005fNAMES-_002d-option-name-xlation"></a>
<h3 class="subsection">7.6.18 OPT_XLAT_OPT_NAMES - option name xlation</h3>
<a name="index-OPT_005fXLAT_005fOPT_005fNAMES"></a>

<p>If <code>ENABLE_NLS</code> is defined, translate the option names before processing
the command line options.  Long option names may thus be localized.
(If the names were translated before configuration processing, they will
not be re-translated.)
</p>
<p>This must be invoked before the first call to <code>optionProcess</code>.  You might
need to use this macro if your option definition file contains the attribute
assignment, &ldquo;<code>no-xlate = opt;</code>&rdquo; and you have determined in some way that
you wish to override that.
</p>
<hr size="6">
<a name="RESTART_005fOPT"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#OPT_005fXLAT_005fOPT_005fNAMES" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SET_005fOPT_005fname" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts-API" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="autogen_7.html#Add_002dOns" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="autogen_0.html#Introduction" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="autogen_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="autogen_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="RESTART_005fOPT_0028-n-_0029-_002d-Resume-Option-Processing"></a>
<h3 class="subsection">7.6.19 RESTART_OPT( n ) - Resume Option Processing</h3>
<a name="index-RESTART_005fOPT"></a>

<p>If option processing has stopped (either because of an error
or something was encountered that looked like a program argument),
it can be resumed by providing this macro with the index <code>n</code>
of the next option to process and calling <code>optionProcess()</code> again.
</p>
<hr size="6">
<a name="SET_005fOPT_005fname"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#RESTART_005fOPT" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#STACKCT_005fOPT" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts-API" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="autogen_7.html#Add_002dOns" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="autogen_0.html#Introduction" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="autogen_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="autogen_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="SET_005fOPT_005fname-_002d-Force-an-option-to-be-set"></a>
<h3 class="subsection">7.6.20 SET_OPT_name - Force an option to be set</h3>
<a name="index-SET_005fOPT_005fname"></a>

<p>This macro gets emitted only when the given
option has the <code>settable</code> attribute specified.
</p>
<p>The form of the macro will actually depend on whether the option is
equivalenced to another, has an option argument and/or has an assigned
handler procedure.  If the option has an argument, then this macro will
too.  Beware that the argument is not reallocated, so the value must not
be on the stack or deallocated in any other way for as long as the value
might get referenced.
</p>
<p>If you have supplied at least one &lsquo;<tt>homerc</tt>&rsquo; file
(see section <a href="#program-attributes">Program Description Attributes</a>), this macro will be emitted for the
<code>--save-opts</code> option.
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">SET_OPT_SAVE_OPTS( &quot;filename&quot; );
</pre></td></tr></table>

<p>See section <a href="#automatic-options">Automatically Supported Options</a>, for a discussion of the implications of using
this particular example.
</p>
<hr size="6">
<a name="STACKCT_005fOPT"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SET_005fOPT_005fname" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#STACKLST_005fOPT" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts-API" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="autogen_7.html#Add_002dOns" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="autogen_0.html#Introduction" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="autogen_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="autogen_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="STACKCT_005fOPT_0028-_003cNAME_003e-_0029-_002d-Stacked-Arg-Count"></a>
<h3 class="subsection">7.6.21 STACKCT_OPT( &lt;NAME&gt; ) - Stacked Arg Count</h3>
<a name="index-STACKCT_005fOPT"></a>

<p>When the option handling attribute is specified
as <code>stack_arg</code>, this macro may be used to determine how
many of them actually got stacked.
</p>
<p>Do not use this on options that have not been stacked or has not been
specified (the <code>stack_arg</code> attribute must have been specified,
and <code>HAVE_OPT(&lt;NAME&gt;)</code> must yield TRUE).
Otherwise, you will likely seg fault.
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">if (HAVE_OPT( NAME )) {
    int     ct = STACKCT_OPT(  NAME );
    char**  pp = STACKLST_OPT( NAME );

    do  {
        char* p = *pp++;
        do-things-with-p;
    } while (--ct &gt; 0);
}
</pre></td></tr></table>

<hr size="6">
<a name="STACKLST_005fOPT"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#STACKCT_005fOPT" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#START_005fOPT" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts-API" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="autogen_7.html#Add_002dOns" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="autogen_0.html#Introduction" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="autogen_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="autogen_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="STACKLST_005fOPT_0028-_003cNAME_003e-_0029-_002d-Argument-Stack"></a>
<h3 class="subsection">7.6.22 STACKLST_OPT( &lt;NAME&gt; ) - Argument Stack</h3>
<a name="index-STACKLST_005fOPT"></a>

<p>The address of the list of pointers to the
option arguments.  The pointers are ordered by the order in
which they were encountered in the option presets and
command line processing.
</p>
<p>Do not use this on options that have not been stacked or has not been
specified (the <code>stack_arg</code> attribute must have been specified,
and <code>HAVE_OPT(&lt;OPTION&gt;)</code> must yield TRUE).
Otherwise, you will likely seg fault.
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">if (HAVE_OPT( NAME )) {
    int     ct = STACKCT_OPT(  NAME );
    char**  pp = STACKLST_OPT( NAME );

    do  {
        char* p = *pp++;
        do-things-with-p;
    } while (--ct &gt; 0);
}
</pre></td></tr></table>

<hr size="6">
<a name="START_005fOPT"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#STACKLST_005fOPT" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#STATE_005fOPT" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts-API" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="autogen_7.html#Add_002dOns" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="autogen_0.html#Introduction" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="autogen_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="autogen_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="START_005fOPT-_002d-Restart-Option-Processing"></a>
<h3 class="subsection">7.6.23 START_OPT - Restart Option Processing</h3>
<a name="index-START_005fOPT"></a>

<p>This is just a shortcut for RESTART_OPT(1) (See section <a href="#RESTART_005fOPT">RESTART_OPT( n ) - Resume Option Processing</a>.)
</p>
<hr size="6">
<a name="STATE_005fOPT"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#START_005fOPT" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#USAGE" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts-API" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="autogen_7.html#Add_002dOns" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="autogen_0.html#Introduction" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="autogen_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="autogen_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="STATE_005fOPT_0028-_003cNAME_003e-_0029-_002d-Option-State"></a>
<h3 class="subsection">7.6.24 STATE_OPT( &lt;NAME&gt; ) - Option State</h3>
<a name="index-STATE_005fOPT"></a>

<p>If you need to know if an option was set because of presetting actions
(configuration file processing or environment variables), versus a command
line entry versus one of the SET/DISABLE macros, then use this macro.  It
will yield one of four values: <code>OPTST_INIT</code>, <code>OPTST_SET</code>,
<code>OPTST_PRESET</code> or <code>OPTST_DEFINED</code>.  It is used thus:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">switch (STATE_OPT( NAME )) {
    case OPTST_INIT:
        not-preset, set or on the command line.  (unless CLEAR-ed)

    case OPTST_SET:
        option set via the SET_OPT_NAME() macro.

    case OPTST_PRESET:
        option set via an configuration file or environment variable

    case OPTST_DEFINED:
        option set via a command line option.

    default:
        cannot happen :)
}
</pre></td></tr></table>

<hr size="6">
<a name="USAGE"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#STATE_005fOPT" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#VALUE_005fOPT_005fname" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts-API" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="autogen_7.html#Add_002dOns" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="autogen_0.html#Introduction" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="autogen_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="autogen_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="USAGE_0028-exit_002dcode-_0029-_002d-Usage-invocation-macro"></a>
<h3 class="subsection">7.6.25 USAGE( exit-code ) - Usage invocation macro</h3>
<a name="index-USAGE"></a>

<p>This macro invokes the procedure registered to display
the usage text.  Normally, this will be <code>optionUsage</code> from the
AutoOpts library, but you may select another procedure by specifying
<code>usage = &quot;proc_name&quot;</code> program attribute.  This procedure must
take two arguments  first, a pointer to the option descriptor, and
second the exit code.  The macro supplies the option descriptor
automatically.  This routine is expected to call <code>exit(3)</code> with
the provided exit code.
</p>
<p>The <code>optionUsage</code> routine also behaves differently depending
on the exit code:
</p>
<dl compact="compact">
<dt> <code>EXIT_SUCCESS (the value zero)</code></dt>
<dd><p>It is assumed that full usage help has been requested.  Consequently, more
information is provided than when displaying usage and exiting with a
non-zero exit code.  Output will be sent to &lsquo;<tt>stdout</tt>&rsquo; and the program will
exit with a zero status code.
</p>
</dd>
<dt> <code>EX_USAGE (64)</code></dt>
<dd><p>The abbreviated usage will be printed to &lsquo;<tt>stdout</tt>&rsquo; and the program will
exit with a zero status code.  &ldquo;EX_USAGE&rdquo; may or may not be 64.  If your
system provides &ldquo;/usr/include/sysexits.h&rdquo; that has a different value,
then that value will be used.
</p>
</dd>
<dt> <code>any other value</code></dt>
<dd><p>The abbreviated usage will be printed to stderr and the program will
exit with the provided status code.
</p></dd>
</dl>

<hr size="6">
<a name="VALUE_005fOPT_005fname"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#USAGE" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#VERSION" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts-API" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="autogen_7.html#Add_002dOns" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="autogen_0.html#Introduction" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="autogen_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="autogen_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="VALUE_005fOPT_005fname-_002d-Option-Flag-Value"></a>
<h3 class="subsection">7.6.26 VALUE_OPT_name - Option Flag Value</h3>
<a name="index-VALUE_005fOPT_005fname"></a>

<p>This is a #define for the flag character used to
specify an option on the command line.  If <code>value</code> was not
specified for the option, then it is a unique number associated
with the option.  <code>option value</code> refers to this value,
<code>option argument</code> refers to the (optional) argument to the
option.
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">switch (WHICH_OPT_OTHER_OPT) {
case VALUE_OPT_NAME:
    this-option-was-really-opt-name;
case VALUE_OPT_OTHER_OPT:
    this-option-was-really-other-opt;
}
</pre></td></tr></table>

<hr size="6">
<a name="VERSION"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#VALUE_005fOPT_005fname" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#WHICH_005fIDX_005fname" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts-API" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="autogen_7.html#Add_002dOns" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="autogen_0.html#Introduction" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="autogen_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="autogen_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="VERSION-_002d-Version-and-Full-Version"></a>
<h3 class="subsection">7.6.27 VERSION - Version and Full Version</h3>
<a name="index-VERSION"></a>

<p>If the <code>version</code> attribute is defined for the program,
then a stringified version will be #defined as PROGRAM_VERSION and
PROGRAM_FULL_VERSION.  PROGRAM_FULL_VERSION is used for printing
the program version in response to the version option.  The version
option is automatically supplied in response to this attribute, too.
</p>
<p>You may access PROGRAM_VERSION via <code>programOptions.pzFullVersion</code>.
</p>
<hr size="6">
<a name="WHICH_005fIDX_005fname"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#VERSION" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#WHICH_005fOPT_005fname" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts-API" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="autogen_7.html#Add_002dOns" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="autogen_0.html#Introduction" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="autogen_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="autogen_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="WHICH_005fIDX_005fname-_002d-Which-Equivalenced-Index"></a>
<h3 class="subsection">7.6.28 WHICH_IDX_name - Which Equivalenced Index</h3>
<a name="index-WHICH_005fIDX_005fname"></a>

<p>This macro gets emitted only for equivalenced-to options.  It is used to
obtain the index for the one of the several equivalence class members
set the equivalenced-to option.
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">switch (WHICH_IDX_OTHER_OPT) {
case INDEX_OPT_NAME:
    this-option-was-really-opt-name;
case INDEX_OPT_OTHER_OPT:
    this-option-was-really-other-opt;
}
</pre></td></tr></table>

<hr size="6">
<a name="WHICH_005fOPT_005fname"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#WHICH_005fIDX_005fname" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#teOptIndex" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts-API" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="autogen_7.html#Add_002dOns" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="autogen_0.html#Introduction" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="autogen_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="autogen_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="WHICH_005fOPT_005fname-_002d-Which-Equivalenced-Option"></a>
<h3 class="subsection">7.6.29 WHICH_OPT_name - Which Equivalenced Option</h3>
<a name="index-WHICH_005fOPT_005fname"></a>

<p>This macro gets emitted only for equivalenced-to options.  It is used to
obtain the value code for the one of the several equivalence class members
set the equivalenced-to option.
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">switch (WHICH_OPT_OTHER_OPT) {
case VALUE_OPT_NAME:
    this-option-was-really-opt-name;
case VALUE_OPT_OTHER_OPT:
    this-option-was-really-other-opt;
}
</pre></td></tr></table>

<hr size="6">
<a name="teOptIndex"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#WHICH_005fOPT_005fname" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#OPTIONS_005fSTRUCT_005fVERSION" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts-API" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="autogen_7.html#Add_002dOns" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="autogen_0.html#Introduction" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="autogen_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="autogen_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="teOptIndex-_002d-Option-Index-and-Enumeration"></a>
<h3 class="subsection">7.6.30 teOptIndex - Option Index and Enumeration</h3>
<a name="index-teOptIndex"></a>

<p>This enum defines the complete set of options, both
user specified and automatically provided.  This can be used,
for example, to distinguish which of the equivalenced options
was actually used.
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">switch (pOptDesc-&gt;optActualIndex) {
case INDEX_OPT_FIRST:
    stuff;
case INDEX_OPT_DIFFERENT:
    different-stuff;
default:
    unknown-things;
}
</pre></td></tr></table>

<hr size="6">
<a name="OPTIONS_005fSTRUCT_005fVERSION"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#teOptIndex" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#libopts-procedures" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts-API" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="autogen_7.html#Add_002dOns" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="autogen_0.html#Introduction" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="autogen_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="autogen_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="OPTIONS_005fSTRUCT_005fVERSION-_002d-active-version"></a>
<h3 class="subsection">7.6.31 OPTIONS_STRUCT_VERSION - active version</h3>

<p>You will not actually need to reference this value, but you need to be
aware that it is there.  It is the first value in the option descriptor
that you pass to <code>optionProcess</code>.  It contains a magic number and
version information.  Normally, you should be able to work with a more
recent option library than the one you compiled with.  However, if the
library is changed incompatibly, then the library will detect the out of
date magic marker, explain the difficulty and exit.  You will then need
to rebuild and recompile your option definitions.  This has rarely been
necessary.
</p>
<hr size="6">
<a name="libopts-procedures"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#OPTIONS_005fSTRUCT_005fVERSION" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#libopts_002dao_005fstring_005ftokenize" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts-API" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="autogen_7.html#Add_002dOns" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="autogen_0.html#Introduction" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="autogen_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="autogen_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="libopts-External-Procedures"></a>
<h3 class="subsection">7.6.32 libopts External Procedures</h3>

<p>These are the routines that libopts users may call directly from their
code.  There are several other routines that can be called by code
generated by the libopts option templates, but they are not to be
called from any other user code.  The &lsquo;<tt>options.h</tt>&rsquo; header is
fairly clear about this, too.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#libopts_002dao_005fstring_005ftokenize">7.6.32.1 ao_string_tokenize</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#libopts_002dconfigFileLoad">7.6.32.2 configFileLoad</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#libopts_002doptionFileLoad">7.6.32.3 optionFileLoad</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#libopts_002doptionFindNextValue">7.6.32.4 optionFindNextValue</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#libopts_002doptionFindValue">7.6.32.5 optionFindValue</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#libopts_002doptionFree">7.6.32.6 optionFree</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#libopts_002doptionGetValue">7.6.32.7 optionGetValue</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#libopts_002doptionLoadLine">7.6.32.8 optionLoadLine</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#libopts_002doptionNextValue">7.6.32.9 optionNextValue</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#libopts_002doptionOnlyUsage">7.6.32.10 optionOnlyUsage</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#libopts_002doptionProcess">7.6.32.11 optionProcess</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#libopts_002doptionRestore">7.6.32.12 optionRestore</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#libopts_002doptionSaveFile">7.6.32.13 optionSaveFile</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#libopts_002doptionSaveState">7.6.32.14 optionSaveState</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#libopts_002doptionUnloadNested">7.6.32.15 optionUnloadNested</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#libopts_002doptionVersion">7.6.32.16 optionVersion</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#libopts_002dpathfind">7.6.32.17 pathfind</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#libopts_002dstrequate">7.6.32.18 strequate</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#libopts_002dstreqvcmp">7.6.32.19 streqvcmp</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#libopts_002dstreqvmap">7.6.32.20 streqvmap</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#libopts_002dstrneqvcmp">7.6.32.21 strneqvcmp</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#libopts_002dstrtransform">7.6.32.22 strtransform</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
</table>

<p>This subsection was automatically generated by AutoGen
using extracted information and the aginfo3.tpl template.
</p>
<hr size="6">
<a name="libopts_002dao_005fstring_005ftokenize"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#libopts-procedures" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#libopts_002dconfigFileLoad" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#libopts-procedures" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="autogen_7.html#Add_002dOns" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="autogen_0.html#Introduction" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="autogen_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="autogen_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="ao_005fstring_005ftokenize"></a>
<h4 class="subsubsection">7.6.32.1 ao_string_tokenize</h4>
<a name="index-ao_005fstring_005ftokenize"></a>

<p>tokenize an input string
</p>
<p>Usage:
</p><table><tr><td>&nbsp;</td><td><pre class="example">token_list_t* res = ao_string_tokenize( string );
</pre></td></tr></table>
<p>Where the arguments are:
</p><table>
<tr><td width="5%"></td><td width="15%">Name</td><td width="20%">Type</td><td width="55%">Description</td></tr>
<tr><td width="5%"></td><td width="15%">&mdash;&ndash;</td><td width="20%">&mdash;&ndash;</td><td width="55%">&mdash;&mdash;&mdash;&mdash;-</td></tr>
<tr><td width="5%"></td><td width="15%">string</td><td width="20%"><code>char const*</code></td><td width="55%">string to be tokenized</td></tr>
<tr><td width="5%"></td><td width="15%">returns</td><td width="20%">token_list_t*</td><td width="55%">pointer to a structure that lists each token</td></tr>
</table>

<p>This function will convert one input string into a list of strings.
The list of strings is derived by separating the input based on
white space separation.  However, if the input contains either single
or double quote characters, then the text after that character up to
a matching quote will become the string in the list.
</p>
<p>The returned pointer should be deallocated with <code>free(3C)</code> when
are done using the data.  The data are placed in a single block of
allocated memory.  Do not deallocate individual token/strings.
</p>
<p>The structure pointed to will contain at least these two fields:
</p><dl compact="compact">
<dt> &lsquo;<samp>tkn_ct</samp>&rsquo;</dt>
<dd><p>The number of tokens found in the input string.
</p></dd>
<dt> &lsquo;<samp>tok_list</samp>&rsquo;</dt>
<dd><p>An array of <code>tkn_ct + 1</code> pointers to substring tokens, with
the last pointer set to NULL.
</p></dd>
</dl>

<p>There are two types of quoted strings: single quoted (<code>'</code>) and
double quoted (<code>&quot;</code>).  Singly quoted strings are fairly raw in that
escape characters (<code>\\</code>) are simply another character, except when
preceding the following characters:
</p><table><tr><td>&nbsp;</td><td><pre class="example"><code>\\</code>  double backslashes reduce to one
<code>'</code>   incorporates the single quote into the string
<code>\n</code>  suppresses both the backslash and newline character
</pre></td></tr></table>

<p>Double quote strings are formed according to the rules of string
constants in ANSI-C programs.
</p>
<p>NULL is returned and <code>errno</code> will be set to indicate the problem:
</p><ul>
<li>
<code>EINVAL</code> - There was an unterminated quoted string.
</li><li>
<code>ENOENT</code> - The input string was empty.
</li><li>
<code>ENOMEM</code> - There is not enough memory.
</li></ul>


<hr size="6">
<a name="libopts_002dconfigFileLoad"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#libopts_002dao_005fstring_005ftokenize" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#libopts_002doptionFileLoad" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#libopts-procedures" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="autogen_7.html#Add_002dOns" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="autogen_0.html#Introduction" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="autogen_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="autogen_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="configFileLoad"></a>
<h4 class="subsubsection">7.6.32.2 configFileLoad</h4>
<a name="index-configFileLoad"></a>

<p>parse a configuration file
</p>
<p>Usage:
</p><table><tr><td>&nbsp;</td><td><pre class="example">const tOptionValue* res = configFileLoad( pzFile );
</pre></td></tr></table>
<p>Where the arguments are:
</p><table>
<tr><td width="5%"></td><td width="15%">Name</td><td width="20%">Type</td><td width="55%">Description</td></tr>
<tr><td width="5%"></td><td width="15%">&mdash;&ndash;</td><td width="20%">&mdash;&ndash;</td><td width="55%">&mdash;&mdash;&mdash;&mdash;-</td></tr>
<tr><td width="5%"></td><td width="15%">pzFile</td><td width="20%"><code>char const*</code></td><td width="55%">the file to load</td></tr>
<tr><td width="5%"></td><td width="15%">returns</td><td width="20%">const tOptionValue*</td><td width="55%">An allocated, compound value structure</td></tr>
</table>

<p>This routine will load a named configuration file and parse the
text as a hierarchically valued option.  The option descriptor
created from an option definition file is not used via this interface.
The returned value is &quot;named&quot; with the input file name and is of
type &quot;<code>OPARG_TYPE_HIERARCHY</code>&quot;.  It may be used in calls to
<code>optionGetValue()</code>, <code>optionNextValue()</code> and
<code>optionUnloadNested()</code>.
</p>
<p>If the file cannot be loaded or processed, <code>NULL</code> is returned and
<var>errno</var> is set.  It may be set by a call to either <code>open(2)</code>
<code>mmap(2)</code> or other file system calls, or it may be:
</p><ul>
<li>
<code>ENOENT</code> - the file was empty.
</li><li>
<code>EINVAL</code> - the file contents are invalid &ndash; not properly formed.
</li><li>
<code>ENOMEM</code> - not enough memory to allocate the needed structures.
</li></ul>


<hr size="6">
<a name="libopts_002doptionFileLoad"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#libopts_002dconfigFileLoad" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#libopts_002doptionFindNextValue" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#libopts-procedures" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="autogen_7.html#Add_002dOns" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="autogen_0.html#Introduction" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="autogen_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="autogen_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="optionFileLoad"></a>
<h4 class="subsubsection">7.6.32.3 optionFileLoad</h4>
<a name="index-optionFileLoad"></a>

<p>Load the locatable config files, in order
</p>
<p>Usage:
</p><table><tr><td>&nbsp;</td><td><pre class="example">int res = optionFileLoad( pOpts, pzProg );
</pre></td></tr></table>
<p>Where the arguments are:
</p><table>
<tr><td width="5%"></td><td width="15%">Name</td><td width="20%">Type</td><td width="55%">Description</td></tr>
<tr><td width="5%"></td><td width="15%">&mdash;&ndash;</td><td width="20%">&mdash;&ndash;</td><td width="55%">&mdash;&mdash;&mdash;&mdash;-</td></tr>
<tr><td width="5%"></td><td width="15%">pOpts</td><td width="20%"><code>tOptions*</code></td><td width="55%">program options descriptor</td></tr>
<tr><td width="5%"></td><td width="15%">pzProg</td><td width="20%"><code>char const*</code></td><td width="55%">program name</td></tr>
<tr><td width="5%"></td><td width="15%">returns</td><td width="20%">int</td><td width="55%">0 -&gt; SUCCESS, -1 -&gt; FAILURE</td></tr>
</table>

<p>This function looks in all the specified directories for a configuration
file (&quot;rc&quot; file or &quot;ini&quot; file) and processes any found twice.  The first
time through, they are processed in reverse order (last file first).  At
that time, only &quot;immediate action&quot; configurables are processed.  For
example, if the last named file specifies not processing any more
configuration files, then no more configuration files will be processed.
Such an option in the <strong>first</strong> named directory will have no effect.
</p>
<p>Once the immediate action configurables have been handled, then the
directories are handled in normal, forward order.  In that way, later
config files can override the settings of earlier config files.
</p>
<p>See the AutoOpts documentation for a thorough discussion of the
config file format.
</p>
<p>Configuration files not found or not decipherable are simply ignored.
</p>
<p>Returns the value, &quot;-1&quot; if the program options descriptor
is out of date or indecipherable.  Otherwise, the value &quot;0&quot; will
always be returned.
</p>

<hr size="6">
<a name="libopts_002doptionFindNextValue"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#libopts_002doptionFileLoad" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#libopts_002doptionFindValue" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#libopts-procedures" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="autogen_7.html#Add_002dOns" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="autogen_0.html#Introduction" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="autogen_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="autogen_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="optionFindNextValue"></a>
<h4 class="subsubsection">7.6.32.4 optionFindNextValue</h4>
<a name="index-optionFindNextValue"></a>

<p>find a hierarcicaly valued option instance
</p>
<p>Usage:
</p><table><tr><td>&nbsp;</td><td><pre class="example">const tOptionValue* res = optionFindNextValue( pOptDesc, pPrevVal, name, value );
</pre></td></tr></table>
<p>Where the arguments are:
</p><table>
<tr><td width="5%"></td><td width="15%">Name</td><td width="20%">Type</td><td width="55%">Description</td></tr>
<tr><td width="5%"></td><td width="15%">&mdash;&ndash;</td><td width="20%">&mdash;&ndash;</td><td width="55%">&mdash;&mdash;&mdash;&mdash;-</td></tr>
<tr><td width="5%"></td><td width="15%">pOptDesc</td><td width="20%"><code>const tOptDesc*</code></td><td width="55%">an option with a nested arg type</td></tr>
<tr><td width="5%"></td><td width="15%">pPrevVal</td><td width="20%"><code>const tOptionValue*</code></td><td width="55%">the last entry</td></tr>
<tr><td width="5%"></td><td width="15%">name</td><td width="20%"><code>char const*</code></td><td width="55%">name of value to find</td></tr>
<tr><td width="5%"></td><td width="15%">value</td><td width="20%"><code>char const*</code></td><td width="55%">the matching value</td></tr>
<tr><td width="5%"></td><td width="15%">returns</td><td width="20%">const tOptionValue*</td><td width="55%">a compound value structure</td></tr>
</table>

<p>This routine will find the next entry in a nested value option or
configurable.  It will search through the list and return the next entry
that matches the criteria.
</p>
<p>The returned result is NULL and errno is set:
</p><ul>
<li>
<code>EINVAL</code> - the <code>pOptValue</code> does not point to a valid
hierarchical option value.
</li><li>
<code>ENOENT</code> - no entry matched the given name.
</li></ul>


<hr size="6">
<a name="libopts_002doptionFindValue"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#libopts_002doptionFindNextValue" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#libopts_002doptionFree" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#libopts-procedures" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="autogen_7.html#Add_002dOns" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="autogen_0.html#Introduction" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="autogen_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="autogen_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="optionFindValue"></a>
<h4 class="subsubsection">7.6.32.5 optionFindValue</h4>
<a name="index-optionFindValue"></a>

<p>find a hierarcicaly valued option instance
</p>
<p>Usage:
</p><table><tr><td>&nbsp;</td><td><pre class="example">const tOptionValue* res = optionFindValue( pOptDesc, name, value );
</pre></td></tr></table>
<p>Where the arguments are:
</p><table>
<tr><td width="5%"></td><td width="15%">Name</td><td width="20%">Type</td><td width="55%">Description</td></tr>
<tr><td width="5%"></td><td width="15%">&mdash;&ndash;</td><td width="20%">&mdash;&ndash;</td><td width="55%">&mdash;&mdash;&mdash;&mdash;-</td></tr>
<tr><td width="5%"></td><td width="15%">pOptDesc</td><td width="20%"><code>const tOptDesc*</code></td><td width="55%">an option with a nested arg type</td></tr>
<tr><td width="5%"></td><td width="15%">name</td><td width="20%"><code>char const*</code></td><td width="55%">name of value to find</td></tr>
<tr><td width="5%"></td><td width="15%">value</td><td width="20%"><code>char const*</code></td><td width="55%">the matching value</td></tr>
<tr><td width="5%"></td><td width="15%">returns</td><td width="20%">const tOptionValue*</td><td width="55%">a compound value structure</td></tr>
</table>

<p>This routine will find an entry in a nested value option or configurable.
It will search through the list and return a matching entry.
</p>
<p>The returned result is NULL and errno is set:
</p><ul>
<li>
<code>EINVAL</code> - the <code>pOptValue</code> does not point to a valid
hierarchical option value.
</li><li>
<code>ENOENT</code> - no entry matched the given name.
</li></ul>


<hr size="6">
<a name="libopts_002doptionFree"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#libopts_002doptionFindValue" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#libopts_002doptionGetValue" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#libopts-procedures" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="autogen_7.html#Add_002dOns" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="autogen_0.html#Introduction" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="autogen_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="autogen_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="optionFree"></a>
<h4 class="subsubsection">7.6.32.6 optionFree</h4>
<a name="index-optionFree"></a>

<p>free allocated option processing memory
</p>
<p>Usage:
</p><table><tr><td>&nbsp;</td><td><pre class="example">optionFree( pOpts );
</pre></td></tr></table>
<p>Where the arguments are:
</p><table>
<tr><td width="5%"></td><td width="15%">Name</td><td width="20%">Type</td><td width="55%">Description</td></tr>
<tr><td width="5%"></td><td width="15%">&mdash;&ndash;</td><td width="20%">&mdash;&ndash;</td><td width="55%">&mdash;&mdash;&mdash;&mdash;-</td></tr>
<tr><td width="5%"></td><td width="15%">pOpts</td><td width="20%"><code>tOptions*</code></td><td width="55%">program options descriptor</td></tr>
</table>

<p>AutoOpts sometimes allocates memory and puts pointers to it in the
option state structures.  This routine deallocates all such memory.
</p>
<p>As long as memory has not been corrupted,
this routine is always successful.
</p>

<hr size="6">
<a name="libopts_002doptionGetValue"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#libopts_002doptionFree" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#libopts_002doptionLoadLine" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#libopts-procedures" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="autogen_7.html#Add_002dOns" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="autogen_0.html#Introduction" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="autogen_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="autogen_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="optionGetValue"></a>
<h4 class="subsubsection">7.6.32.7 optionGetValue</h4>
<a name="index-optionGetValue"></a>

<p>get a specific value from a hierarcical list
</p>
<p>Usage:
</p><table><tr><td>&nbsp;</td><td><pre class="example">const tOptionValue* res = optionGetValue( pOptValue, valueName );
</pre></td></tr></table>
<p>Where the arguments are:
</p><table>
<tr><td width="5%"></td><td width="15%">Name</td><td width="20%">Type</td><td width="55%">Description</td></tr>
<tr><td width="5%"></td><td width="15%">&mdash;&ndash;</td><td width="20%">&mdash;&ndash;</td><td width="55%">&mdash;&mdash;&mdash;&mdash;-</td></tr>
<tr><td width="5%"></td><td width="15%">pOptValue</td><td width="20%"><code>const tOptionValue*</code></td><td width="55%">a hierarchcal value</td></tr>
<tr><td width="5%"></td><td width="15%">valueName</td><td width="20%"><code>char const*</code></td><td width="55%">name of value to get</td></tr>
<tr><td width="5%"></td><td width="15%">returns</td><td width="20%">const tOptionValue*</td><td width="55%">a compound value structure</td></tr>
</table>

<p>This routine will find an entry in a nested value option or configurable.
If &quot;valueName&quot; is NULL, then the first entry is returned.  Otherwise,
the first entry with a name that exactly matches the argument will be
returned.
</p>
<p>The returned result is NULL and errno is set:
</p><ul>
<li>
<code>EINVAL</code> - the <code>pOptValue</code> does not point to a valid
hierarchical option value.
</li><li>
<code>ENOENT</code> - no entry matched the given name.
</li></ul>


<hr size="6">
<a name="libopts_002doptionLoadLine"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#libopts_002doptionGetValue" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#libopts_002doptionNextValue" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#libopts-procedures" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="autogen_7.html#Add_002dOns" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="autogen_0.html#Introduction" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="autogen_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="autogen_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="optionLoadLine"></a>
<h4 class="subsubsection">7.6.32.8 optionLoadLine</h4>
<a name="index-optionLoadLine"></a>

<p>process a string for an option name and value
</p>
<p>Usage:
</p><table><tr><td>&nbsp;</td><td><pre class="example">optionLoadLine( pOpts, pzLine );
</pre></td></tr></table>
<p>Where the arguments are:
</p><table>
<tr><td width="5%"></td><td width="15%">Name</td><td width="20%">Type</td><td width="55%">Description</td></tr>
<tr><td width="5%"></td><td width="15%">&mdash;&ndash;</td><td width="20%">&mdash;&ndash;</td><td width="55%">&mdash;&mdash;&mdash;&mdash;-</td></tr>
<tr><td width="5%"></td><td width="15%">pOpts</td><td width="20%"><code>tOptions*</code></td><td width="55%">program options descriptor</td></tr>
<tr><td width="5%"></td><td width="15%">pzLine</td><td width="20%"><code>char const*</code></td><td width="55%">NUL-terminated text</td></tr>
</table>

<p>This is a client program callable routine for setting options from, for
example, the contents of a file that they read in.  Only one option may
appear in the text.  It will be treated as a normal (non-preset) option.
</p>
<p>When passed a pointer to the option struct and a string, it will find
the option named by the first token on the string and set the option
argument to the remainder of the string.  The caller must NUL terminate
the string.  Any embedded new lines will be included in the option
argument.  If the input looks like one or more quoted strings, then the
input will be &quot;cooked&quot;.  The &quot;cooking&quot; is identical to the string
formation used in AutoGen definition files (see section <a href="autogen_2.html#basic-expression">Basic Expression</a>),
except that you may not use backquotes.
</p>
<p>Invalid options are silently ignored.  Invalid option arguments
will cause a warning to print, but the function should return.
</p>

<hr size="6">
<a name="libopts_002doptionNextValue"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#libopts_002doptionLoadLine" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#libopts_002doptionOnlyUsage" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#libopts-procedures" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="autogen_7.html#Add_002dOns" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="autogen_0.html#Introduction" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="autogen_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="autogen_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="optionNextValue"></a>
<h4 class="subsubsection">7.6.32.9 optionNextValue</h4>
<a name="index-optionNextValue"></a>

<p>get the next value from a hierarchical list
</p>
<p>Usage:
</p><table><tr><td>&nbsp;</td><td><pre class="example">const tOptionValue* res = optionNextValue( pOptValue, pOldValue );
</pre></td></tr></table>
<p>Where the arguments are:
</p><table>
<tr><td width="5%"></td><td width="15%">Name</td><td width="20%">Type</td><td width="55%">Description</td></tr>
<tr><td width="5%"></td><td width="15%">&mdash;&ndash;</td><td width="20%">&mdash;&ndash;</td><td width="55%">&mdash;&mdash;&mdash;&mdash;-</td></tr>
<tr><td width="5%"></td><td width="15%">pOptValue</td><td width="20%"><code>const tOptionValue*</code></td><td width="55%">a hierarchcal list value</td></tr>
<tr><td width="5%"></td><td width="15%">pOldValue</td><td width="20%"><code>const tOptionValue*</code></td><td width="55%">a value from this list</td></tr>
<tr><td width="5%"></td><td width="15%">returns</td><td width="20%">const tOptionValue*</td><td width="55%">a compound value structure</td></tr>
</table>

<p>This routine will return the next entry after the entry passed in.  At the
end of the list, NULL will be returned.  If the entry is not found on the
list, NULL will be returned and &quot;<var>errno</var>&quot; will be set to EINVAL.
The &quot;<var>pOldValue</var>&quot; must have been gotten from a prior call to this
routine or to &quot;<code>opitonGetValue()</code>&quot;.
</p>
<p>The returned result is NULL and errno is set:
</p><ul>
<li>
<code>EINVAL</code> - the <code>pOptValue</code> does not point to a valid
hierarchical option value or <code>pOldValue</code> does not point to a
member of that option value.
</li><li>
<code>ENOENT</code> - the supplied <code>pOldValue</code> pointed to the last entry.
</li></ul>


<hr size="6">
<a name="libopts_002doptionOnlyUsage"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#libopts_002doptionNextValue" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#libopts_002doptionProcess" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#libopts-procedures" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="autogen_7.html#Add_002dOns" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="autogen_0.html#Introduction" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="autogen_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="autogen_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="optionOnlyUsage"></a>
<h4 class="subsubsection">7.6.32.10 optionOnlyUsage</h4>
<a name="index-optionOnlyUsage"></a>

<p>Print usage text for just the options
</p>
<p>Usage:
</p><table><tr><td>&nbsp;</td><td><pre class="example">optionOnlyUsage( pOpts, ex_code );
</pre></td></tr></table>
<p>Where the arguments are:
</p><table>
<tr><td width="5%"></td><td width="15%">Name</td><td width="20%">Type</td><td width="55%">Description</td></tr>
<tr><td width="5%"></td><td width="15%">&mdash;&ndash;</td><td width="20%">&mdash;&ndash;</td><td width="55%">&mdash;&mdash;&mdash;&mdash;-</td></tr>
<tr><td width="5%"></td><td width="15%">pOpts</td><td width="20%"><code>tOptions*</code></td><td width="55%">program options descriptor</td></tr>
<tr><td width="5%"></td><td width="15%">ex_code</td><td width="20%"><code>int</code></td><td width="55%">exit code for calling exit(3)</td></tr>
</table>

<p>This routine will print only the usage for each option.
This function may be used when the emitted usage must incorporate
information not available to AutoOpts.
</p>

<hr size="6">
<a name="libopts_002doptionProcess"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#libopts_002doptionOnlyUsage" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#libopts_002doptionRestore" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#libopts-procedures" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="autogen_7.html#Add_002dOns" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="autogen_0.html#Introduction" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="autogen_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="autogen_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="optionProcess"></a>
<h4 class="subsubsection">7.6.32.11 optionProcess</h4>
<a name="index-optionProcess"></a>

<p>this is the main option processing routine
</p>
<p>Usage:
</p><table><tr><td>&nbsp;</td><td><pre class="example">int res = optionProcess( pOpts, argc, argv );
</pre></td></tr></table>
<p>Where the arguments are:
</p><table>
<tr><td width="5%"></td><td width="15%">Name</td><td width="20%">Type</td><td width="55%">Description</td></tr>
<tr><td width="5%"></td><td width="15%">&mdash;&ndash;</td><td width="20%">&mdash;&ndash;</td><td width="55%">&mdash;&mdash;&mdash;&mdash;-</td></tr>
<tr><td width="5%"></td><td width="15%">pOpts</td><td width="20%"><code>tOptions*</code></td><td width="55%">program options descriptor</td></tr>
<tr><td width="5%"></td><td width="15%">argc</td><td width="20%"><code>int</code></td><td width="55%">program arg count</td></tr>
<tr><td width="5%"></td><td width="15%">argv</td><td width="20%"><code>char**</code></td><td width="55%">program arg vector</td></tr>
<tr><td width="5%"></td><td width="15%">returns</td><td width="20%">int</td><td width="55%">the count of the arguments processed</td></tr>
</table>

<p>This is the main entry point for processing options.  It is intended
that this procedure be called once at the beginning of the execution of
a program.  Depending on options selected earlier, it is sometimes
necessary to stop and restart option processing, or to select completely
different sets of options.  This can be done easily, but you generally
do not want to do this.
</p>
<p>The number of arguments processed always includes the program name.
If one of the arguments is &quot;&ndash;&quot;, then it is counted and the processing
stops.  If an error was encountered and errors are to be tolerated, then
the returned value is the index of the argument causing the error.
A hyphen by itself (&quot;-&quot;) will also cause processing to stop and will
<em>not</em> be counted among the processed arguments.  A hyphen by itself
is treated as an operand.  Encountering an operand stops option
processing.
</p>
<p>Errors will cause diagnostics to be printed.  <code>exit(3)</code> may
or may not be called.  It depends upon whether or not the options
were generated with the &quot;allow-errors&quot; attribute, or if the
ERRSKIP_OPTERR or ERRSTOP_OPTERR macros were invoked.
</p>

<hr size="6">
<a name="libopts_002doptionRestore"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#libopts_002doptionProcess" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#libopts_002doptionSaveFile" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#libopts-procedures" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="autogen_7.html#Add_002dOns" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="autogen_0.html#Introduction" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="autogen_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="autogen_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="optionRestore"></a>
<h4 class="subsubsection">7.6.32.12 optionRestore</h4>
<a name="index-optionRestore"></a>

<p>restore option state from memory copy
</p>
<p>Usage:
</p><table><tr><td>&nbsp;</td><td><pre class="example">optionRestore( pOpts );
</pre></td></tr></table>
<p>Where the arguments are:
</p><table>
<tr><td width="5%"></td><td width="15%">Name</td><td width="20%">Type</td><td width="55%">Description</td></tr>
<tr><td width="5%"></td><td width="15%">&mdash;&ndash;</td><td width="20%">&mdash;&ndash;</td><td width="55%">&mdash;&mdash;&mdash;&mdash;-</td></tr>
<tr><td width="5%"></td><td width="15%">pOpts</td><td width="20%"><code>tOptions*</code></td><td width="55%">program options descriptor</td></tr>
</table>

<p>Copy back the option state from saved memory.
The allocated memory is left intact, so this routine can be
called repeatedly without having to call optionSaveState again.
If you are restoring a state that was saved before the first call
to optionProcess(3AO), then you may change the contents of the
argc/argv parameters to optionProcess.
</p>
<p>If you have not called <code>optionSaveState</code> before, a diagnostic is
printed to <code>stderr</code> and exit is called.
</p>

<hr size="6">
<a name="libopts_002doptionSaveFile"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#libopts_002doptionRestore" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#libopts_002doptionSaveState" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#libopts-procedures" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="autogen_7.html#Add_002dOns" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="autogen_0.html#Introduction" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="autogen_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="autogen_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="optionSaveFile"></a>
<h4 class="subsubsection">7.6.32.13 optionSaveFile</h4>
<a name="index-optionSaveFile"></a>

<p>saves the option state to a file
</p>
<p>Usage:
</p><table><tr><td>&nbsp;</td><td><pre class="example">optionSaveFile( pOpts );
</pre></td></tr></table>
<p>Where the arguments are:
</p><table>
<tr><td width="5%"></td><td width="15%">Name</td><td width="20%">Type</td><td width="55%">Description</td></tr>
<tr><td width="5%"></td><td width="15%">&mdash;&ndash;</td><td width="20%">&mdash;&ndash;</td><td width="55%">&mdash;&mdash;&mdash;&mdash;-</td></tr>
<tr><td width="5%"></td><td width="15%">pOpts</td><td width="20%"><code>tOptions*</code></td><td width="55%">program options descriptor</td></tr>
</table>

<p>This routine will save the state of option processing to a file.  The name
of that file can be specified with the argument to the <code>--save-opts</code>
option, or by appending the <code>rcfile</code> attribute to the last
<code>homerc</code> attribute.  If no <code>rcfile</code> attribute was specified, it
will default to <code>.<i>programname</i>rc</code>.  If you wish to specify another
file, you should invoke the <code>SET_OPT_SAVE_OPTS(<i>filename</i>)</code> macro.
</p>
<p>The recommend usage is as follows:
</p><table><tr><td>&nbsp;</td><td><pre class="example">optionProcess(&amp;progOptions, argc, argv);
if (i_want_a_non_standard_place_for_this)
SET_OPT_SAVE_OPTS(&quot;myfilename&quot;);
optionSaveFile(&amp;progOptions);
</pre></td></tr></table>

<p>If no <code>homerc</code> file was specified, this routine will silently return
and do nothing.  If the output file cannot be created or updated, a message
will be printed to <code>stderr</code> and the routine will return.
</p>

<hr size="6">
<a name="libopts_002doptionSaveState"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#libopts_002doptionSaveFile" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#libopts_002doptionUnloadNested" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#libopts-procedures" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="autogen_7.html#Add_002dOns" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="autogen_0.html#Introduction" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="autogen_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="autogen_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="optionSaveState"></a>
<h4 class="subsubsection">7.6.32.14 optionSaveState</h4>
<a name="index-optionSaveState"></a>

<p>saves the option state to memory
</p>
<p>Usage:
</p><table><tr><td>&nbsp;</td><td><pre class="example">optionSaveState( pOpts );
</pre></td></tr></table>
<p>Where the arguments are:
</p><table>
<tr><td width="5%"></td><td width="15%">Name</td><td width="20%">Type</td><td width="55%">Description</td></tr>
<tr><td width="5%"></td><td width="15%">&mdash;&ndash;</td><td width="20%">&mdash;&ndash;</td><td width="55%">&mdash;&mdash;&mdash;&mdash;-</td></tr>
<tr><td width="5%"></td><td width="15%">pOpts</td><td width="20%"><code>tOptions*</code></td><td width="55%">program options descriptor</td></tr>
</table>

<p>This routine will allocate enough memory to save the current option
processing state.  If this routine has been called before, that memory
will be reused.  You may only save one copy of the option state.  This
routine may be called before optionProcess(3AO).  If you do call it
before the first call to optionProcess, then you may also change the
contents of argc/argv after you call optionRestore(3AO)
</p>
<p>In fact, more strongly put: it is safest to only use this function
before having processed any options.  In particular, the saving and
restoring of stacked string arguments and hierarchical values is
disabled.  The values are not saved.
</p>
<p>If it fails to allocate the memory,
it will print a message to stderr and exit.
Otherwise, it will always succeed.
</p>

<hr size="6">
<a name="libopts_002doptionUnloadNested"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#libopts_002doptionSaveState" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#libopts_002doptionVersion" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#libopts-procedures" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="autogen_7.html#Add_002dOns" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="autogen_0.html#Introduction" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="autogen_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="autogen_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="optionUnloadNested"></a>
<h4 class="subsubsection">7.6.32.15 optionUnloadNested</h4>
<a name="index-optionUnloadNested"></a>

<p>Deallocate the memory for a nested value
</p>
<p>Usage:
</p><table><tr><td>&nbsp;</td><td><pre class="example">optionUnloadNested( pOptVal );
</pre></td></tr></table>
<p>Where the arguments are:
</p><table>
<tr><td width="5%"></td><td width="15%">Name</td><td width="20%">Type</td><td width="55%">Description</td></tr>
<tr><td width="5%"></td><td width="15%">&mdash;&ndash;</td><td width="20%">&mdash;&ndash;</td><td width="55%">&mdash;&mdash;&mdash;&mdash;-</td></tr>
<tr><td width="5%"></td><td width="15%">pOptVal</td><td width="20%"><code>tOptionValue const *</code></td><td width="55%">the hierarchical value</td></tr>
</table>

<p>A nested value needs to be deallocated.  The pointer passed in should
have been gotten from a call to <code>configFileLoad()</code> (See
see section <a href="#libopts_002dconfigFileLoad">configFileLoad</a>).
</p>

<hr size="6">
<a name="libopts_002doptionVersion"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#libopts_002doptionUnloadNested" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#libopts_002dpathfind" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#libopts-procedures" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="autogen_7.html#Add_002dOns" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="autogen_0.html#Introduction" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="autogen_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="autogen_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="optionVersion"></a>
<h4 class="subsubsection">7.6.32.16 optionVersion</h4>
<a name="index-optionVersion"></a>

<p>return the compiled AutoOpts version number
</p>
<p>Usage:
</p><table><tr><td>&nbsp;</td><td><pre class="example">char const* res = optionVersion();
</pre></td></tr></table>
<p>Where the arguments are:
</p><table>
<tr><td width="5%"></td><td width="15%">Name</td><td width="20%">Type</td><td width="55%">Description</td></tr>
<tr><td width="5%"></td><td width="15%">&mdash;&ndash;</td><td width="20%">&mdash;&ndash;</td><td width="55%">&mdash;&mdash;&mdash;&mdash;-</td></tr>
<tr><td width="5%"></td><td width="15%">returns</td><td width="20%">char const*</td><td width="55%">the version string in constant memory</td></tr>
</table>

<p>Returns the full version string compiled into the library.
The returned string cannot be modified.
</p>

<hr size="6">
<a name="libopts_002dpathfind"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#libopts_002doptionVersion" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#libopts_002dstrequate" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#libopts-procedures" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="autogen_7.html#Add_002dOns" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="autogen_0.html#Introduction" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="autogen_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="autogen_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="pathfind"></a>
<h4 class="subsubsection">7.6.32.17 pathfind</h4>
<a name="index-pathfind"></a>

<p>fild a file in a list of directories
</p>
<p>Usage:
</p><table><tr><td>&nbsp;</td><td><pre class="example">char* res = pathfind( path, file, mode );
</pre></td></tr></table>
<p>Where the arguments are:
</p><table>
<tr><td width="5%"></td><td width="15%">Name</td><td width="20%">Type</td><td width="55%">Description</td></tr>
<tr><td width="5%"></td><td width="15%">&mdash;&ndash;</td><td width="20%">&mdash;&ndash;</td><td width="55%">&mdash;&mdash;&mdash;&mdash;-</td></tr>
<tr><td width="5%"></td><td width="15%">path</td><td width="20%"><code>char const*</code></td><td width="55%">colon separated list of search directories</td></tr>
<tr><td width="5%"></td><td width="15%">file</td><td width="20%"><code>char const*</code></td><td width="55%">the name of the file to look for</td></tr>
<tr><td width="5%"></td><td width="15%">mode</td><td width="20%"><code>char const*</code></td><td width="55%">the mode bits that must be set to match</td></tr>
<tr><td width="5%"></td><td width="15%">returns</td><td width="20%">char*</td><td width="55%">the path to the located file</td></tr>
</table>

<p>pathfind looks for a a file with name &quot;FILE&quot; and &quot;MODE&quot; access
along colon delimited &quot;PATH&quot;, and returns the full pathname as a
string, or NULL if not found.  If &quot;FILE&quot; contains a slash, then
it is treated as a relative or absolute path and &quot;PATH&quot; is ignored.
</p>
<p><strong>NOTE</strong>: this function is compiled into &lsquo;<tt>libopts</tt>&rsquo; only if
it is not natively supplied.
</p>
<p>The &quot;MODE&quot; argument is a string of option letters chosen from the
list below:
</p><table><tr><td>&nbsp;</td><td><pre class="example">Letter    Meaning
r         readable
w         writable
x         executable
f         normal file       (NOT IMPLEMENTED)
b         block special     (NOT IMPLEMENTED)
c         character special (NOT IMPLEMENTED)
d         directory         (NOT IMPLEMENTED)
p         FIFO (pipe)       (NOT IMPLEMENTED)
u         set user ID bit   (NOT IMPLEMENTED)
g         set group ID bit  (NOT IMPLEMENTED)
k         sticky bit        (NOT IMPLEMENTED)
s         size nonzero      (NOT IMPLEMENTED)
</pre></td></tr></table>

<p>returns NULL if the file is not found.
</p>

<hr size="6">
<a name="libopts_002dstrequate"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#libopts_002dpathfind" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#libopts_002dstreqvcmp" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#libopts-procedures" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="autogen_7.html#Add_002dOns" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="autogen_0.html#Introduction" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="autogen_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="autogen_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="strequate"></a>
<h4 class="subsubsection">7.6.32.18 strequate</h4>
<a name="index-strequate"></a>

<p>map a list of characters to the same value
</p>
<p>Usage:
</p><table><tr><td>&nbsp;</td><td><pre class="example">strequate( ch_list );
</pre></td></tr></table>
<p>Where the arguments are:
</p><table>
<tr><td width="5%"></td><td width="15%">Name</td><td width="20%">Type</td><td width="55%">Description</td></tr>
<tr><td width="5%"></td><td width="15%">&mdash;&ndash;</td><td width="20%">&mdash;&ndash;</td><td width="55%">&mdash;&mdash;&mdash;&mdash;-</td></tr>
<tr><td width="5%"></td><td width="15%">ch_list</td><td width="20%"><code>char const*</code></td><td width="55%">characters to equivalence</td></tr>
</table>

<p>Each character in the input string get mapped to the first character
in the string.
This function name is mapped to option_strequate so as to not conflict
with the POSIX name space.
</p>
<p>none.
</p>

<hr size="6">
<a name="libopts_002dstreqvcmp"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#libopts_002dstrequate" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#libopts_002dstreqvmap" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#libopts-procedures" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="autogen_7.html#Add_002dOns" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="autogen_0.html#Introduction" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="autogen_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="autogen_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="streqvcmp"></a>
<h4 class="subsubsection">7.6.32.19 streqvcmp</h4>
<a name="index-streqvcmp"></a>

<p>compare two strings with an equivalence mapping
</p>
<p>Usage:
</p><table><tr><td>&nbsp;</td><td><pre class="example">int res = streqvcmp( str1, str2 );
</pre></td></tr></table>
<p>Where the arguments are:
</p><table>
<tr><td width="5%"></td><td width="15%">Name</td><td width="20%">Type</td><td width="55%">Description</td></tr>
<tr><td width="5%"></td><td width="15%">&mdash;&ndash;</td><td width="20%">&mdash;&ndash;</td><td width="55%">&mdash;&mdash;&mdash;&mdash;-</td></tr>
<tr><td width="5%"></td><td width="15%">str1</td><td width="20%"><code>char const*</code></td><td width="55%">first string</td></tr>
<tr><td width="5%"></td><td width="15%">str2</td><td width="20%"><code>char const*</code></td><td width="55%">second string</td></tr>
<tr><td width="5%"></td><td width="15%">returns</td><td width="20%">int</td><td width="55%">the difference between two differing characters</td></tr>
</table>

<p>Using a character mapping, two strings are compared for &quot;equivalence&quot;.
Each input character is mapped to a comparison character and the
mapped-to characters are compared for the two NUL terminated input strings.
This function name is mapped to option_streqvcmp so as to not conflict
with the POSIX name space.
</p>
<p>none checked.  Caller responsible for seg faults.
</p>

<hr size="6">
<a name="libopts_002dstreqvmap"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#libopts_002dstreqvcmp" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#libopts_002dstrneqvcmp" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#libopts-procedures" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="autogen_7.html#Add_002dOns" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="autogen_0.html#Introduction" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="autogen_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="autogen_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="streqvmap"></a>
<h4 class="subsubsection">7.6.32.20 streqvmap</h4>
<a name="index-streqvmap"></a>

<p>Set the character mappings for the streqv functions
</p>
<p>Usage:
</p><table><tr><td>&nbsp;</td><td><pre class="example">streqvmap( From, To, ct );
</pre></td></tr></table>
<p>Where the arguments are:
</p><table>
<tr><td width="5%"></td><td width="15%">Name</td><td width="20%">Type</td><td width="55%">Description</td></tr>
<tr><td width="5%"></td><td width="15%">&mdash;&ndash;</td><td width="20%">&mdash;&ndash;</td><td width="55%">&mdash;&mdash;&mdash;&mdash;-</td></tr>
<tr><td width="5%"></td><td width="15%">From</td><td width="20%"><code>char</code></td><td width="55%">Input character</td></tr>
<tr><td width="5%"></td><td width="15%">To</td><td width="20%"><code>char</code></td><td width="55%">Mapped-to character</td></tr>
<tr><td width="5%"></td><td width="15%">ct</td><td width="20%"><code>int</code></td><td width="55%">compare length</td></tr>
</table>

<p>Set the character mapping.  If the count (<code>ct</code>) is set to zero, then
the map is cleared by setting all entries in the map to their index
value.  Otherwise, the &quot;<code>From</code>&quot; character is mapped to the &quot;<code>To</code>&quot;
character.  If <code>ct</code> is greater than 1, then <code>From</code> and <code>To</code>
are incremented and the process repeated until <code>ct</code> entries have been
set. For example,
</p><table><tr><td>&nbsp;</td><td><pre class="example">streqvmap('a', 'A', 26);
</pre></td></tr></table>
<p>will alter the mapping so that all English lower case letters
will map to upper case.
</p>
<p>This function name is mapped to option_streqvmap so as to not conflict
with the POSIX name space.
</p>
<p>none.
</p>

<hr size="6">
<a name="libopts_002dstrneqvcmp"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#libopts_002dstreqvmap" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#libopts_002dstrtransform" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#libopts-procedures" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="autogen_7.html#Add_002dOns" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="autogen_0.html#Introduction" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="autogen_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="autogen_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="strneqvcmp"></a>
<h4 class="subsubsection">7.6.32.21 strneqvcmp</h4>
<a name="index-strneqvcmp"></a>

<p>compare two strings with an equivalence mapping
</p>
<p>Usage:
</p><table><tr><td>&nbsp;</td><td><pre class="example">int res = strneqvcmp( str1, str2, ct );
</pre></td></tr></table>
<p>Where the arguments are:
</p><table>
<tr><td width="5%"></td><td width="15%">Name</td><td width="20%">Type</td><td width="55%">Description</td></tr>
<tr><td width="5%"></td><td width="15%">&mdash;&ndash;</td><td width="20%">&mdash;&ndash;</td><td width="55%">&mdash;&mdash;&mdash;&mdash;-</td></tr>
<tr><td width="5%"></td><td width="15%">str1</td><td width="20%"><code>char const*</code></td><td width="55%">first string</td></tr>
<tr><td width="5%"></td><td width="15%">str2</td><td width="20%"><code>char const*</code></td><td width="55%">second string</td></tr>
<tr><td width="5%"></td><td width="15%">ct</td><td width="20%"><code>int</code></td><td width="55%">compare length</td></tr>
<tr><td width="5%"></td><td width="15%">returns</td><td width="20%">int</td><td width="55%">the difference between two differing characters</td></tr>
</table>

<p>Using a character mapping, two strings are compared for &quot;equivalence&quot;.
Each input character is mapped to a comparison character and the
mapped-to characters are compared for the two NUL terminated input strings.
The comparison is limited to <code>ct</code> bytes.
This function name is mapped to option_strneqvcmp so as to not conflict
with the POSIX name space.
</p>
<p>none checked.  Caller responsible for seg faults.
</p>

<hr size="6">
<a name="libopts_002dstrtransform"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#libopts_002dstrneqvcmp" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Multi_002dThreading" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#libopts-procedures" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="autogen_7.html#Add_002dOns" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="autogen_0.html#Introduction" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="autogen_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="autogen_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="strtransform"></a>
<h4 class="subsubsection">7.6.32.22 strtransform</h4>
<a name="index-strtransform"></a>

<p>convert a string into its mapped-to value
</p>
<p>Usage:
</p><table><tr><td>&nbsp;</td><td><pre class="example">strtransform( dest, src );
</pre></td></tr></table>
<p>Where the arguments are:
</p><table>
<tr><td width="5%"></td><td width="15%">Name</td><td width="20%">Type</td><td width="55%">Description</td></tr>
<tr><td width="5%"></td><td width="15%">&mdash;&ndash;</td><td width="20%">&mdash;&ndash;</td><td width="55%">&mdash;&mdash;&mdash;&mdash;-</td></tr>
<tr><td width="5%"></td><td width="15%">dest</td><td width="20%"><code>char*</code></td><td width="55%">output string</td></tr>
<tr><td width="5%"></td><td width="15%">src</td><td width="20%"><code>char const*</code></td><td width="55%">input string</td></tr>
</table>

<p>Each character in the input string is mapped and the mapped-to
character is put into the output.
This function name is mapped to option_strtransform so as to not conflict
with the POSIX name space.
</p>
<p>The source and destination may be the same.
</p>
<p>none.
</p>

<hr size="6">
<a name="Multi_002dThreading"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#libopts_002dstrtransform" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#option-descriptor" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="autogen_7.html#Add_002dOns" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="autogen_0.html#Introduction" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="autogen_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="autogen_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Multi_002dThreading-1"></a>
<h2 class="section">7.7 Multi-Threading</h2>

<p>AutoOpts was designed to configure a program for running.  This generally
happens before much real work has been started.  Consequently, it is
expected to be run before multi-threaded applications have started multiple
threads.  However, this is not always the case. Some applications may
need to reset and reload their running configuration, and some may use
<code>SET_OPT_xxx()</code> macros during processing.  If you need to dynamically
change your option configuration in your multi-threaded application, it is
your responsibility to prevent all threads from accessing the option
configuration state, except the one altering the configuration.
</p>
<p>The various accessor macros (<code>HAVE_OPT()</code>, etc.) do not modify state
and are safe to use in a multi-threaded application.  It is safe as long
as no other thread is concurrently modifying state, of course.
</p>

<hr size="6">
<a name="option-descriptor"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Multi_002dThreading" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Using-AutoOpts" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="autogen_7.html#Add_002dOns" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="autogen_0.html#Introduction" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="autogen_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="autogen_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Option-Descriptor-File"></a>
<h2 class="section">7.8 Option Descriptor File</h2>
<a name="index-option-descriptor"></a>

<p>This is the module that is to be compiled and linked with your program.
It contains internal data and procedures subject to change.  Basically,
it contains a single global data structure containing all the
information provided in the option definitions, plus a number of static
strings and any callout procedures that are specified or required.  You
should never have need for looking at this, except, perhaps, to examine
the code generated for implementing the <code>flag-code</code> construct.
</p>

<hr size="6">
<a name="Using-AutoOpts"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#option-descriptor" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#local-use" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="autogen_7.html#Add_002dOns" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="autogen_0.html#Introduction" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="autogen_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="autogen_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Using-AutoOpts-1"></a>
<h2 class="section">7.9 Using AutoOpts</h2>
<a name="index-using-AutoOpts"></a>

<p>There are actually several levels of &ldquo;using&rdquo; autoopts.
Which you choose depends upon how you plan to distribute
(or not) your application.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#local-use">7.9.1 local-only use</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#binary-not-installed">7.9.2 binary distro, AutoOpts not installed</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#binary-pre_002dinstalled">7.9.3 binary distro, AutoOpts pre-installed</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#source-pre_002dinstalled">7.9.4 source distro, AutoOpts pre-installed</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#source-not-installed">7.9.5 source distro, AutoOpts not installed</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
</table>

<hr size="6">
<a name="local-use"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Using-AutoOpts" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#binary-not-installed" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Using-AutoOpts" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="autogen_7.html#Add_002dOns" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="autogen_0.html#Introduction" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="autogen_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="autogen_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="local_002donly-use"></a>
<h3 class="subsection">7.9.1 local-only use</h3>

<p>To use AutoOpts in your application where you do not have to
worry about distribution issues, your issues are simple and few.
</p>
<ul>
<li>
Create a file &lsquo;<samp>myopts.def</samp>&rsquo;, according to the documentation above.
It is probably easiest to start with the example in <a href="#Quick-Start">Quick Start</a>
and edit it into the form you need.

</li><li>
Run AutoGen to create the option interface file (<code>myopts.h</code>)
and the option descriptor code (<code>myopts.c</code>):

<table><tr><td>&nbsp;</td><td><pre class="example">autogen myopts.def
</pre></td></tr></table>

</li><li>
In all your source files where you need to refer to option state,
<code>#include &quot;myopts.h&quot;</code>.
</li><li>
In your main routine, code something along the lines of:

<table><tr><td>&nbsp;</td><td><pre class="example">#define ARGC_MIN some-lower-limit
#define ARGC_MAX some-upper-limit
main( int argc, char** argv )
{
    {
        int arg_ct = optionProcess( &amp;myprogOptions, argc, argv );
        argc -= arg_ct;
        if ((argc &lt; ARGC_MIN) || (argc &gt; ARGC_MAX)) {
            fprintf( stderr, &quot;%s ERROR:  remaining args (%d) &quot;
                     &quot;out of range\n&quot;, myprogOptions.pzProgName,
                     argc );

            USAGE( EXIT_FAILURE );
        }
        argv += arg_ct;
    }
    if (HAVE_OPT(OPTN_NAME))
        respond_to_optn_name();
    ...
}
</pre></td></tr></table>

</li><li>
Compile &lsquo;<samp>myopts.c</samp>&rsquo; and link your program
with the following additional arguments:

<table><tr><td>&nbsp;</td><td><pre class="example">`autoopts-config cflags ldflags` myopts.c
</pre></td></tr></table>
</li></ul>

<hr size="6">
<a name="binary-not-installed"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#local-use" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#binary-pre_002dinstalled" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Using-AutoOpts" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="autogen_7.html#Add_002dOns" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="autogen_0.html#Introduction" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="autogen_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="autogen_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="binary-distro_002c-AutoOpts-not-installed"></a>
<h3 class="subsection">7.9.2 binary distro, AutoOpts not installed</h3>

<p>If you will be distributing (or copying) your project to a system that
does not have AutoOpts installed, you will need to statically link the
AutoOpts library, &ldquo;libopts&rdquo; into your program.  Get the link information
with &ldquo;<code>static-libs</code>&rdquo; instead of &ldquo;<code>ldflags</code>&rdquo;:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">`autoopts-config static-libs`
</pre></td></tr></table>

<hr size="6">
<a name="binary-pre_002dinstalled"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#binary-not-installed" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#source-pre_002dinstalled" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Using-AutoOpts" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="autogen_7.html#Add_002dOns" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="autogen_0.html#Introduction" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="autogen_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="autogen_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="binary-distro_002c-AutoOpts-pre_002dinstalled"></a>
<h3 class="subsection">7.9.3 binary distro, AutoOpts pre-installed</h3>

<p>If you will be distributing (or copying) your project to a system that does
have AutoOpts (or only &ldquo;libopts&rdquo;) installed, you will still need to ensure
that the library is findable at program load time, or you will still have to
statically link.  The former can be accomplished by linking your project with
<code>--rpath</code> or by setting the <code>LD_LIBRARY_PATH</code> appropriately.
Otherwise, See section <a href="#binary-not-installed">binary distro, AutoOpts not installed</a>.
</p>
<hr size="6">
<a name="source-pre_002dinstalled"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#binary-pre_002dinstalled" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#source-not-installed" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Using-AutoOpts" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="autogen_7.html#Add_002dOns" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="autogen_0.html#Introduction" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="autogen_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="autogen_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="source-distro_002c-AutoOpts-pre_002dinstalled"></a>
<h3 class="subsection">7.9.4 source distro, AutoOpts pre-installed</h3>

<p>If you will be distributing your project to a system that will build
your product but it may not be pre-installed with AutoOpts, you will
need to do some configuration checking before you start the build.
Assuming you are willing to fail the build if AutoOpts has not been
installed, you will still need to do a little work.
</p>
<p>AutoOpts is distributed with a configuration check M4 script,
&lsquo;<tt>autoopts.m4</tt>&rsquo;.  It will add an <code>autoconf</code> macro named,
<code>AG_PATH_AUTOOPTS</code>.  Add this to your &lsquo;<tt>configure.ac</tt>&rsquo; script
and use the following substitution values:
</p>
<dl compact="compact">
<dt> <code>AUTOGEN</code></dt>
<dd><p>the name of the autogen executable
</p></dd>
<dt> <code>AUTOGEN_TPLIB</code></dt>
<dd><p>the directory where AutoGen template library is stored
</p></dd>
<dt> <code>AUTOOPTS_CFLAGS</code></dt>
<dd><p>the compile time options needed to find the AutoOpts headers
</p></dd>
<dt> <code>AUTOOPTS_LIBS</code></dt>
<dd><p>the link options required to access the <code>libopts</code> library
</p></dd>
</dl>

<hr size="6">
<a name="source-not-installed"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#source-pre_002dinstalled" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Presetting-Options" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Using-AutoOpts" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="autogen_7.html#Add_002dOns" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="autogen_0.html#Introduction" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="autogen_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="autogen_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="source-distro_002c-AutoOpts-not-installed"></a>
<h3 class="subsection">7.9.5 source distro, AutoOpts not installed</h3>

<p>If you will be distributing your project to a system that will build
your product but it may not be pre-installed with AutoOpts, you may
wish to incorporate the sources for <code>libopts</code> in your project.
To do this, I recommend reading the tear-off libopts library
&lsquo;<tt>README</tt>&rsquo; that you can find in the &lsquo;<tt>pkg/libopts</tt>&rsquo; directory.
You can also examine an example package (blocksort) that incorporates
this tear off library in the autogen distribution directory.  There is
also a web page that describes what you need to do:
</p><table><tr><td>&nbsp;</td><td><pre class="example"><a href="http://autogen.sourceforge.net/blocksort.html">http://autogen.sourceforge.net/blocksort.html</a>
</pre></td></tr></table>

<p>Alternatively, you can pull the <code>libopts</code> library sources into
a build directory and build it for installation along with your package.
This can be done approximately as follows:
</p><table><tr><td>&nbsp;</td><td><pre class="example">tar -xzvf `autoopts-config libsrc`
cd libopts-*
./bootstrap
configure
make
make install
</pre></td></tr></table>
<p>That will install the library, but not the headers or anything else.
</p>

<hr size="6">
<a name="Presetting-Options"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#source-not-installed" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#loading-rcfile" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="autogen_7.html#Add_002dOns" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="autogen_0.html#Introduction" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="autogen_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="autogen_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Configuring-your-program"></a>
<h2 class="section">7.10 Configuring your program</h2>
<a name="index-shell-options"></a>

<p>AutoOpts supports the notion of &ldquo;presetting&rdquo; the value or state of an option.
The values may be obtained either from environment variables or from
configuration files (&lsquo;<tt>rc</tt>&rsquo; or &lsquo;<tt>ini</tt>&rsquo; files).  In order to take
advantage of this, the AutoOpts client program must specify these features
in the option descriptor file (see section <a href="#program-attributes">Program Description Attributes</a>) with the
<code>rcfile</code> or <code>environrc</code> attributes.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#loading-rcfile">7.10.1 configuration file presets</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#saving-rcfile">7.10.2 Saving the presets into a configuration file</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#sample-rcfile">7.10.3 Creating a sample configuration file</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#environrc">7.10.4 environment variable presets</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#config-example">7.10.5 Config file only example</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
</table>

<p>It is also possible to configure your program <i>without</i> using
the command line option parsing code.  This is done by using
only the following four functions from the &lsquo;<tt>libopts</tt>&rsquo; library:
</p>
<dl compact="compact">
<dt> &lsquo;<samp>configFileLoad</samp>&rsquo;</dt>
<dd><p>(see section <a href="#libopts_002dconfigFileLoad">configFileLoad</a>) will parse the contents of a config
file and return a pointer to a structure representing the hierarchical
value.  The values are sorted alphabetically by the value name and all
entries with the same name will retain their original order.
Insertion sort is used.
</p>
</dd>
<dt> &lsquo;<samp>optionGetValue</samp>&rsquo;</dt>
<dd><p>(see section <a href="#libopts_002doptionGetValue">optionGetValue</a>) will find the first value within the
hierarchy with a name that matches the name passed in.
</p>
</dd>
<dt> &lsquo;<samp>optionNextValue</samp>&rsquo;</dt>
<dd><p>(see section <a href="#libopts_002doptionNextValue">optionNextValue</a>) will return the next value that
follows the value passed in as an argument.  If you wish to get all
the values for a particular name, you must take note when the name
changes.
</p>
</dd>
<dt> &lsquo;<samp>optionUnloadNested</samp>&rsquo;</dt>
<dd><p>(see section <a href="#libopts_002doptionUnloadNested">optionUnloadNested</a>).  The pointer passed in must be
of type, <code>OPARG_TYPE_HIERARCHY</code> (see the autoopts/options.h
header file).  <code>configFileLoad</code> will return a <code>tOptionValue</code>
pointer of that type.  This function will release all the associated
memory.  <code>AutoOpts</code> generated code uses this function for its own
needs.  Client code should only call this function with pointers
gotten from <code>configFileLoad</code>.
</p></dd>
</dl>

<hr size="6">
<a name="loading-rcfile"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Presetting-Options" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#saving-rcfile" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Presetting-Options" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="autogen_7.html#Add_002dOns" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="autogen_0.html#Introduction" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="autogen_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="autogen_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="configuration-file-presets"></a>
<h3 class="subsection">7.10.1 configuration file presets</h3>
<a name="index-rcfile-1"></a>

<p>Configuration files are enabled by specifying the program attribute
<code>homerc</code> (see section <a href="#program-attributes">Program Description Attributes</a>).  Any option not marked
with the &ldquo;no-preset&rdquo; attribute may appear in a configuration file.
The files loaded are selected both by the <code>homerc</code> entries and,
optionally, via a command line option.  The first component of the
<code>homerc</code> entry may be an environment variable such as <code>$HOME</code>, or
it may also be <code>$$</code> (<strong>two</strong> dollar sign characters) to specify
the directory of the executable.  For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">homerc = &quot;$$/../share/autogen&quot;;
</pre></td></tr></table>

<p>will cause the AutoOpts library to look in the normal autogen datadir
relative to the current installation directory for autogen.
</p>
<p>The configuration files are processed in the order they are specified by
the <code>homerc</code> attribute, so that each new file will normally override
the settings of the previous files.  This may be overridden by marking some
options for <code>immediate action</code> (see section <a href="#Immediate-Action">Immediate Action Attributes</a>).  Any such
options are acted upon in <strong>reverse</strong> order.  The disabled
<code>load-opts</code> (<code>--no-load-opts</code>) option, for example, is an
immediate action option.  Its presence in the last <code>homerc</code> file will
prevent the processing of any prior <code>homerc</code> files because its effect
is immediate.
</p>
<p>Configuration file processing can be completely suppressed by specifying
<code>--no-load-opts</code> on the command line, or <code>PROGRAM_LOAD_OPTS=no</code> in
the environment (if <code>environrc</code> has been specified).
</p>
<p>See the &ldquo;Configuration File Format&rdquo; section (see section <a href="#Config-File-Format">Configuration File Format</a>)
for details on the format of the file.
</p>
<hr size="6">
<a name="saving-rcfile"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#loading-rcfile" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#sample-rcfile" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Presetting-Options" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="autogen_7.html#Add_002dOns" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="autogen_0.html#Introduction" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="autogen_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="autogen_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Saving-the-presets-into-a-configuration-file"></a>
<h3 class="subsection">7.10.2 Saving the presets into a configuration file</h3>

<p>When configuration files are enabled for an application, the user is
also provided with an automatically supplied <code>--save-opts</code> option.
All of the known option state will be written to either the specified
output file or, if it is not specified, then to the last specified
<code>homerc</code> file.
</p>
<hr size="6">
<a name="sample-rcfile"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#saving-rcfile" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#environrc" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Presetting-Options" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="autogen_7.html#Add_002dOns" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="autogen_0.html#Introduction" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="autogen_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="autogen_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Creating-a-sample-configuration-file"></a>
<h3 class="subsection">7.10.3 Creating a sample configuration file</h3>
<a name="index-sample-rcfile"></a>

<p>AutoOpts is shipped with a template named, &lsquo;<tt>rc-sample.tpl</tt>&rsquo;.
If your option definition file specifies the <code>homerc</code> attribute,
then you may invoke &lsquo;<tt>autogen</tt>&rsquo; thus:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">autogen -Trc-sample &lt;your-option-def-file&gt;
</pre></td></tr></table>

<p>This will, by default, produce a sample file named,
&lsquo;<tt>sample-&lt;prog-name&gt;rc</tt>&rsquo;.  It will be named differently if you specify your
configuration (rc) file name with the <code>rcfile</code> attribute.  In that case,
the output file will be named, &lsquo;<tt>sample-&lt;rcfile-name&gt;</tt>&rsquo;.  It will contain
all of the program options not marked as <code>no-preset</code>.  It will also
include the text from the <code>doc</code> attribute.
</p>
<p>Doing so with getdefs&rsquo; option definitions yields this sample-getdefsrc file.
I tend to be wordy in my <code>doc</code> attributes:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example"># getdefs sample configuration file
## This source file is copyrighted and licensed under the following terms:
#
</pre></td></tr></table>

<hr size="6">
<a name="environrc"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#sample-rcfile" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#config-example" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Presetting-Options" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="autogen_7.html#Add_002dOns" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="autogen_0.html#Introduction" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="autogen_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="autogen_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="environment-variable-presets"></a>
<h3 class="subsection">7.10.4 environment variable presets</h3>
<a name="index-environrc-1"></a>

<p>If the AutoOpts client program specifies <code>environrc</code> in its
option descriptor file, then environment variables will be used for
presetting option state.  Variables will be looked for that are named,
<code>PROGRAM_OPTNAME</code> and <code>PROGRAM</code>.  <code>PROGRAM</code> is the
upper cased <code>C-name</code> of the program, and <code>OPTNAME</code> is the
upper cased <code>C-name</code> of a specific option.  (The <code>C-name</code>s
are the regular names with all special characters converted to
underscores (<code>_</code>).)
</p>
<p>Option specific environment variables are processed after (and thus
take precedence over) the contents of the <code>PROGRAM</code> environment
variable.  The option argument string for these options takes on the
string value gotten from the environment.  Consequently, you can only
have one instance of the <code>OPTNAME</code>.
</p>
<p>If a particular option may be disabled, then its disabled state is
indicated by setting the <code>PROGRAM_OPTNAME</code> value to the
disablement prefix.  So, for example, if the disablement prefix were
<code>dont</code>, then you can disable the <code>optname</code> option by setting
the <code>PROGRAM_OPTNAME</code>&rsquo; environment variable to &lsquo;<i>dont</i>&rsquo;.
See section <a href="#Common-Attributes">Common Option Attributes</a>.
</p>
<p>The <code>PROGRAM</code> environment string is tokenized and parsed much
like a command line.  Doubly quoted strings have backslash escapes
processed the same way they are processed in C program constant
strings.  Singly quoted strings are &ldquo;pretty raw&rdquo; in that backslashes are
honored before other backslashes, apostrophes, newlines and cr/newline
pairs.  The options must be introduced with hyphens in the same way as
the command line.
</p>
<p>Note that not all options may be preset.  Options that are specified with the
<code>no-preset</code> attribute and the <code>--help</code>, <code>--more-help</code>,
and <code>--save-opts</code> auto-supported options may not be preset.
</p>
<hr size="6">
<a name="config-example"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#environrc" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Config-File-Format" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Presetting-Options" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="autogen_7.html#Add_002dOns" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="autogen_0.html#Introduction" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="autogen_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="autogen_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Config-file-only-example"></a>
<h3 class="subsection">7.10.5 Config file only example</h3>
<a name="index-rcfile-2"></a>
<a name="index-Configuration-File"></a>
<a name="index-Configuration-File-example"></a>

<p>If for some reason it is difficult or unworkable to integrate configuration
file processing with command line option parsing, the <code>libopts</code>
(see section <a href="#libopts-procedures">libopts External Procedures</a>) library can still be used to process configuration
files.  Below is a &ldquo;<tt>Hello, World!</tt>&rdquo; greeting program that tries
to load a configuration file &lsquo;<tt>hello.conf</tt>&rsquo; to see if it should use
an alternate greeting or to personalize the salutation.
</p><table><tr><td>&nbsp;</td><td><pre class="example">#include &lt;config.h&gt;
#include &lt;sys/types.h&gt;
#include &lt;stdio.h&gt;
#include &lt;pwd.h&gt;
#include &lt;string.h&gt;
#ifdef   HAVE_UNISTD_H
#include &lt;unistd.h&gt;
#endif
#include &lt;autoopts/options.h&gt;
int main(int argc, char ** argv) {
  char const * greeting = &quot;Hello&quot;;
  char const * greeted  = &quot;World&quot;;
  tOptionValue const * pOV = configFileLoad(&quot;hello.conf&quot;);

  if (pOV != NULL) {
    const tOptionValue* pGetV = optionGetValue(pOV, &quot;greeting&quot;);

    if (  (pGetV != NULL)
       &amp;&amp; (pGetV-&gt;valType == OPARG_TYPE_STRING))
      greeting = strdup(pGetV-&gt;v.strVal);

    pGetV = optionGetValue(pOV, &quot;personalize&quot;);
    if (pGetV != NULL) {
      struct passwd * pwe = getpwuid(getuid());
      if (pwe != NULL)
        greeted = strdup(pwe-&gt;pw_gecos);
    }

    optionUnloadNested(pOV); /* deallocate config data */
  }
  printf(&quot;%s, %s!\n&quot;, greeting, greeted);
  return 0;
}
</pre></td></tr></table>

<p>With that text in a file named &ldquo;hello.c&rdquo;, this short script:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">cc -o hello hello.c `autoopts-config cflags ldflags`
./hello
echo 'greeting Buzz off' &gt; hello.conf
./hello
echo personalize &gt; hello.conf
./hello
</pre></td></tr></table>

<p>will produce the following output:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">Hello, World!
Buzz off, World!
Hello, Build Daemon,,,,!
</pre></td></tr></table>


<hr size="6">
<a name="Config-File-Format"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#config-example" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#config-name_002fstring_002dvalue" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="autogen_7.html#Add_002dOns" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="autogen_0.html#Introduction" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="autogen_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="autogen_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Configuration-File-Format"></a>
<h2 class="section">7.11 Configuration File Format</h2>
<a name="index-Configuration-File-1"></a>

<p>The configuration file is designed to associate names and values, much like
an AutoGen Definition File (see section <a href="autogen_1.html#Definitions-File">Definitions File</a>).  Unfortunately, the
file formats are different.  Specifically, AutoGen Definitions provide for
simpler methods for the precise control of a value string and provides for
dynamically computed content.  Configuration files have some established
traditions in their layout.  So, they are different, even though they do
both allow for a single name to be associated with multiple values and they
both allow for hierarchical values.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#config-name_002fstring_002dvalue">7.11.1 assigning a string value to a configurable</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#config-integer_002dvalues">7.11.2 integer values</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#config-nested_002dvalues">7.11.3 hierarchical values</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#config-directives">7.11.4 configuration file directives</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#config-comments">7.11.5 comments in the configuration file</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
</table>

<hr size="6">
<a name="config-name_002fstring_002dvalue"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Config-File-Format" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#config-integer_002dvalues" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Config-File-Format" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="autogen_7.html#Add_002dOns" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="autogen_0.html#Introduction" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="autogen_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="autogen_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="assigning-a-string-value-to-a-configurable"></a>
<h3 class="subsection">7.11.1 assigning a string value to a configurable</h3>

<p>The basic syntax is a name followed by a value on a single line.  They are
separated from each other by either white space, a colon (<code>:</code>) or an
equal sign (<code>=</code>).  The colon or equal sign may optionally be surrounded
by additional white space.  If more than one value line is needed, a
backslash (<code>\</code>) may be used to continue the value.  The backslash (but
not the newline) will be erased.  Leading and trailing white space is always
stripped from the value.
</p>
<p>Fundamentally, it looks like this:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">name  value for that name
name = another \
     multi-line value \
     for that name.
name: a *third* value for ``name''
</pre></td></tr></table>

<p>If you need more control over the content of the value, you may enclose the
value in XML style brackets:
</p><table><tr><td>&nbsp;</td><td><pre class="example">&lt;name&gt;value &lt;/name&gt;
</pre></td></tr></table>
<p>Within these brackets you need not (must not) continue the value data with
backslashes.  You may also select the string formation rules to use, just
add the attribute after the name, thus: <code>&lt;name keep&gt;</code>.
</p>
<dl compact="compact">
<dt> &lsquo;<samp>keep</samp>&rsquo;</dt>
<dd><p>This mode will keep all text between the brackets and not strip any
white space.
</p></dd>
<dt> &lsquo;<samp>uncooked</samp>&rsquo;</dt>
<dd><p>This mode strips leading and trailing white space, but not do any
quote processing.  This is the default and need not be specified.
</p></dd>
<dt> &lsquo;<samp>cooked</samp>&rsquo;</dt>
<dd><p>The text is trimmed of leading and trailing white space and XML encodings
are processed.  These encodings are slightly expanded over the XML
specification.  They are specified with an ampersand followed by a value
name or numeric value and then a semicolon:
</p>
<dl compact="compact">
<dt>  &lsquo;<samp>amp</samp>&rsquo;</dt>
<dt> &lsquo;<samp>lt</samp>&rsquo;</dt>
<dt> &lsquo;<samp>gt</samp>&rsquo;</dt>
<dt> &lsquo;<samp>quot</samp>&rsquo;</dt>
<dt> &lsquo;<samp>apos</samp>&rsquo;</dt>
<dt> &lsquo;<samp>#dd</samp>&rsquo;</dt>
<dt> &lsquo;<samp>#xHH</samp>&rsquo;</dt>
<dd>
<p>These are all per fairly standad HTML and/or XML encodings.
Additionally:
</p>
</dd>
<dt> &lsquo;<samp>bs</samp>&rsquo;</dt>
<dd><p>The ASCII back space character.
</p></dd>
<dt> &lsquo;<samp>ff</samp>&rsquo;</dt>
<dd><p>The ASCII form feed character.
</p></dd>
<dt> &lsquo;<samp>ht</samp>&rsquo;</dt>
<dd><p>The ASCII horizontal (normal) tab character.
</p></dd>
<dt> &lsquo;<samp>cr</samp>&rsquo;</dt>
<dd><p>The ASCII carriage return character.
</p></dd>
<dt> &lsquo;<samp>vt</samp>&rsquo;</dt>
<dd><p>The ASCII vertical tab character.
</p></dd>
<dt> &lsquo;<samp>bel</samp>&rsquo;</dt>
<dd><p>The ASCII alarm bell character.
</p></dd>
<dt> &lsquo;<samp>nl</samp>&rsquo;</dt>
<dd><p>The ASCII new line character.
</p></dd>
<dt> &lsquo;<samp>space</samp>&rsquo;</dt>
<dd><p>The ASCII space character.  Normally not necessary, but if you want
to preserve leading or trailing space characters, then use this.
</p></dd>
</dl>
</dd>
</dl>

<p>And here is an example of an XML-styled value:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">&lt;name cooked&gt;
    This is&amp;nl;&amp;ht;another multi-line
&amp;ht;string example.
&lt;/name&gt;
</pre></td></tr></table>

<p>The string value associated with &ldquo;name&rdquo; will be exactly the text enclosed
in quotes with the encoded characters &ldquo;cooked&rdquo; as you would expect
(three text lines with the last line not ending with a newline, but
ending with a period).
</p>
<hr size="6">
<a name="config-integer_002dvalues"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#config-name_002fstring_002dvalue" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#config-nested_002dvalues" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Config-File-Format" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="autogen_7.html#Add_002dOns" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="autogen_0.html#Introduction" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="autogen_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="autogen_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="integer-values"></a>
<h3 class="subsection">7.11.2 integer values</h3>

<p>A name can be specified as having an integer value.  To do this, you
must use the XML-ish format and specify a &ldquo;type&rdquo; attribute for
the name:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">&lt;name type=integer&gt; 1234 &lt;/name&gt;
</pre></td></tr></table>

<p>Boolean, enumeration and set membership types will be added as time
allows.  &ldquo;type=string&rdquo; is also supported, but also is the default.
</p>
<hr size="6">
<a name="config-nested_002dvalues"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#config-integer_002dvalues" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#config-directives" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Config-File-Format" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="autogen_7.html#Add_002dOns" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="autogen_0.html#Introduction" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="autogen_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="autogen_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="hierarchical-values"></a>
<h3 class="subsection">7.11.3 hierarchical values</h3>

<p>In order to specify a hierarchical value, you *must* use XML-styled
formatting, specifying a type that is shorter and easier to spell:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">&lt;structured-name type=nested&gt;
    [[....]]
&lt;/structured-name&gt;
</pre></td></tr></table>

<p>The ellipsis may be filled with any legal configuration file name/value
assignments.
</p>
<hr size="6">
<a name="config-directives"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#config-nested_002dvalues" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#config-comments" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Config-File-Format" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="autogen_7.html#Add_002dOns" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="autogen_0.html#Introduction" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="autogen_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="autogen_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="configuration-file-directives"></a>
<h3 class="subsection">7.11.4 configuration file directives</h3>
<a name="index-autoopts-directives"></a>

<p>The <code>&lt;?</code> marker indicates an XML directive.
There is only one directive supported:  program sectioning,
though two syntaxes are supported.
</p>
<p>If, for example, you have a collection of programs that work closely
together and, likely, have a common set of options, these programs may use a
single, sectioned, configuration file.  The file may be sectioned in either
of two ways.  The two ways may not be intermixed in a single configuration
file.  All text before the first segmentation line is processed, then only
the segment that applies:
</p>
<dl compact="compact">
<dt> &lsquo;<samp>&lt;?auto-options ...&gt;</samp>&rsquo;</dt>
<dd><p>The <code>...</code> ellipsis may contain AutoOpts option processing options.
Currently, that consists of one or both of:
</p>
<dl compact="compact">
<dt> <code>gnu</code></dt>
<dt> <code>autoopts</code></dt>
<dd><p>to indicate GNU-standard or AutoOpts-standard layout of usage and
version information, and/or
</p>
</dd>
<dt> <code>misuse-usage</code></dt>
<dt> <code>no-misuse-usage</code></dt>
<dd><p>to indicate whether the available options should be listed when
an invalid option appears on the command line.
</p></dd>
</dl>
<p>Anything else will be silently ignored.
</p>
</dd>
<dt> &lsquo;<samp>&lt;?program prog-name&gt;</samp>&rsquo;</dt>
<dd><p>The <code>&lt;?</code> marker indicates an XML directive.
The file is partitioned by these lines and the options are processed
for the <code>prog-name</code> program only before the first <code>&lt;?program</code>
directive and the program section with a matching program name.
</p>
</dd>
<dt> &lsquo;<samp>[PROG_NAME]</samp>&rsquo;</dt>
<dd><p>This is basically an alias for <code>&lt;?program prog-name&gt;</code>, except that
the program name must be upper cased and segmented only with underscores.
</p></dd>
</dl>

<p>Segmentation does not apply if the config file is being parsed with
the <code>configFileLoad(3AutoOpts)</code> function.
</p>
<hr size="6">
<a name="config-comments"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#config-directives" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#shell-options" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Config-File-Format" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="autogen_7.html#Add_002dOns" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="autogen_0.html#Introduction" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="autogen_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="autogen_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="comments-in-the-configuration-file"></a>
<h3 class="subsection">7.11.5 comments in the configuration file</h3>

<p>Comments are lines beginning with a hash mark (<code>#</code>),
XML-style comments (<code>&lt;!-- arbitrary text --&gt;</code>), and
unrecognized XML directives.
</p>
<table><tr><td>&nbsp;</td><td><pre class="example"># this is a comment
&lt;!-- this is also
     a comment --&gt;
&lt;?this is
  a bad comment ;-&gt;
</pre></td></tr></table>


<hr size="6">
<a name="shell-options"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#config-comments" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#binary_002dparser" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="autogen_7.html#Add_002dOns" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="autogen_0.html#Introduction" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="autogen_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="autogen_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="AutoOpts-for-Shell-Scripts"></a>
<h2 class="section">7.12 AutoOpts for Shell Scripts</h2>
<a name="index-shell-options-1"></a>
<a name="index-configuration-file-4"></a>

<p>AutoOpts may be used with shell scripts either by automatically creating a
complete program that will process command line options and pass back
the results to the invoking shell by issuing shell variable assignment
commands, or it may be used to generate portable shell code that can
be inserted into your script.
</p>
<p>The functionality of these features, of course, is somewhat constrained
compared with the normal program facilities.  Specifically, you cannot
invoke callout procedures with either of these methods.  Additionally,
if you generate a shell script to do the parsing:
</p>
<ol>
<li>
You cannot obtain options from configuration files.
</li><li>
You cannot obtain options from environment variables.
</li><li>
You cannot save the option state to an option file.
</li><li>
Option conflict/requirement verification is disabled.
</li></ol>

<p>Both of these methods are enabled by running AutoGen on
the definitions file with the additional main procedure attribute:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">main = { main-type = shell-process; };
</pre></td></tr></table>
<p>or:
</p><table><tr><td>&nbsp;</td><td><pre class="example">main = { main-type = shell-parser; };
</pre></td></tr></table>

<p>If you do not supply a <code>proc-to-call</code>, it will default to
<code>optionPutShell</code>.  That will produce a program that will process the
options and generate shell text for the invoking shell to interpret
(see section <a href="#binary_002dparser">Parsing with an Executable</a>).  If you supply the name, <code>optionParseShell</code>, then
you will have a program that will generate a shell script that can parse the
options (see section <a href="#script_002dparser">Parsing with a Portable Script</a>).  If you supply a different procedure name,
you will have to provide that routine and it may do whatever you like.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#binary_002dparser">7.12.1 Parsing with an Executable</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#script_002dparser">7.12.2 Parsing with a Portable Script</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
</table>

<hr size="6">
<a name="binary_002dparser"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#shell-options" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#script_002dparser" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#shell-options" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="autogen_7.html#Add_002dOns" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="autogen_0.html#Introduction" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="autogen_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="autogen_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Parsing-with-an-Executable"></a>
<h3 class="subsection">7.12.1 Parsing with an Executable</h3>

<p>The following commands are approximately all that is needed
to build a shell script command line option parser from
an option definition file:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">autogen -L &lt;opt-template-dir&gt; test-errors.def
cc -o test-errors -L &lt;opt-lib-dir&gt; -I &lt;opt-include-dir&gt; \
        -DTEST_PROGRAM_OPTS test-errors.c -lopts
</pre></td></tr></table>

<p>The resulting program can then be used within your shell script as follows:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">eval `./test-errors &quot;$@&quot;`
if [ -z &quot;${OPTION_CT}&quot; ] ; then exit 1 ; fi
test ${OPTION_CT} -gt 0 &amp;&amp; shift ${OPTION_CT}
</pre></td></tr></table>

<p>Here is the usage output example from AutoOpts error handling
tests.  The option definition has argument reordering enabled:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">test_errors - Test AutoOpts for errors
USAGE:  errors [ -&lt;flag&gt; [&lt;val&gt;] | --&lt;name&gt;[{=| }&lt;val&gt;] ]... arg ...
  Flg Arg Option-Name    Description
   -o no  option         The option option descrip
   -s Str second         The second option descrip
                                - may appear up to 10 times
   -i --- ignored        we have dumped this
   -X no  another        Another option descrip
                                - may appear up to 5 times
   -? no  help           Display extended usage information and exit
   -! no  more-help      Extended usage information passed thru pager
   -&gt; opt save-opts      Save the option state to a config file
   -&lt; Str load-opts      Load options from a config file
                                - disabled as --no-load-opts
                                - may appear multiple times

Options are specified by doubled hyphens and their name or by a single
hyphen and the flag character.
Operands and options may be intermixed.  They will be reordered.

The following option preset mechanisms are supported:
 - reading file errorsRC
</pre></td></tr></table>

<p>Using the invocation,
</p><table><tr><td>&nbsp;</td><td><pre class="example">  test-errors operand1 -s first operand2 -X -- -s operand3
</pre></td></tr></table>
<p>you get the following output for your shell script to evaluate:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">OPTION_CT=4
export OPTION_CT
TEST_ERRORS_SECOND='first'
export TEST_ERRORS_SECOND
TEST_ERRORS_ANOTHER=1 # 0x1
export TEST_ERRORS_ANOTHER
set -- 'operand1' 'operand2' '-s' 'operand3'
OPTION_CT=0
</pre></td></tr></table>
<hr size="6">
<a name="script_002dparser"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#binary_002dparser" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#AutoInfo" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#shell-options" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="autogen_7.html#Add_002dOns" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="autogen_0.html#Introduction" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="autogen_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="autogen_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Parsing-with-a-Portable-Script"></a>
<h3 class="subsection">7.12.2 Parsing with a Portable Script</h3>

<p>If you had used <code>test-main = optionParseShell</code> instead, then you can,
at this point, merely run the program and it will write the parsing
script to standard out.  You may also provide this program with command
line options to specify the shell script file to create or edit, and you
may specify the shell program to use on the first shell script line.
That program&rsquo;s usage text would look something like the following
and the script parser itself would be very verbose:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">genshellopt - Generate Shell Option Processing Script - Ver. 1
USAGE:  genshellopt [ -&lt;flag&gt; [&lt;val&gt;] | --&lt;name&gt;[{=| }&lt;val&gt;] ]...
  Flg Arg Option-Name    Description
   -o Str script         Output Script File
   -s Str shell          Shell name (follows &quot;#!&quot; magic)
                                - disabled as --no-shell
                                - enabled by default
   -v opt version        Output version information and exit
   -? no  help           Display extended usage information and exit
   -! no  more-help      Extended usage information passed thru pager

Options are specified by doubled hyphens and their name or by a single
hyphen and the flag character.

Note that ``shell'' is only useful if the output file does not already
exist.  If it does, then the shell name and optional first argument will
be extracted from the script file.

If the script file already exists and contains Automated Option Processing
text, the second line of the file through the ending tag will be replaced
by the newly generated text.  The first ``#!''  line will be regenerated.

please send bug reports to:  autogen-users@lists.sourceforge.net

= = = = = = = =

This incarnation of genshell will produce
a shell script to parse the options for getdefs:

getdefs (GNU AutoGen) - AutoGen Definition Extraction Tool - Ver. 1.5
USAGE:  getdefs [ &lt;option-name&gt;[{=| }&lt;val&gt;] ]...
   Arg Option-Name    Description
   Str defs-to-get    Regexp to look for after the &quot;/*=&quot;
   opt ordering       Alphabetize or use named file
   Num first-index    The first index to apply to groups
   Str input          Input file to search for defs
   Str subblock       subblock definition names
   Str listattr       attribute with list of values
   opt filelist       Insert source file names into defs
   Str assign         Global assignments
   Str common-assign  Assignments common to all blocks
   Str copy           File(s) to copy into definitions
   opt srcfile        Insert source file name into each def
   opt linenum        Insert source line number into each def
   Str output         Output file to open
   opt autogen        Invoke AutoGen with defs
   Str template       Template Name
   Str agarg          AutoGen Argument
   Str base-name      Base name for output file(s)
   opt version        Output version information and exit
   no  help           Display extended usage information and exit
   no  more-help      Extended usage information passed thru pager
   opt save-opts      Save the option state to a config file
   Str load-opts      Load options from a config file

All arguments are named options.

If no ``input'' argument is provided or is set to simply &quot;-&quot;, and if
``stdin'' is not a ``tty'', then the list of input files will be read from
``stdin''.

please send bug reports to:  autogen-users@lists.sourceforge.net
</pre></td></tr></table>

<p>Resulting in the following script:
</p><table><tr><td>&nbsp;</td><td><pre class="example">#! /bin/bash
# # # # # # # # # # -- do not modify this marker --
#
#  DO NOT EDIT THIS SECTION OF /build/buildd-autogen_5.12-0.1-i386-Lbn081/autogen-5.12/doc/ag-texi-12724.d/.ag-OKcPBs/genshellopt.sh
#
#  From here to the next `-- do not modify this marker --',
#  the text has been generated Sunday July 10, 2011 at 03:26:47 PM UTC
#  From the GETDEFS option definitions
#
GETDEFS_LONGUSAGE_TEXT='getdefs (GNU AutoGen) - AutoGen Definition Extraction Tool - Ver. 1.5
USAGE:  getdefs [ &lt;option-name&gt;[{=| }&lt;val&gt;] ]...
   Arg Option-Name    Description
   Str defs-to-get    Regexp to look for after the &quot;/*=&quot;
   opt ordering       Alphabetize or use named file
                                - disabled as --no-ordering
                                - enabled by default
   Num first-index    The first index to apply to groups
   Str input          Input file to search for defs
                                - may appear multiple times
                                - default option for unnamed options
   Str subblock       subblock definition names
                                - may appear multiple times
   Str listattr       attribute with list of values
                                - may appear multiple times
   opt filelist       Insert source file names into defs

Definition insertion options

   Arg Option-Name    Description
   Str assign         Global assignments
                                - may appear multiple times
   Str common-assign  Assignments common to all blocks
                                - may appear multiple times
   Str copy           File(s) to copy into definitions
                                - may appear multiple times
   opt srcfile        Insert source file name into each def
   opt linenum        Insert source line number into each def

Definition output disposition options:

   Arg Option-Name    Description
   Str output         Output file to open
                                - an alternate for autogen
   opt autogen        Invoke AutoGen with defs
                                - disabled as --no-autogen
                                - enabled by default
   Str template       Template Name
   Str agarg          AutoGen Argument
                                - prohibits these options:
                                output
                                - may appear multiple times
   Str base-name      Base name for output file(s)
                                - prohibits these options:
                                output

version and help options:

   Arg Option-Name    Description
   opt version        Output version information and exit
   no  help           Display extended usage information and exit
   no  more-help      Extended usage information passed thru pager
   opt save-opts      Save the option state to a config file
   Str load-opts      Load options from a config file
                                - disabled as --no-load-opts
                                - may appear multiple times

All arguments are named options.

If no ``input'\'''\'' argument is provided or is set to simply &quot;-&quot;, and if
``stdin'\'''\'' is not a ``tty'\'''\'', then the list of input files will be read from
``stdin'\'''\''.

The following option preset mechanisms are supported:
 - reading file /dev/null

This program extracts AutoGen definitions from a list of source files.
Definitions are delimited by ``/*=&lt;entry-type&gt; &lt;entry-name&gt;\n'\'''\'' and
``=*/\n'\'''\''.

please send bug reports to:  autogen-users@lists.sourceforge.net'

GETDEFS_USAGE_TEXT='getdefs (GNU AutoGen) - AutoGen Definition Extraction Tool - Ver. 1.5
USAGE:  getdefs [ &lt;option-name&gt;[{=| }&lt;val&gt;] ]...
   Arg Option-Name    Description
   Str defs-to-get    Regexp to look for after the &quot;/*=&quot;
   opt ordering       Alphabetize or use named file
   Num first-index    The first index to apply to groups
   Str input          Input file to search for defs
   Str subblock       subblock definition names
   Str listattr       attribute with list of values
   opt filelist       Insert source file names into defs
   Str assign         Global assignments
   Str common-assign  Assignments common to all blocks
   Str copy           File(s) to copy into definitions
   opt srcfile        Insert source file name into each def
   opt linenum        Insert source line number into each def
   Str output         Output file to open
   opt autogen        Invoke AutoGen with defs
   Str template       Template Name
   Str agarg          AutoGen Argument
   Str base-name      Base name for output file(s)
   opt version        Output version information and exit
   no  help           Display extended usage information and exit
   no  more-help      Extended usage information passed thru pager
   opt save-opts      Save the option state to a config file
   Str load-opts      Load options from a config file

All arguments are named options.

If no ``input'\'''\'' argument is provided or is set to simply &quot;-&quot;, and if
``stdin'\'''\'' is not a ``tty'\'''\'', then the list of input files will be read from
``stdin'\'''\''.

please send bug reports to:  autogen-users@lists.sourceforge.net'


GETDEFS_DEFS_TO_GET=&quot;${GETDEFS_DEFS_TO_GET}&quot;
GETDEFS_DEFS_TO_GET_set=false
export GETDEFS_DEFS_TO_GET

GETDEFS_ORDERING=&quot;${GETDEFS_ORDERING}&quot;
GETDEFS_ORDERING_set=false
export GETDEFS_ORDERING

GETDEFS_FIRST_INDEX=&quot;${GETDEFS_FIRST_INDEX-'0'}&quot;
GETDEFS_FIRST_INDEX_set=false
export GETDEFS_FIRST_INDEX

if test -z &quot;${GETDEFS_INPUT}&quot;
then
  GETDEFS_INPUT_CT=0
else
  GETDEFS_INPUT_CT=1
  GETDEFS_INPUT_1=&quot;${GETDEFS_INPUT}&quot;
fi
export GETDEFS_INPUT_CT
if test -z &quot;${GETDEFS_SUBBLOCK}&quot;
then
  GETDEFS_SUBBLOCK_CT=0
else
  GETDEFS_SUBBLOCK_CT=1
  GETDEFS_SUBBLOCK_1=&quot;${GETDEFS_SUBBLOCK}&quot;
fi
export GETDEFS_SUBBLOCK_CT
if test -z &quot;${GETDEFS_LISTATTR}&quot;
then
  GETDEFS_LISTATTR_CT=0
else
  GETDEFS_LISTATTR_CT=1
  GETDEFS_LISTATTR_1=&quot;${GETDEFS_LISTATTR}&quot;
fi
export GETDEFS_LISTATTR_CT
GETDEFS_FILELIST=&quot;${GETDEFS_FILELIST}&quot;
GETDEFS_FILELIST_set=false
export GETDEFS_FILELIST

if test -z &quot;${GETDEFS_ASSIGN}&quot;
then
  GETDEFS_ASSIGN_CT=0
else
  GETDEFS_ASSIGN_CT=1
  GETDEFS_ASSIGN_1=&quot;${GETDEFS_ASSIGN}&quot;
fi
export GETDEFS_ASSIGN_CT
if test -z &quot;${GETDEFS_COMMON_ASSIGN}&quot;
then
  GETDEFS_COMMON_ASSIGN_CT=0
else
  GETDEFS_COMMON_ASSIGN_CT=1
  GETDEFS_COMMON_ASSIGN_1=&quot;${GETDEFS_COMMON_ASSIGN}&quot;
fi
export GETDEFS_COMMON_ASSIGN_CT
if test -z &quot;${GETDEFS_COPY}&quot;
then
  GETDEFS_COPY_CT=0
else
  GETDEFS_COPY_CT=1
  GETDEFS_COPY_1=&quot;${GETDEFS_COPY}&quot;
fi
export GETDEFS_COPY_CT
GETDEFS_SRCFILE=&quot;${GETDEFS_SRCFILE}&quot;
GETDEFS_SRCFILE_set=false
export GETDEFS_SRCFILE

GETDEFS_LINENUM=&quot;${GETDEFS_LINENUM}&quot;
GETDEFS_LINENUM_set=false
export GETDEFS_LINENUM

GETDEFS_OUTPUT=&quot;${GETDEFS_OUTPUT}&quot;
GETDEFS_OUTPUT_set=false
export GETDEFS_OUTPUT

GETDEFS_AUTOGEN=&quot;${GETDEFS_AUTOGEN}&quot;
GETDEFS_AUTOGEN_set=false
export GETDEFS_AUTOGEN

GETDEFS_TEMPLATE=&quot;${GETDEFS_TEMPLATE}&quot;
GETDEFS_TEMPLATE_set=false
export GETDEFS_TEMPLATE

if test -z &quot;${GETDEFS_AGARG}&quot;
then
  GETDEFS_AGARG_CT=0
else
  GETDEFS_AGARG_CT=1
  GETDEFS_AGARG_1=&quot;${GETDEFS_AGARG}&quot;
fi
export GETDEFS_AGARG_CT
GETDEFS_BASE_NAME=&quot;${GETDEFS_BASE_NAME}&quot;
GETDEFS_BASE_NAME_set=false
export GETDEFS_BASE_NAME

OPT_ARG=&quot;$1&quot;

while [ $# -gt 0 ]
do
    OPT_ELEMENT=''
    OPT_ARG_VAL=''

    OPT_ARG=&quot;${1}&quot;
        OPT_CODE=`echo &quot;X${OPT_ARG}&quot;|sed 's/^X-*//'`
        shift
        OPT_ARG=&quot;$1&quot;

        case &quot;${OPT_CODE}&quot; in *=* )
            OPT_ARG_VAL=`echo &quot;${OPT_CODE}&quot;|sed 's/^[^=]*=//'`
            OPT_CODE=`echo &quot;${OPT_CODE}&quot;|sed 's/=.*$//'` ;; esac

        case &quot;${OPT_CODE}&quot; in
        'de' | \
        'def' | \
        'defs' | \
        'defs-' | \
        'defs-t' | \
        'defs-to' | \
        'defs-to-' | \
        'defs-to-g' | \
        'defs-to-ge' | \
        'defs-to-get' )
            if [ -n &quot;${GETDEFS_DEFS_TO_GET}&quot; ] &amp;&amp; ${GETDEFS_DEFS_TO_GET_set} ; then
                echo Error:  duplicate DEFS_TO_GET option &gt;&amp;2
                echo &quot;$GETDEFS_USAGE_TEXT&quot;
                exit 1 ; fi
            GETDEFS_DEFS_TO_GET_set=true
            OPT_NAME='DEFS_TO_GET'
            OPT_ARG_NEEDED=YES
            ;;

        'or' | \
        'ord' | \
        'orde' | \
        'order' | \
        'orderi' | \
        'orderin' | \
        'ordering' )
            if [ -n &quot;${GETDEFS_ORDERING}&quot; ] &amp;&amp; ${GETDEFS_ORDERING_set} ; then
                echo Error:  duplicate ORDERING option &gt;&amp;2
                echo &quot;$GETDEFS_USAGE_TEXT&quot;
                exit 1 ; fi
            GETDEFS_ORDERING_set=true
            OPT_NAME='ORDERING'
            eval GETDEFS_ORDERING${OPT_ELEMENT}=true
            export GETDEFS_ORDERING${OPT_ELEMENT}
            OPT_ARG_NEEDED=OK
            ;;

        'no-o' | \
        'no-or' | \
        'no-ord' | \
        'no-orde' | \
        'no-order' | \
        'no-orderi' | \
        'no-orderin' | \
        'no-ordering' )
            if [ -n &quot;${GETDEFS_ORDERING}&quot; ] &amp;&amp; ${GETDEFS_ORDERING_set} ; then
                echo Error:  duplicate ORDERING option &gt;&amp;2
                echo &quot;$GETDEFS_USAGE_TEXT&quot;
                exit 1 ; fi
            GETDEFS_ORDERING_set=true
            GETDEFS_ORDERING='no'
            export GETDEFS_ORDERING
            OPT_NAME='ORDERING'
            OPT_ARG_NEEDED=NO
            ;;

        'fir' | \
        'firs' | \
        'first' | \
        'first-' | \
        'first-i' | \
        'first-in' | \
        'first-ind' | \
        'first-inde' | \
        'first-index' )
            if [ -n &quot;${GETDEFS_FIRST_INDEX}&quot; ] &amp;&amp; ${GETDEFS_FIRST_INDEX_set} ; then
                echo Error:  duplicate FIRST_INDEX option &gt;&amp;2
                echo &quot;$GETDEFS_USAGE_TEXT&quot;
                exit 1 ; fi
            GETDEFS_FIRST_INDEX_set=true
            OPT_NAME='FIRST_INDEX'
            OPT_ARG_NEEDED=YES
            ;;

        'in' | \
        'inp' | \
        'inpu' | \
        'input' )
            GETDEFS_INPUT_CT=`expr ${GETDEFS_INPUT_CT} + 1`
            OPT_ELEMENT=&quot;_${GETDEFS_INPUT_CT}&quot;
            OPT_NAME='INPUT'
            OPT_ARG_NEEDED=YES
            ;;

        'su' | \
        'sub' | \
        'subb' | \
        'subbl' | \
        'subblo' | \
        'subbloc' | \
        'subblock' )
            GETDEFS_SUBBLOCK_CT=`expr ${GETDEFS_SUBBLOCK_CT} + 1`
            OPT_ELEMENT=&quot;_${GETDEFS_SUBBLOCK_CT}&quot;
            OPT_NAME='SUBBLOCK'
            OPT_ARG_NEEDED=YES
            ;;

        'lis' | \
        'list' | \
        'lista' | \
        'listat' | \
        'listatt' | \
        'listattr' )
            GETDEFS_LISTATTR_CT=`expr ${GETDEFS_LISTATTR_CT} + 1`
            OPT_ELEMENT=&quot;_${GETDEFS_LISTATTR_CT}&quot;
            OPT_NAME='LISTATTR'
            OPT_ARG_NEEDED=YES
            ;;

        'fil' | \
        'file' | \
        'filel' | \
        'fileli' | \
        'filelis' | \
        'filelist' )
            if [ -n &quot;${GETDEFS_FILELIST}&quot; ] &amp;&amp; ${GETDEFS_FILELIST_set} ; then
                echo Error:  duplicate FILELIST option &gt;&amp;2
                echo &quot;$GETDEFS_USAGE_TEXT&quot;
                exit 1 ; fi
            GETDEFS_FILELIST_set=true
            OPT_NAME='FILELIST'
            eval GETDEFS_FILELIST${OPT_ELEMENT}=true
            export GETDEFS_FILELIST${OPT_ELEMENT}
            OPT_ARG_NEEDED=OK
            ;;

        'as' | \
        'ass' | \
        'assi' | \
        'assig' | \
        'assign' )
            GETDEFS_ASSIGN_CT=`expr ${GETDEFS_ASSIGN_CT} + 1`
            OPT_ELEMENT=&quot;_${GETDEFS_ASSIGN_CT}&quot;
            OPT_NAME='ASSIGN'
            OPT_ARG_NEEDED=YES
            ;;

        'com' | \
        'comm' | \
        'commo' | \
        'common' | \
        'common-' | \
        'common-a' | \
        'common-as' | \
        'common-ass' | \
        'common-assi' | \
        'common-assig' | \
        'common-assign' )
            GETDEFS_COMMON_ASSIGN_CT=`expr ${GETDEFS_COMMON_ASSIGN_CT} + 1`
            OPT_ELEMENT=&quot;_${GETDEFS_COMMON_ASSIGN_CT}&quot;
            OPT_NAME='COMMON_ASSIGN'
            OPT_ARG_NEEDED=YES
            ;;

        'cop' | \
        'copy' )
            GETDEFS_COPY_CT=`expr ${GETDEFS_COPY_CT} + 1`
            OPT_ELEMENT=&quot;_${GETDEFS_COPY_CT}&quot;
            OPT_NAME='COPY'
            OPT_ARG_NEEDED=YES
            ;;

        'sr' | \
        'src' | \
        'srcf' | \
        'srcfi' | \
        'srcfil' | \
        'srcfile' )
            if [ -n &quot;${GETDEFS_SRCFILE}&quot; ] &amp;&amp; ${GETDEFS_SRCFILE_set} ; then
                echo Error:  duplicate SRCFILE option &gt;&amp;2
                echo &quot;$GETDEFS_USAGE_TEXT&quot;
                exit 1 ; fi
            GETDEFS_SRCFILE_set=true
            OPT_NAME='SRCFILE'
            eval GETDEFS_SRCFILE${OPT_ELEMENT}=true
            export GETDEFS_SRCFILE${OPT_ELEMENT}
            OPT_ARG_NEEDED=OK
            ;;

        'lin' | \
        'line' | \
        'linen' | \
        'linenu' | \
        'linenum' )
            if [ -n &quot;${GETDEFS_LINENUM}&quot; ] &amp;&amp; ${GETDEFS_LINENUM_set} ; then
                echo Error:  duplicate LINENUM option &gt;&amp;2
                echo &quot;$GETDEFS_USAGE_TEXT&quot;
                exit 1 ; fi
            GETDEFS_LINENUM_set=true
            OPT_NAME='LINENUM'
            eval GETDEFS_LINENUM${OPT_ELEMENT}=true
            export GETDEFS_LINENUM${OPT_ELEMENT}
            OPT_ARG_NEEDED=OK
            ;;

        'ou' | \
        'out' | \
        'outp' | \
        'outpu' | \
        'output' )
            if [ -n &quot;${GETDEFS_OUTPUT}&quot; ] &amp;&amp; ${GETDEFS_OUTPUT_set} ; then
                echo Error:  duplicate OUTPUT option &gt;&amp;2
                echo &quot;$GETDEFS_USAGE_TEXT&quot;
                exit 1 ; fi
            GETDEFS_OUTPUT_set=true
            OPT_NAME='OUTPUT'
            OPT_ARG_NEEDED=YES
            ;;

        'au' | \
        'aut' | \
        'auto' | \
        'autog' | \
        'autoge' | \
        'autogen' )
            if [ -n &quot;${GETDEFS_AUTOGEN}&quot; ] &amp;&amp; ${GETDEFS_AUTOGEN_set} ; then
                echo Error:  duplicate AUTOGEN option &gt;&amp;2
                echo &quot;$GETDEFS_USAGE_TEXT&quot;
                exit 1 ; fi
            GETDEFS_AUTOGEN_set=true
            OPT_NAME='AUTOGEN'
            eval GETDEFS_AUTOGEN${OPT_ELEMENT}=true
            export GETDEFS_AUTOGEN${OPT_ELEMENT}
            OPT_ARG_NEEDED=OK
            ;;

        'no-a' | \
        'no-au' | \
        'no-aut' | \
        'no-auto' | \
        'no-autog' | \
        'no-autoge' | \
        'no-autogen' )
            if [ -n &quot;${GETDEFS_AUTOGEN}&quot; ] &amp;&amp; ${GETDEFS_AUTOGEN_set} ; then
                echo Error:  duplicate AUTOGEN option &gt;&amp;2
                echo &quot;$GETDEFS_USAGE_TEXT&quot;
                exit 1 ; fi
            GETDEFS_AUTOGEN_set=true
            GETDEFS_AUTOGEN='no'
            export GETDEFS_AUTOGEN
            OPT_NAME='AUTOGEN'
            OPT_ARG_NEEDED=NO
            ;;

        'te' | \
        'tem' | \
        'temp' | \
        'templ' | \
        'templa' | \
        'templat' | \
        'template' )
            if [ -n &quot;${GETDEFS_TEMPLATE}&quot; ] &amp;&amp; ${GETDEFS_TEMPLATE_set} ; then
                echo Error:  duplicate TEMPLATE option &gt;&amp;2
                echo &quot;$GETDEFS_USAGE_TEXT&quot;
                exit 1 ; fi
            GETDEFS_TEMPLATE_set=true
            OPT_NAME='TEMPLATE'
            OPT_ARG_NEEDED=YES
            ;;

        'ag' | \
        'aga' | \
        'agar' | \
        'agarg' )
            GETDEFS_AGARG_CT=`expr ${GETDEFS_AGARG_CT} + 1`
            OPT_ELEMENT=&quot;_${GETDEFS_AGARG_CT}&quot;
            OPT_NAME='AGARG'
            OPT_ARG_NEEDED=YES
            ;;

        'ba' | \
        'bas' | \
        'base' | \
        'base-' | \
        'base-n' | \
        'base-na' | \
        'base-nam' | \
        'base-name' )
            if [ -n &quot;${GETDEFS_BASE_NAME}&quot; ] &amp;&amp; ${GETDEFS_BASE_NAME_set} ; then
                echo Error:  duplicate BASE_NAME option &gt;&amp;2
                echo &quot;$GETDEFS_USAGE_TEXT&quot;
                exit 1 ; fi
            GETDEFS_BASE_NAME_set=true
            OPT_NAME='BASE_NAME'
            OPT_ARG_NEEDED=YES
            ;;

        've' | \
        'ver' | \
        'vers' | \
        'versi' | \
        'versio' | \
        'version' )
            echo &quot;$GETDEFS_LONGUSAGE_TEXT&quot;
            exit 0
            ;;

        'he' | \
        'hel' | \
        'help' )
            echo &quot;$GETDEFS_LONGUSAGE_TEXT&quot;
            exit 0
            ;;

        'mo' | \
        'mor' | \
        'more' | \
        'more-' | \
        'more-h' | \
        'more-he' | \
        'more-hel' | \
        'more-help' )
            echo &quot;$GETDEFS_LONGUSAGE_TEXT&quot; | ${PAGER-more}
            exit 0
            ;;

        'sa' | \
        'sav' | \
        'save' | \
        'save-' | \
        'save-o' | \
        'save-op' | \
        'save-opt' | \
        'save-opts' )
            echo 'Warning:  Cannot save options files' &gt;&amp;2
            OPT_ARG_NEEDED=OK
            ;;

        'lo' | \
        'loa' | \
        'load' | \
        'load-' | \
        'load-o' | \
        'load-op' | \
        'load-opt' | \
        'load-opts' )
            echo 'Warning:  Cannot load options files' &gt;&amp;2
            OPT_ARG_NEEDED=YES
            ;;

        'no-l' | \
        'no-lo' | \
        'no-loa' | \
        'no-load' | \
        'no-load-' | \
        'no-load-o' | \
        'no-load-op' | \
        'no-load-opt' | \
        'no-load-opts' )
            echo 'Warning:  Cannot suppress the loading of options files' &gt;&amp;2
            OPT_ARG_NEEDED=NO
            ;;

        * )
            echo Unknown option: &quot;${OPT_CODE}&quot; &gt;&amp;2
            echo &quot;$GETDEFS_USAGE_TEXT&quot;
            exit 1
            ;;
        esac

        case &quot;${OPT_ARG_NEEDED}&quot; in
        NO )
            OPT_ARG_VAL=''
            ;;

        YES )
            if [ -z &quot;${OPT_ARG_VAL}&quot; ]
            then
                if [ $# -eq 0 ]
                then
                    echo No argument provided for ${OPT_NAME} option &gt;&amp;2
                    echo &quot;$GETDEFS_USAGE_TEXT&quot;
                    exit 1
                fi

                OPT_ARG_VAL=&quot;${OPT_ARG}&quot;
                shift
                OPT_ARG=&quot;$1&quot;
            fi
            ;;

        OK )
            if [ -z &quot;${OPT_ARG_VAL}&quot; ] &amp;&amp; [ $# -gt 0 ]
            then
                case &quot;${OPT_ARG}&quot; in -* ) ;; * )
                    OPT_ARG_VAL=&quot;${OPT_ARG}&quot;
                    shift
                    OPT_ARG=&quot;$1&quot; ;; esac
            fi
            ;;
        esac
    if [ -n &quot;${OPT_ARG_VAL}&quot; ]
    then
        eval GETDEFS_${OPT_NAME}${OPT_ELEMENT}=&quot;'${OPT_ARG_VAL}'&quot;
        export GETDEFS_${OPT_NAME}${OPT_ELEMENT}
    fi
done

unset OPT_PROCESS || :
unset OPT_ELEMENT || :
unset OPT_ARG || :
unset OPT_ARG_NEEDED || :
unset OPT_NAME || :
unset OPT_CODE || :
unset OPT_ARG_VAL || :

# # # # # # # # # #
#
#  END OF AUTOMATED OPTION PROCESSING
#
# # # # # # # # # # -- do not modify this marker --

env | grep '^GETDEFS_'
</pre></td></tr></table>


<hr size="6">
<a name="AutoInfo"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#script_002dparser" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#command_002dinfo" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="autogen_7.html#Add_002dOns" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="autogen_0.html#Introduction" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="autogen_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="autogen_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Automated-Info-Docs"></a>
<h2 class="section">7.13 Automated Info Docs</h2>
<a name="index-AutoInfo"></a>

<p>AutoOpts provides two templates for producing &lsquo;<tt>.texi</tt>&rsquo; documentation.
&lsquo;<tt>agtexi-cmd.tpl</tt>&rsquo; for the invoking section, and &lsquo;<tt>aginfo3.tpl</tt>&rsquo; for
describing exported library functions and macros.
</p>
<p>For both types of documents, the documentation level is selected by
passing a &lsquo;<samp>-DLEVEL=&lt;level-name&gt;</samp>&rsquo; argument to AutoGen when you build
the document.  (See the example invocation below.)
</p>
<p>Two files will be produced, a &lsquo;<tt>.texi</tt>&rsquo; file and a &lsquo;<tt>.menu</tt>&rsquo; file.
You should include the text in the &lsquo;<tt>.menu</tt>&rsquo; file in a &lsquo;<tt>@menu</tt>&rsquo;
list, either with &lsquo;<tt>@include</tt>&rsquo;-ing it or just copying text.
The &lsquo;<tt>.texi</tt>&rsquo; file should be &lsquo;<tt>@include</tt>&rsquo;-ed where the invoking
section belongs in your document.
</p>
<p>The &lsquo;<tt>.texi</tt>&rsquo; file will contain an introductory paragraph, a menu
and a subordinate section for the invocation usage and for each
documented option.  The introductory paragraph is normally the boiler
plate text, along the lines of:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">This chapter documents the @file{AutoOpts} generated usage text
and option meanings for the @file{your-program} program.
</pre></td></tr></table>

<p>or:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">These are the publicly exported procedures from the lib<i>name</i> library.
Any other functions mentioned in the <i>header</i> file are for the private use
of the library.
</pre></td></tr></table>

<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#command_002dinfo">7.13.1 &ldquo;invoking&rdquo; info docs</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#library_002dinfo">7.13.2 library info docs</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
</table>

<hr size="6">
<a name="command_002dinfo"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#AutoInfo" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#library_002dinfo" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#AutoInfo" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="autogen_7.html#Add_002dOns" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="autogen_0.html#Introduction" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="autogen_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="autogen_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="g_t_0060_0060invoking_0027_0027-info-docs"></a>
<h3 class="subsection">7.13.1 &ldquo;invoking&rdquo; info docs</h3>

<p>Using the option definitions for an AutoOpt client program, the
&lsquo;<tt>agtexi-cmd.tpl</tt>&rsquo; template will produce texinfo text that documents the
invocation of your program.  The text emitted is designed to be included
in the full texinfo document for your product.  It is not a stand-alone
document.  The usage text for the <a href="autogen_4.html#autogen-usage">autogen usage help (-?)</a>,
<a href="autogen_7.html#getdefs-usage">getdefs usage help</a> and <a href="autogen_7.html#columns-usage">columns usage help (-?)</a> programs, are included in
this document and are all generated using this template.
</p>
<p>If your program&rsquo;s option definitions include a
&lsquo;<samp>prog-info-descrip</samp>&rsquo; section, then that text will replace the
boilerplate introductory paragraph.
</p>
<p>These files are produced by invoking the following command:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">autogen -L ${prefix}/share/autogen -Tagtexi-cmd.tpl \
        -DLEVEL=section your-opts.def
</pre></td></tr></table>

<p>Where &lsquo;<tt>${prefix}</tt>&rsquo; is the AutoGen installation prefix
and &lsquo;<tt>your-opts.def</tt>&rsquo; is the name of your product&rsquo;s option
definition file.
</p>
<hr size="6">
<a name="library_002dinfo"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#command_002dinfo" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#AutoMan-pages" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#AutoInfo" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="autogen_7.html#Add_002dOns" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="autogen_0.html#Introduction" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="autogen_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="autogen_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="library-info-docs"></a>
<h3 class="subsection">7.13.2 library info docs</h3>

<p>The &lsquo;<tt>texinfo</tt>&rsquo; doc for libraries is derived from mostly the same
information as is used for producing man pages See section <a href="#man3">library man pages</a>.  The main
difference is that there is only one output file and the individual
functions are referenced from a <code>.texi</code> menu.  There is also
a small difference in the global attributes used:
</p>
<table>
<tr><td width="2%"></td><td width="23%">lib_description</td><td width="65%">A description of the library.  This text appears before the menu.
If not provided, the standard boilerplate version will be inserted.</td></tr>
<tr><td width="2%"></td></tr>
<tr><td width="2%"></td><td width="23%">see_also</td><td width="65%">The <code>SEE ALSO</code> functionality is not supported for the
&lsquo;<tt>texinfo</tt>&rsquo; documentation, so any <code>see_also</code> attribute will be ignored.</td></tr>
</table>

<p>These files are produced by invoking the following commands:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">getdefs linenum srcfile template=aginfo3.tpl output=libexport.def \
       &lt;source-file-list&gt;

autogen -L ${prefix}/share/autogen -DLEVEL=section libexport.def
</pre></td></tr></table>

<p>Where &lsquo;<tt>${prefix}</tt>&rsquo; is the AutoGen installation prefix
and &lsquo;<tt>libexport.def</tt>&rsquo; is some name that suits you.
</p>
<p>An example of this can be seen in this document, See section <a href="#libopts-procedures">libopts External Procedures</a>.
</p>

<hr size="6">
<a name="AutoMan-pages"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#library_002dinfo" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#man1" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="autogen_7.html#Add_002dOns" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="autogen_0.html#Introduction" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="autogen_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="autogen_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Automated-Man-Pages"></a>
<h2 class="section">7.14 Automated Man Pages</h2>
<a name="index-AutoMan-pages"></a>

<p>AutoOpts provides two templates for producing man pages.
The command (&lsquo;<tt>man1</tt>&rsquo;) pages are derived from the options definition
file, and the library (&lsquo;<tt>man3</tt>&rsquo;) pages are derived from
stylized comments (see section <a href="autogen_7.html#getdefs-Invocation">Invoking getdefs</a>).
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#man1">7.14.1 command line man pages</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#man3">7.14.2 library man pages</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
</table>

<hr size="6">
<a name="man1"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#AutoMan-pages" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#man3" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#AutoMan-pages" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="autogen_7.html#Add_002dOns" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="autogen_0.html#Introduction" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="autogen_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="autogen_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="command-line-man-pages"></a>
<h3 class="subsection">7.14.1 command line man pages</h3>

<p>Using the option definitions for an AutoOpts client program,
the &lsquo;<samp>agman-cmd.tpl</samp>&rsquo; template will produce an nroff document
suitable for use as a &lsquo;<samp>man(1)</samp>&rsquo; page document for a command
line command.  The description section of the document is either
the &lsquo;<samp>prog-man-descrip</samp>&rsquo; text, if present, or the &lsquo;<samp>detail</samp>&rsquo;
text.
</p>
<p>Each option in the option definitions file is fully documented
in its usage.  This includes all the information documented
above for each option (see section <a href="#option-attributes">Option Attributes</a>), plus
the &lsquo;<samp>doc</samp>&rsquo; attribute is appended.  Since the &lsquo;<samp>doc</samp>&rsquo;
text is presumed to be designed for <code>texinfo</code> documentation,
<code>sed</code> is used to convert some constructs from <code>texi</code>
to <code>nroff</code>-for-<code>man</code>-pages.  Specifically,
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">convert @code, @var and @samp into \fB...\fP phrases
convert @file into \fI...\fP phrases
Remove the '@' prefix from curly braces
Indent example regions
Delete the example commands
Replace &lsquo;<samp>end example</samp>&rsquo; command with &quot;.br&quot;
Replace the &lsquo;<samp>@*</samp>&rsquo; command with &quot;.br&quot;
</pre></td></tr></table>

<p>This document is produced by invoking the following command:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">autogen -L ${prefix}/share/autogen -Tagman-cmd.tpl options.def
</pre></td></tr></table>

<p>Where &lsquo;<tt>${prefix}</tt>&rsquo; is the AutoGen installation prefix and
&lsquo;<tt>options.def</tt>&rsquo; is the name of your product&rsquo;s option definition file.
I do not use this very much, so any feedback or improvements would be
greatly appreciated.
</p>
<hr size="6">
<a name="man3"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#man1" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#getopt_005flong" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#AutoMan-pages" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="autogen_7.html#Add_002dOns" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="autogen_0.html#Introduction" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="autogen_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="autogen_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="library-man-pages"></a>
<h3 class="subsection">7.14.2 library man pages</h3>

<p>Two global definitions are required, and then
one library man page is produced for each <code>export_func</code> definition
that is found.  It is generally convenient to place these definitions
as &lsquo;<tt>getdefs</tt>&rsquo; comments (see section <a href="autogen_7.html#getdefs-Invocation">Invoking getdefs</a>) near the procedure
definition, but they may also be a separate AutoGen definitions file
(see section <a href="autogen_1.html#Definitions-File">Definitions File</a>).  Each function will be cross referenced
with their sister functions in a &lsquo;<tt>SEE ALSO</tt>&rsquo; section.  A global
<code>see_also</code> definition will be appended to this cross referencing text.
</p>
<p>The two global definitions required are:
</p>
<table>
<tr><td width="2%"></td><td width="15%">library</td><td width="77%">This is the name of your library, without the &lsquo;<tt>lib</tt>&rsquo; prefix.
The AutoOpts library is named &lsquo;<tt>libopts.so...</tt>&rsquo;, so the <code>library</code>
attribute would have the value <code>opts</code>.</td></tr>
<tr><td width="2%"></td></tr>
<tr><td width="2%"></td><td width="15%">header</td><td width="77%">Generally, using a library with a compiled program entails
<code>#include</code>-ing a header file.  Name that header with this attribute.
In the case of AutoOpts, it is generated and will vary based on the
name of the option definition file.  Consequently, &lsquo;<tt>your-opts.h</tt>&rsquo; is
specified.</td></tr>
</table>

<p>The <code>export_func</code> definition should contain the following attributes:
</p>
<table>
<tr><td width="2%"></td><td width="15%">name</td><td width="77%">The name of the procedure the library user may call.</td></tr>
<tr><td width="2%"></td><td width="15%">what</td><td width="77%">A brief sentence describing what the procedure does.</td></tr>
<tr><td width="2%"></td><td width="15%">doc</td><td width="77%">A detailed description of what the procedure does.
It may ramble on for as long as necessary to properly describe it.</td></tr>
<tr><td width="2%"></td><td width="15%">err</td><td width="77%">A short description of how errors are handled.</td></tr>
<tr><td width="2%"></td><td width="15%">ret_type</td><td width="77%">The data type returned by the procedure.
Omit this for <code>void</code> procedures.</td></tr>
<tr><td width="2%"></td><td width="15%">ret_desc</td><td width="77%">Describe what the returned value is, if needed.</td></tr>
<tr><td width="2%"></td><td width="15%">private</td><td width="77%">If specified, the function will <strong>not</strong> be documented.
This is used, for example, to produce external declarations for functions
that are not available for public use, but are used in the generated text.</td></tr>
<tr><td width="2%"></td></tr>
<tr><td width="2%"></td><td width="15%">arg</td><td width="77%">This is a compound attribute that contains:</td></tr>
</table>
<table>
<tr><td width="2%"></td><td width="15%"></td><td width="15%">arg_type</td><td width="62%">The data type of the argument.</td></tr>
<tr><td width="2%"></td><td width="15%"></td><td width="15%">arg_name</td><td width="62%">A short name for it.</td></tr>
<tr><td width="2%"></td><td width="15%"></td><td width="15%">arg_desc</td><td width="62%">A brief description.</td></tr>
</table>

<p>As a &lsquo;<tt>getdefs</tt>&rsquo; comment, this would appear something like this:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">/*=--subblock=arg=arg_type,arg_name,arg_desc =*/
/*=*
 * library: opts
 * header:  your-opts.h
=*/
/*=export_func optionProcess
 *
 * what: this is the main option processing routine
 * arg:  + tOptions* + pOpts + program options descriptor +
 * arg:  + int       + argc  + program arg count  +
 * arg:  + char**    + argv  + program arg vector +
 * ret_type:  int
 * ret_desc:  the count of the arguments processed
 *
 * doc:  This is what it does.
 * err:  When it can't, it does this.
=*/
</pre></td></tr></table>

<p>Note the <code>subblock</code> and <code>library</code> comments.
<code>subblock</code> is an embedded &lsquo;<tt>getdefs</tt>&rsquo;
option (see section <a href="autogen_7.html#getdefs-subblock">subblock option</a>) that tells it how to parse the
<code>arg</code> attribute.  The <code>library</code> and <code>header</code> entries
are global definitions that apply to all the documented functions.
</p>

<hr size="6">
<a name="getopt_005flong"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#man3" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#i18n" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="autogen_7.html#Add_002dOns" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="autogen_0.html#Introduction" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="autogen_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="autogen_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Using-getopt_00283C_0029"></a>
<h2 class="section">7.15 Using getopt(3C)</h2>
<a name="index-getopt_005flong"></a>

<p>There is a template named, &ldquo;<code>getopt.tpl</code>&rdquo; that is distributed with
AutoOpts.  With it, you will have another source file generated for you that
will utilize either the standard <code>getopt(3C)</code> or the GNU
<code>getopt_long(3GNU)</code> function for parsing the command line arguments.
Which is used is selected by the presence or absence of the <code>long-opts</code>
program attribute.  It will save you from being dependent upon the
<code>libopts</code> library <i>and</i> it produces code ready for
internationalization.  However, it also carries with it some limitations on
the use of AutoOpts features:
</p>
<ol>
<li>
You cannot automatically take advantage of environment variable options or
rc (ini) files.

</li><li>
You cannot use set membership, enumerated, range checked or stacked
argument type options.  In fact, you cannot use anything that depends
upon the <code>libopts</code> library.  You are constrained to options that
take &ldquo;<code>string</code>&rdquo; arguments, though you may handle the option
argument with a callback procedure.

</li><li>
You must specify every option as &ldquo;settable&rdquo; because the emitted code
depends upon the <code>SET_OPT_XXX</code> macros having been defined.

</li><li>
You must specify a main procedure of type &ldquo;main&rdquo;.  The
&lsquo;<tt>getopt.tpl</tt>&rsquo; template depends upon being able to compile the
traditional .c file into a program and get it to emit the usage text.

</li><li>
For the same reason, the traditional option parsing table code must be
emitted <b>before</b> the &lsquo;<tt>getopt.tpl</tt>&rsquo; template gets expanded.

</li><li>
The usage text is, therefore, statically defined.

</li><li>
You must supply some compile and link options via environment variables.
<dl compact="compact">
<dt> &lsquo;<samp>srcdir</samp>&rsquo;</dt>
<dd><p>In case the option definition file lives in a different directory.
</p></dd>
<dt> &lsquo;<samp>CFLAGS</samp>&rsquo;</dt>
<dd><p>Any special flags required to compile.  This should minimally include
the output from running the <code>autoopts-config cflags</code> script.
</p></dd>
<dt> &lsquo;<samp>LDFLAGS</samp>&rsquo;</dt>
<dd><p>Any special flags required to link.  This should minimally include
the output from running the <code>autoopts-config ldflags</code> script.
</p></dd>
<dt> &lsquo;<samp>CC</samp>&rsquo;</dt>
<dd><p>Set this only if &ldquo;<code>cc</code>&rdquo; cannot be found in <code>$PATH</code>
(or it is not the one you want).
</p></dd>
</dl>
</li></ol>

<p>To use this, set the exported environment variables and then invoke
autogen twice, in the following order:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">autogen myprog-opts.def
autogen -T getopt.tpl myprog-opts.def
</pre></td></tr></table>

<p>and you will have three new files: &lsquo;<tt>myprog-opts.h</tt>&rsquo;, &lsquo;<tt>myprog-opts.c</tt>&rsquo;,
and &lsquo;<tt>getopt-progname.c</tt>&rsquo;, where &ldquo;progname&rdquo; is the name specified with
the global <code>prog-name</code> attribute in the option definition file.  You must
compile and link both &lsquo;<tt>.c</tt>&rsquo; files into your program.  If there are link
failures, then you are using AutoOpts features that require the &lsquo;<tt>libopts</tt>&rsquo;
library.  You must remove these features.
</p>

<hr size="6">
<a name="i18n"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#getopt_005flong" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Naming-Conflicts" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="autogen_7.html#Add_002dOns" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="autogen_0.html#Introduction" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="autogen_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="autogen_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Internationalizing-AutoOpts"></a>
<h2 class="section">7.16 Internationalizing AutoOpts</h2>
<a name="index-Internationalizing-AutoOpts"></a>

<p>The generated code for AutoOpts will enable and disable the translation of
AutoOpts run time messages.  If <code>ENABLE_NLS</code> is defined at compile time,
then the <code>_()</code> macro may be used to specify a translation function.  If
undefined, it will default to <code>gettext(3GNU)</code>.  This define will also
enable a callback function that <code>optionProcess</code> invokes at the
beginning of option processing.  The AutoOpts <code>libopts</code> library will
always check for this &ldquo;compiled with NLS&rdquo; flag, so <code>libopts</code> does not
need to be specially compiled.  The strings returned by the translation
function will be <code>strdup(3)-ed</code> and kept.  They will not be
re-translated, even if the locale changes, but they will also not be dependent
upon reused or unmappable memory.
</p>
<p>To internationalize option processing, you should first internationalize your
program.  Then, the option processing strings can be added to your translation
text by processing the AutoOpts-generated &lsquo;<tt>my-opts.c</tt>&rsquo; file and adding the
distributed &lsquo;<tt>po/usage-txt.pot</tt>&rsquo; file.  (Also by extracting the strings
yourself from the &lsquo;<tt>usage-txt.h</tt>&rsquo; file.)  When you call
<code>optionProcess</code>, all of the user visible AutoOpts strings will be passed
through the localization procedure established with the <code>_()</code>
preprocessing macro.
</p>

<hr size="6">
<a name="Naming-Conflicts"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#i18n" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#All-Attribute-Names" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="autogen_7.html#Add_002dOns" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="autogen_0.html#Introduction" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="autogen_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="autogen_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Naming-Conflicts-1"></a>
<h2 class="section">7.17 Naming Conflicts</h2>
<a name="index-Naming-Conflicts"></a>

<p>AutoOpts generates a header file that contains many C preprocessing macros and
several external names.  For the most part, they begin with either <code>opt_</code>
or <code>option</code>, or else they end with <code>_opt</code>.  If this happens to
conflict with other macros you are using, or if you are compiling multiple
option sets in the same compilation unit, the conflicts can be avoided.  You
may specify an external name <code>prefix</code> (see section <a href="#program-attributes">Program Description Attributes</a>) for
all of the names generated for each set of option definitions.
</p>
<p>Among these macros, several take an option name as a macro argument.
Sometimes, this will inconveniently conflict.  For example, if you specify an
option named, <code>debug</code>, the emitted code will presume that <code>DEBUG</code> is
not a preprocessing name.  Or also, if you are building on a Windows platform,
you may find that MicroSoft has usurped a number of user space names in its
header files.  Consequently, you will get a preprocessing error if you use,
for example, <code>HAVE_OPT(DEBUG)</code> or <code>HAVE_OPT(INTERNAL)</code>
(see section <a href="#HAVE_005fOPT">HAVE_OPT( &lt;NAME&gt; ) - Have this option?</a>) in your code.  You may trigger an obvious warning for such
conflicts by specifying the <code>guard-option-names</code> attribute
(see section <a href="#program-attributes">Program Description Attributes</a>).  That emitted code will also <code>#undef</code>-ine
the conflicting name.
</p>
<hr size="6">
<a name="All-Attribute-Names"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Naming-Conflicts" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Option-Define-Names" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="autogen_7.html#Add_002dOns" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="autogen_0.html#Introduction" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="autogen_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="autogen_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="All-Attribute-Names-1"></a>
<h2 class="section">7.18 All Attribute Names</h2>

<p>This is the list of all the option attributes used in the various
option processing templates.  There are several flavors of attributes,
and these are not distinguished here.
</p>
<ul>
<li>
Valid, current attributes that you are encouraged to use.
</li><li>
Internally generated attributes that you cannot use at all.
I need to prefix these with a distinguished prefix.  e.g.  &ldquo;ao-&rdquo;
</li><li>
Valid attributes, but are deprecated.  Alternates should be documented.
</li></ul>

<p>This list is derived by running many example option definitions through the
option generation and man page templates and noting which attributes are
actually used.  There may be a few that are used but not exercised in my
testing.  If so, I need to ferret those out and test them, too.
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">aliases          allow-errors  arg-default
arg-optional     arg-range     arg-type
argument         call-proc     code
config-header    copyright     default
deprecated       descrip       detail
disable          documentation eaddr
enable           enabled       environrc
equivalence      exit-name     explain
export           extract-code  field
file-fail-code   flag          flag-code
flag-proc        flags-cant    flags-must
full-usage       gnu-usage     guard-option-names
help-value       homerc        ifdef
ifndef           immed-disable immediate
include          lib-name      library
long-opts        main          main-text
main-type        max           min
more-help-value  must-set      name
no-command       no-libopts    no-misuse-usage
no-preset        no-xlate      nomem-fail-code
omitted-usage    package       prefix
prefix-enum      preserve-case prog-name
prog-title       reorder-args  resettable
scaled           settable      short-usage
stack-arg        std-value     test-main
translators      unstack-arg   usage
usage-message    usage-opt     usage-type
val-name         val-upname    value
version
</pre></td></tr></table>

<hr size="6">
<a name="Option-Define-Names"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#All-Attribute-Names" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="autogen_7.html#Add_002dOns" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="autogen_7.html#Add_002dOns" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="autogen_0.html#Introduction" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="autogen_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="autogen_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Option-Definition-Name-Index"></a>
<h2 class="section">7.19 Option Definition Name Index</h2>
<table><tr><th valign="top">Jump to: &nbsp; </th><td><a href="#Option-Definition-Name-Index_vr_letter-A" class="summary-letter"><b>A</b></a>
 &nbsp; 
<a href="#Option-Definition-Name-Index_vr_letter-B" class="summary-letter"><b>B</b></a>
 &nbsp; 
<a href="#Option-Definition-Name-Index_vr_letter-C" class="summary-letter"><b>C</b></a>
 &nbsp; 
<a href="#Option-Definition-Name-Index_vr_letter-D" class="summary-letter"><b>D</b></a>
 &nbsp; 
<a href="#Option-Definition-Name-Index_vr_letter-E" class="summary-letter"><b>E</b></a>
 &nbsp; 
<a href="#Option-Definition-Name-Index_vr_letter-F" class="summary-letter"><b>F</b></a>
 &nbsp; 
<a href="#Option-Definition-Name-Index_vr_letter-G" class="summary-letter"><b>G</b></a>
 &nbsp; 
<a href="#Option-Definition-Name-Index_vr_letter-H" class="summary-letter"><b>H</b></a>
 &nbsp; 
<a href="#Option-Definition-Name-Index_vr_letter-I" class="summary-letter"><b>I</b></a>
 &nbsp; 
<a href="#Option-Definition-Name-Index_vr_letter-K" class="summary-letter"><b>K</b></a>
 &nbsp; 
<a href="#Option-Definition-Name-Index_vr_letter-L" class="summary-letter"><b>L</b></a>
 &nbsp; 
<a href="#Option-Definition-Name-Index_vr_letter-M" class="summary-letter"><b>M</b></a>
 &nbsp; 
<a href="#Option-Definition-Name-Index_vr_letter-N" class="summary-letter"><b>N</b></a>
 &nbsp; 
<a href="#Option-Definition-Name-Index_vr_letter-O" class="summary-letter"><b>O</b></a>
 &nbsp; 
<a href="#Option-Definition-Name-Index_vr_letter-P" class="summary-letter"><b>P</b></a>
 &nbsp; 
<a href="#Option-Definition-Name-Index_vr_letter-R" class="summary-letter"><b>R</b></a>
 &nbsp; 
<a href="#Option-Definition-Name-Index_vr_letter-S" class="summary-letter"><b>S</b></a>
 &nbsp; 
<a href="#Option-Definition-Name-Index_vr_letter-T" class="summary-letter"><b>T</b></a>
 &nbsp; 
<a href="#Option-Definition-Name-Index_vr_letter-U" class="summary-letter"><b>U</b></a>
 &nbsp; 
<a href="#Option-Definition-Name-Index_vr_letter-V" class="summary-letter"><b>V</b></a>
 &nbsp; 
</td></tr></table>
<table border="0" class="index-vr">
<tr><td></td><th align="left">Index Entry</th><th align="left"> Section</th></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Option-Definition-Name-Index_vr_letter-A">A</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-allow_002derrors"><code>allow-errors</code></a></td><td valign="top"><a href="#presentation-attributes">7.5.1.4 User Presentation Attributes</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-arg_002ddefault"><code>arg-default</code></a></td><td valign="top"><a href="#arg_002ddefault">7.5.6.12 Default Option Argument Value</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-arg_002dname"><code>arg-name</code></a></td><td valign="top"><a href="#documentation-attributes">7.5.9 Man and Info doc Attributes</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-arg_002doptional"><code>arg-optional</code></a></td><td valign="top"><a href="#arg_002doptional">7.5.6.11 Option Argument Optional</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-arg_002drange"><code>arg-range</code></a></td><td valign="top"><a href="#arg_002dtype-number">7.5.6.2 Arg Type Number</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-arg_002dtype"><code>arg-type</code></a></td><td valign="top"><a href="#Option-Arguments">7.5.6 Option Argument Specification</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-argument"><code>argument</code></a></td><td valign="top"><a href="#program-attributes">7.5.1 Program Description Attributes</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-author"><code>author</code></a></td><td valign="top"><a href="#information-attributes">7.5.3 Program Information Attributes</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Option-Definition-Name-Index_vr_letter-B">B</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-before_002dguile_002dboot"><code>before-guile-boot</code></a></td><td valign="top"><a href="#main-guile">7.5.4.1 guile: main and inner_main procedures</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Option-Definition-Name-Index_vr_letter-C">C</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-call_002dproc"><code>call-proc</code></a></td><td valign="top"><a href="#Option-Argument-Handling">7.5.7 Option Argument Handling</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-comment_002dchar"><code>comment-char</code></a></td><td valign="top"><a href="#main-for_002deach">7.5.4.7 for-each: perform function on each argument</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-config_002dheader"><code>config-header</code></a></td><td valign="top"><a href="#programming-attributes">7.5.1.3 Programming Details</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-copyright"><code>copyright</code></a></td><td valign="top"><a href="#information-attributes">7.5.3 Program Information Attributes</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Option-Definition-Name-Index_vr_letter-D">D</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-date"><code>date</code></a></td><td valign="top"><a href="#information-attributes">7.5.3 Program Information Attributes</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-default"><code>default</code></a></td><td valign="top"><a href="#opt_002dattr-default-option">7.5.5.9 Default Option</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-deprecated"><code>deprecated</code></a></td><td valign="top"><a href="#Common-Attributes">7.5.5.2 Common Option Attributes</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-descrip"><code>descrip</code></a></td><td valign="top"><a href="#Required-Attributes">7.5.5.1 Required Attributes</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-detail"><code>detail</code></a></td><td valign="top"><a href="#information-attributes">7.5.3 Program Information Attributes</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-detail-1"><code>detail</code></a></td><td valign="top"><a href="#documentation-attributes">7.5.9 Man and Info doc Attributes</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-disable"><code>disable</code></a></td><td valign="top"><a href="#Common-Attributes">7.5.5.2 Common Option Attributes</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-disable_002dload"><code>disable-load</code></a></td><td valign="top"><a href="#config-attributes">7.5.1.2 Program Configuration</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-disable_002dsave"><code>disable-save</code></a></td><td valign="top"><a href="#config-attributes">7.5.1.2 Program Configuration</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-doc"><code>doc</code></a></td><td valign="top"><a href="#documentation-attributes">7.5.9 Man and Info doc Attributes</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-doc_002dsection"><code>doc-section</code></a></td><td valign="top"><a href="#documentation-attributes">7.5.9 Man and Info doc Attributes</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-documentation"><code>documentation</code></a></td><td valign="top"><a href="#lib-and-program">7.5.2.1 AutoOpt-ed Library for AutoOpt-ed Program</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-documentation-1"><code>documentation</code></a></td><td valign="top"><a href="#opt_002dattr-documentation">7.5.5.10 Option Sectioning Comment</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Option-Definition-Name-Index_vr_letter-E">E</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-eaddr"><code>eaddr</code></a></td><td valign="top"><a href="#information-attributes">7.5.3 Program Information Attributes</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-enable"><code>enable</code></a></td><td valign="top"><a href="#Common-Attributes">7.5.5.2 Common Option Attributes</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-enabled"><code>enabled</code></a></td><td valign="top"><a href="#Common-Attributes">7.5.5.2 Common Option Attributes</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-environrc"><code>environrc</code></a></td><td valign="top"><a href="#config-attributes">7.5.1.2 Program Configuration</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-equivalence"><code>equivalence</code></a></td><td valign="top"><a href="#opt_002dattr-equivalence">7.5.5.7 Option Equivalence Class</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-exit_002ddesc"><code>exit-desc</code></a></td><td valign="top"><a href="#programming-attributes">7.5.1.3 Programming Details</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-exit_002dname"><code>exit-name</code></a></td><td valign="top"><a href="#programming-attributes">7.5.1.3 Programming Details</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-explain"><code>explain</code></a></td><td valign="top"><a href="#information-attributes">7.5.3 Program Information Attributes</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-export"><code>export</code></a></td><td valign="top"><a href="#programming-attributes">7.5.1.3 Programming Details</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-extra_002dcode"><code>extra-code</code></a></td><td valign="top"><a href="#arg_002dkeyword">7.5.6.10 Keyword list</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-extract_002dcode"><code>extract-code</code></a></td><td valign="top"><a href="#Option-Argument-Handling">7.5.7 Option Argument Handling</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Option-Definition-Name-Index_vr_letter-F">F</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-file_002dexists"><code>file-exists</code></a></td><td valign="top"><a href="#arg_002dtype-file-name">7.5.6.7 Arg Type File Name</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-file_002dmode"><code>file-mode</code></a></td><td valign="top"><a href="#arg_002dtype-file-name">7.5.6.7 Arg Type File Name</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-flag_002dcode"><code>flag-code</code></a></td><td valign="top"><a href="#Option-Argument-Handling">7.5.7 Option Argument Handling</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-flag_002dproc"><code>flag-proc</code></a></td><td valign="top"><a href="#Option-Argument-Handling">7.5.7 Option Argument Handling</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-full_002dusage"><code>full-usage</code></a></td><td valign="top"><a href="#usage-attributes">7.5.1.1 Usage and Version Info Display</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Option-Definition-Name-Index_vr_letter-G">G</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-gnu_002dusage"><code>gnu-usage</code></a></td><td valign="top"><a href="#usage-attributes">7.5.1.1 Usage and Version Info Display</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gnu_002dusage-1"><code>gnu-usage</code></a></td><td valign="top"><a href="#information-attributes">7.5.3 Program Information Attributes</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-guard_002doption_002dnames"><code>guard-option-names</code></a></td><td valign="top"><a href="#programming-attributes">7.5.1.3 Programming Details</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-guile_002dmain"><code>guile-main</code></a></td><td valign="top"><a href="#main-guile">7.5.4.1 guile: main and inner_main procedures</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Option-Definition-Name-Index_vr_letter-H">H</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-handler_002dproc"><code>handler-proc</code></a></td><td valign="top"><a href="#main-for_002deach">7.5.4.7 for-each: perform function on each argument</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-handler_002dtype"><code>handler-type</code></a></td><td valign="top"><a href="#main-for_002deach">7.5.4.7 for-each: perform function on each argument</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-help_002dvalue"><code>help-value</code></a></td><td valign="top"><a href="#automatic-options">7.5.10 Automatically Supported Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-homerc"><code>homerc</code></a></td><td valign="top"><a href="#config-attributes">7.5.1.2 Program Configuration</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Option-Definition-Name-Index_vr_letter-I">I</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-ifdef"><code>ifdef</code></a></td><td valign="top"><a href="#Common-Attributes">7.5.5.2 Common Option Attributes</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-ifndef"><code>ifndef</code></a></td><td valign="top"><a href="#Common-Attributes">7.5.5.2 Common Option Attributes</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-immed_002ddisable"><code>immed-disable</code></a></td><td valign="top"><a href="#Immediate-Action">7.5.5.3 Immediate Action Attributes</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-immediate"><code>immediate</code></a></td><td valign="top"><a href="#Immediate-Action">7.5.5.3 Immediate Action Attributes</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-include"><code>include</code></a></td><td valign="top"><a href="#programming-attributes">7.5.1.3 Programming Details</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Option-Definition-Name-Index_vr_letter-K">K</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-keyword"><code>keyword</code></a></td><td valign="top"><a href="#arg_002dkeyword">7.5.6.10 Keyword list</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Option-Definition-Name-Index_vr_letter-L">L</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-lib_002dname"><code>lib-name</code></a></td><td valign="top"><a href="#lib-and-program">7.5.2.1 AutoOpt-ed Library for AutoOpt-ed Program</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-library"><code>library</code></a></td><td valign="top"><a href="#lib-and-program">7.5.2.1 AutoOpt-ed Library for AutoOpt-ed Program</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-load_002dopts_002dvalue"><code>load-opts-value</code></a></td><td valign="top"><a href="#automatic-options">7.5.10 Automatically Supported Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-long_002dopts"><code>long-opts</code></a></td><td valign="top"><a href="#presentation-attributes">7.5.1.4 User Presentation Attributes</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Option-Definition-Name-Index_vr_letter-M">M</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-main"><code>main</code></a></td><td valign="top"><a href="#Generated-main">7.5.4 Generating main procedures</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-main_002dfini"><code>main-fini</code></a></td><td valign="top"><a href="#main-for_002deach">7.5.4.7 for-each: perform function on each argument</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-main_002dinit"><code>main-init</code></a></td><td valign="top"><a href="#main-for_002deach">7.5.4.7 for-each: perform function on each argument</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-main_002dtype"><code>main-type</code></a></td><td valign="top"><a href="#Generated-main">7.5.4 Generating main procedures</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-max-1"><code>max</code></a></td><td valign="top"><a href="#Common-Attributes">7.5.5.2 Common Option Attributes</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-min-1"><code>min</code></a></td><td valign="top"><a href="#Common-Attributes">7.5.5.2 Common Option Attributes</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-more_002dhelp_002dvalue"><code>more-help-value</code></a></td><td valign="top"><a href="#automatic-options">7.5.10 Automatically Supported Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-must_002dset"><code>must-set</code></a></td><td valign="top"><a href="#Common-Attributes">7.5.5.2 Common Option Attributes</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-MYHANDLER_002dcode"><code>MYHANDLER-code</code></a></td><td valign="top"><a href="#main-for_002deach">7.5.4.7 for-each: perform function on each argument</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Option-Definition-Name-Index_vr_letter-N">N</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-name"><code>name</code></a></td><td valign="top"><a href="#Required-Attributes">7.5.5.1 Required Attributes</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-no_002dcommand"><code>no-command</code></a></td><td valign="top"><a href="#Common-Attributes">7.5.5.2 Common Option Attributes</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-no_002dlibopts"><code>no-libopts</code></a></td><td valign="top"><a href="#programming-attributes">7.5.1.3 Programming Details</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-no_002dmisuse_002dusage-1"><code>no-misuse-usage</code></a></td><td valign="top"><a href="#usage-attributes">7.5.1.1 Usage and Version Info Display</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-no_002dpreset"><code>no-preset</code></a></td><td valign="top"><a href="#opt_002dattr-no_002dpreset">7.5.5.6 Option cannot be pre-configured</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-no_002dxlate"><code>no-xlate</code></a></td><td valign="top"><a href="#presentation-attributes">7.5.1.4 User Presentation Attributes</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Option-Definition-Name-Index_vr_letter-O">O</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-omitted_002dusage"><code>omitted-usage</code></a></td><td valign="top"><a href="#Common-Attributes">7.5.5.2 Common Option Attributes</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-open_002dfile"><code>open-file</code></a></td><td valign="top"><a href="#arg_002dtype-file-name">7.5.6.7 Arg Type File Name</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-option_002dcode"><code>option-code</code></a></td><td valign="top"><a href="#main-main">7.5.4.4 main: user supplied main procedure</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-option_002dinfo"><code>option-info</code></a></td><td valign="top"><a href="#documentation-attributes">7.5.9 Man and Info doc Attributes</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-opts_002dptr"><code>opts-ptr</code></a></td><td valign="top"><a href="#information-attributes">7.5.3 Program Information Attributes</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-owner"><code>owner</code></a></td><td valign="top"><a href="#information-attributes">7.5.3 Program Information Attributes</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Option-Definition-Name-Index_vr_letter-P">P</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-package"><code>package</code></a></td><td valign="top"><a href="#information-attributes">7.5.3 Program Information Attributes</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-prefix-1"><code>prefix</code></a></td><td valign="top"><a href="#programming-attributes">7.5.1.3 Programming Details</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-prefix_002denum"><code>prefix-enum</code></a></td><td valign="top"><a href="#arg_002dtype-keyword">7.5.6.4 Arg Type Keyword</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-preserve_002dcase"><code>preserve-case</code></a></td><td valign="top"><a href="#information-attributes">7.5.3 Program Information Attributes</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-prog_002ddesc"><code>prog-desc</code></a></td><td valign="top"><a href="#information-attributes">7.5.3 Program Information Attributes</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-prog_002dgroup"><code>prog-group</code></a></td><td valign="top"><a href="#usage-attributes">7.5.1.1 Usage and Version Info Display</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-prog_002dinfo_002ddescrip"><code>prog-info-descrip</code></a></td><td valign="top"><a href="#documentation-attributes">7.5.9 Man and Info doc Attributes</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-prog_002dman_002ddescrip"><code>prog-man-descrip</code></a></td><td valign="top"><a href="#documentation-attributes">7.5.9 Man and Info doc Attributes</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-prog_002dname"><code>prog-name</code></a></td><td valign="top"><a href="#program-attributes">7.5.1 Program Description Attributes</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-prog_002dtitle"><code>prog-title</code></a></td><td valign="top"><a href="#program-attributes">7.5.1 Program Description Attributes</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Option-Definition-Name-Index_vr_letter-R">R</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-rcfile"><code>rcfile</code></a></td><td valign="top"><a href="#config-attributes">7.5.1.2 Program Configuration</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-reorder_002dargs"><code>reorder-args</code></a></td><td valign="top"><a href="#presentation-attributes">7.5.1.4 User Presentation Attributes</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-reorder_002dargs-1"><code>reorder-args</code></a></td><td valign="top"><a href="#information-attributes">7.5.3 Program Information Attributes</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-reset_002dvalue"><code>reset-value</code></a></td><td valign="top"><a href="#automatic-options">7.5.10 Automatically Supported Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-resettable"><code>resettable</code></a></td><td valign="top"><a href="#presentation-attributes">7.5.1.4 User Presentation Attributes</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Option-Definition-Name-Index_vr_letter-S">S</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-save_002dopts_002dvalue"><code>save-opts-value</code></a></td><td valign="top"><a href="#automatic-options">7.5.10 Automatically Supported Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-scaled"><code>scaled</code></a></td><td valign="top"><a href="#arg_002dtype-number">7.5.6.2 Arg Type Number</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-settable"><code>settable</code></a></td><td valign="top"><a href="#opt_002dattr-settable">7.5.5.5 Program may set option</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-short_002dusage"><code>short-usage</code></a></td><td valign="top"><a href="#usage-attributes">7.5.1.1 Usage and Version Info Display</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-stack_002darg"><code>stack-arg</code></a></td><td valign="top"><a href="#Option-Argument-Handling">7.5.7 Option Argument Handling</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Option-Definition-Name-Index_vr_letter-T">T</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-text"><code>text</code></a></td><td valign="top"><a href="#information-attributes">7.5.3 Program Information Attributes</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-translators"><code>translators</code></a></td><td valign="top"><a href="#opt_002dattr-translators">7.5.5.11 Translator Notes</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-type"><code>type</code></a></td><td valign="top"><a href="#information-attributes">7.5.3 Program Information Attributes</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Option-Definition-Name-Index_vr_letter-U">U</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-unstack_002darg"><code>unstack-arg</code></a></td><td valign="top"><a href="#Option-Argument-Handling">7.5.7 Option Argument Handling</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-usage"><code>usage</code></a></td><td valign="top"><a href="#information-attributes">7.5.3 Program Information Attributes</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-usage_002dmessage"><code>usage-message</code></a></td><td valign="top"><a href="#programming-attributes">7.5.1.3 Programming Details</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-usage_002dopt"><code>usage-opt</code></a></td><td valign="top"><a href="#Features">7.1 AutoOpts Features</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-usage_002dvalue"><code>usage-value</code></a></td><td valign="top"><a href="#automatic-options">7.5.10 Automatically Supported Options</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Option-Definition-Name-Index_vr_letter-V">V</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-value"><code>value</code></a></td><td valign="top"><a href="#Common-Attributes">7.5.5.2 Common Option Attributes</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-version"><code>version</code></a></td><td valign="top"><a href="#usage-attributes">7.5.1.1 Usage and Version Info Display</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-version_002dvalue"><code>version-value</code></a></td><td valign="top"><a href="#automatic-options">7.5.10 Automatically Supported Options</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
</table>
<table><tr><th valign="top">Jump to: &nbsp; </th><td><a href="#Option-Definition-Name-Index_vr_letter-A" class="summary-letter"><b>A</b></a>
 &nbsp; 
<a href="#Option-Definition-Name-Index_vr_letter-B" class="summary-letter"><b>B</b></a>
 &nbsp; 
<a href="#Option-Definition-Name-Index_vr_letter-C" class="summary-letter"><b>C</b></a>
 &nbsp; 
<a href="#Option-Definition-Name-Index_vr_letter-D" class="summary-letter"><b>D</b></a>
 &nbsp; 
<a href="#Option-Definition-Name-Index_vr_letter-E" class="summary-letter"><b>E</b></a>
 &nbsp; 
<a href="#Option-Definition-Name-Index_vr_letter-F" class="summary-letter"><b>F</b></a>
 &nbsp; 
<a href="#Option-Definition-Name-Index_vr_letter-G" class="summary-letter"><b>G</b></a>
 &nbsp; 
<a href="#Option-Definition-Name-Index_vr_letter-H" class="summary-letter"><b>H</b></a>
 &nbsp; 
<a href="#Option-Definition-Name-Index_vr_letter-I" class="summary-letter"><b>I</b></a>
 &nbsp; 
<a href="#Option-Definition-Name-Index_vr_letter-K" class="summary-letter"><b>K</b></a>
 &nbsp; 
<a href="#Option-Definition-Name-Index_vr_letter-L" class="summary-letter"><b>L</b></a>
 &nbsp; 
<a href="#Option-Definition-Name-Index_vr_letter-M" class="summary-letter"><b>M</b></a>
 &nbsp; 
<a href="#Option-Definition-Name-Index_vr_letter-N" class="summary-letter"><b>N</b></a>
 &nbsp; 
<a href="#Option-Definition-Name-Index_vr_letter-O" class="summary-letter"><b>O</b></a>
 &nbsp; 
<a href="#Option-Definition-Name-Index_vr_letter-P" class="summary-letter"><b>P</b></a>
 &nbsp; 
<a href="#Option-Definition-Name-Index_vr_letter-R" class="summary-letter"><b>R</b></a>
 &nbsp; 
<a href="#Option-Definition-Name-Index_vr_letter-S" class="summary-letter"><b>S</b></a>
 &nbsp; 
<a href="#Option-Definition-Name-Index_vr_letter-T" class="summary-letter"><b>T</b></a>
 &nbsp; 
<a href="#Option-Definition-Name-Index_vr_letter-U" class="summary-letter"><b>U</b></a>
 &nbsp; 
<a href="#Option-Definition-Name-Index_vr_letter-V" class="summary-letter"><b>V</b></a>
 &nbsp; 
</td></tr></table>


<hr size="6">
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#AutoOpts" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="autogen_7.html#Add_002dOns" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="autogen_0.html#Introduction" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="autogen_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#AutoOpts" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="autogen_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<p>
 <font size="-1">
  This document was generated by <em>Build Daemon</em> on <em>July 10, 2011</em> using <a href="http://www.nongnu.org/texi2html/"><em>texi2html 1.82</em></a>.
 </font>
 <br>

</p>
</body>
</html>
