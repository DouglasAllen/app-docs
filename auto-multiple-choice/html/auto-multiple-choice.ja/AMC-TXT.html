<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>AMC-TXT構文</title><link rel="stylesheet" type="text/css" href="../style.css" /><meta name="generator" content="DocBook XSL Stylesheets V1.76.1" /><link rel="home" href="index.html" title="Auto Multiple Choice" /><link rel="up" href="index.html" title="Auto Multiple Choice" /><link rel="prev" href="usagenotes.html" title="利用メモ" /><link rel="next" href="latex.html" title="LaTeXソースファイル" /></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">AMC-TXT構文</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="usagenotes.html">戻る</a> </td><th width="60%" align="center"> </th><td width="20%" align="right"> <a accesskey="n" href="latex.html">次へ</a></td></tr></table><hr /></div><div class="sect1" title="AMC-TXT構文"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="AMC-TXT"></a>AMC-TXT構文</h2></div></div></div><p>LaTeX語をまだ話すことができず、勉強する時間もない方のために、AMCにはAMC-TXTという特別な形式の簡単なテキストファイルを処理するフィルターが含まれています。この節では、AMC-TXTファイルの構文を詳しく解説します。LaTeXを用いて試験問題を精密に制御する場合は、この節はスキップしてください。</p><p>単純な例から始めましょう:</p><a id="modeles-simple-txt.txt"></a><pre class="programlisting"># AMC-TXTソースファイル
Title: はじめてのAMC試験問題
Lang: JA

Presentation: 以下の設問に最も適切な解答を
選択してください。

* カメルーンの首都はどれですか？
+ ヤウンデ
- ドゥアラ
- クリビ

** 以下の数のうち、正の数はどれですか？
- -2
+ 2
+ 10</pre><div class="important" title="重要" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Important"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[重要]" src="../images/important.png" /></td><th align="left">重要</th></tr><tr><td align="left" valign="top"><p>試験問題を含んだファイルは、UTF-8でエンコードされたプレーンテキストファイルでなければなりません。UTF-8はいくつかのテキストエディタ（<span class="command"><strong>gedit</strong></span>など）のデフォルトエンコーディングです。テキストをボールドにしたり、画像が埋め込めたりするような、OpenOffice/LibreOfficeやそれに類するエディタを使用しないでください。これらはテキスト以外に多量のデータを保存し、AMCはそれを読むことができません。</p></td></tr></table></div><div class="note" title="注記" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[注記]" src="../images/note.png" /></td><th align="left">注記</th></tr><tr><td align="left" valign="top"><p>デフォルトとして用いられるフォントは<a class="ulink" href="http://www.linuxlibertine.org/" target="_top">libertine</a>で、これは多数の言語の文字を含んだオープンソースフォントです。このフォントをインストールするか、そうでなければ他のフォントを選ぶ必要があります（下記オプション参照）。debian/ubuntuパッケージでAMCをインストールすれば、このフォントは推奨パッケージとしていっしょにインストールされます。</p></td></tr></table></div><p>AMC-TXTの構造はすでにおわかりのとおりです。最初に全体的なオプションがあり、そして設問が続きます。</p><div class="sect2" title="コメント"><div class="titlepage"><div><div><h3 class="title"><a id="idp6059200"></a>コメント</h3></div></div></div><p>AMC-TXTソースファイル内の `<code class="code">#</code>' 文字で<span class="emphasis"><em>始まる</em></span>行にはコメントを書くことができます。AMCはこれらの行を無視します。</p></div><div class="sect2" title="全体オプション"><div class="titlepage"><div><div><h3 class="title"><a id="idp6061328"></a>全体オプション</h3></div></div></div><p>以下のオプションを（任意の順序で）使用することができます:</p><div class="variablelist"><dl><dt><span class="term">Lang:</span></dt><dd><p>試験問題が記述されている言語を指定するのに用います。現時点では、DE（ドイツ語）、ES（スペイン語）、FR（フランス語）、IT（イタリア語）、NL（オランダ語）、JA（日本語、<a class="xref" href="AMC-TXT.html#txt-japanese" title="日本語">「日本語」</a>参照）、AR（アラビア語、<a class="xref" href="AMC-TXT.html#txt-arabic" title="アラビア語">「アラビア語」</a>参照）のみがサポートされています。オプションを指定しないと、英語が選択されます。他の言語用にローカライズ文字列を定義することもできます（<code class="option">L-xxx</code>形式のオプション参照）。</p></dd><dt><span class="term">PaperSize:</span></dt><dd><p>用紙サイズを設定します。設定可能な値は、<code class="code">A3</code>、<code class="code">A4</code>、<code class="code">A5</code>、<code class="code">A6</code>、<code class="code">B3</code>、<code class="code">B4</code>、<code class="code">B5</code>、<code class="code">B6</code>、<code class="code">letter</code>、<code class="code">legal</code>、<code class="code">ANSIA</code>、<code class="code">ANSIB</code>、<code class="code">ANSIC</code>、<code class="code">ANSID</code>、<code class="code">ANSIE</code>です。</p></dd><dt><span class="term">Title:</span></dt><dd><p>試験タイトル。試験問題用紙の上部に印刷されます。</p></dd><dt><span class="term">Presentation:</span></dt><dd><p>試験の注意事項を記述する文章（時間、規則など）です。</p></dd><dt><span class="term">ShuffleQuestions:</span></dt><dd><p>1なら（デフォルト）、設問がシャフルされ、用紙ごとに順序が変わります。0なら、ファイルに記述された通りの順序で設問が並びます。</p></dd><dt><span class="term">Code:</span></dt><dd><p>正の整数値<em class="replaceable"><code>n</code></em>を与えると、<em class="replaceable"><code>n</code></em>桁の受験番号をマークする欄が試験問題用紙に追加されます。</p></dd><dt><span class="term">Columns:</span></dt><dd><p>正の整数値<em class="replaceable"><code>n</code></em>を与えると、試験問題全体が<em class="replaceable"><code>n</code></em>カラムで作成されます。</p></dd><dt><span class="term">CompleteMulti:</span></dt><dd><p>1なら（デフォルト）、複数選択問題（正解数が0以上の任意個）において、「該当なし」の選択肢を追加します。これをしないと、「受験者がこの設問に解答しなかった」のと「受験者がこの設問に正解がないと考えた」のが区別できません。この選択肢をつけたくない場合は0に設定してください。</p></dd><dt><span class="term">L-None:</span></dt><dd><p>「<span class="emphasis"><em>該当なし</em></span>」（上記オプション参照）にかわる文字列を設定します。</p></dd><dt><span class="term">QuestionBlocks:</span></dt><dd><p>1なら（デフォルト）、各設問は複数のカラムやページにまたがらないように見えないフレームで囲まれます。0なら、必要に応じて設問が分割され、読み易さは多少犠牲になりますがページ数が節約できます。</p></dd><dt><span class="term">L-Question:</span></dt><dd><p>必要なら、試験問題内での「<span class="emphasis"><em>問</em></span>」にかわる文字列を設定します。</p></dd><dt><span class="term">L-Name:</span></dt><dd><p>受験者が氏名を記入するボックスに書かれる「<span class="emphasis"><em>氏名</em></span>」にかわる文字列を設定します。</p></dd><dt><span class="term">L-Student:</span></dt><dd><p><code class="option">Code</code>オプションが使用された場合に、受験者に、受験番号と氏名を記入するよう指示する短い文章です。
            </p></dd><dt><span class="term">BoxColor:</span></dt><dd><p>受験者がマークするボックスの色です。これによりボックスは指定した色（例えば<span class="emphasis"><em>red</em></span>や、薄いグレーもありえます）で印刷され、データ取込み時の誤検出を軽減します。色は、有効な<span class="command"><strong>xcolor</strong></span>（詳細はLaTeXの<span class="command"><strong>xcolor</strong></span>ドキュメント参照）で、<span class="emphasis"><em>red</em></span>、<span class="emphasis"><em>magenta</em></span>、<span class="emphasis"><em>pink</em></span>、<span class="emphasis"><em>lightgray</em></span>、<span class="emphasis"><em>cyan</em></span>や、<code class="code">#RRGGBB</code>の形式で<code class="code">#FFBEC8</code>（淡い赤）のように指定します。</p></dd><dt><span class="term">DefaultScoringS:</span></dt><dd><p>単一選択問題（唯一の選択肢のみが正解になる設問）でのデフォルト採点基準です。詳細は<a class="xref" href="graphical-interface.html#bareme" title="採点基準">「採点基準」</a>を参照してください。デフォルト値は、正解に1点、それ以外に0点です。</p></dd><dt><span class="term">DefaultScoringM:</span></dt><dd><p>複数選択問題（正解の選択肢が0個、1個あるいは複数個ありうる設問）でのデフォルト採点基準です。詳細は<a class="xref" href="graphical-interface.html#bareme" title="採点基準">「採点基準」</a>を参照してください。デフォルト値は<code class="code">haut=2</code>で、完答に2点、1箇所の誤り（マークすべきでないボックスをマークしたり、マークすべきボックスをマークしなかったり）ごとに1点減点します（ただし負にはしない）。
            </p></dd><dt><span class="term">LaTeX:</span></dt><dd><p>文章中にLaTeXコマンドを使用したい場合は、このオプションを1にしてください。これにより例えば、<code class="code">$\sqrt{a+b}$</code>のような数式を挿入できます。0なら（デフォルト）、記述した文章がそのまま印刷されます。</p></dd><dt><span class="term">LaTeX-Preambule:</span></dt><dd><p>LaTeXプリアンブルに追加したいコマンド（例えば<span class="command"><strong>\usepackage</strong></span>コマンドなど）を設定します。
            </p></dd><dt><span class="term">LaTeX-BeginDocument:</span></dt><dd><p>LaTeXの<span class="command"><strong>document</strong></span>環境の先頭に挿入したいコマンド（例えばマクロ定義など）を設定します。</p></dd></dl></div><div class="sect3" title="別紙答案用紙"><div class="titlepage"><div><div><h4 class="title"><a id="idp6113600"></a>別紙答案用紙</h4></div></div></div><p>試験問題に別紙答案用紙を用いる場合は、次のオプションを指定してください:</p><div class="variablelist"><dl><dt><span class="term">SeparateAnswerSheet:</span></dt><dd><p>1なら、別紙答案用紙が追加されます。</p></dd><dt><span class="term">AnswerSheetTitle:</span></dt><dd><p>別紙答案用紙のタイトルです。</p></dd><dt><span class="term">AnswerSheetPresentation:</span></dt><dd><p>別紙答案用紙の注意書きです。例えば、解答をこの用紙に記入しなければ<span class="emphasis"><em>無効</em></span>であることを受験者に伝えます。</p></dd><dt><span class="term">AnswerSheetColumns:</span></dt><dd><p>別紙答案用紙のカラム数です。</p></dd></dl></div></div></div><div class="sect2" title="設問"><div class="titlepage"><div><div><h3 class="title"><a id="idp6122160"></a>設問</h3></div></div></div><p>単一選択問題（唯一の選択肢のみが正解となる設問）は、行を<code class="code">*</code>で始め、複数選択問題（任意個の正解がある設問）は<code class="code">**</code>で始めます。そのうしろに設問文を続け、以降の行に<code class="code">+</code>で始まる正しい選択肢と、 <code class="code">-</code>で始まる誤った選択肢を書きます。</p><div class="sect3" title="設問オプション"><div class="titlepage"><div><div><h4 class="title"><a id="idp6125008"></a>設問オプション</h4></div></div></div><p>設問にはいくつかオプションが設定できます。それらは次の例のように、<code class="code">*</code>か<code class="code">**</code>のあとに角括弧で囲み、カンマで区切って並べます:</p><pre class="programlisting">*[ordered,horiz,name=sum] 1足す1は
いくつですか？
- 0
- 1
+ 2</pre><p>設問に使用できるオプションは以下のとおりです:</p><div class="variablelist"><dl><dt><span class="term">horiz</span></dt><dd><p>選択肢を横に並べていきます。</p></dd><dt><span class="term">columns=<em class="replaceable"><code>n</code></em></span></dt><dd><p>選択肢を<em class="replaceable"><code>n</code></em>カラムに配置します。</p></dd><dt><span class="term">ordered</span></dt><dd><p>選択肢をシャフルせず、記述ファイル内と同じ順序を保ちます。</p></dd><dt><span class="term">name=<em class="replaceable"><code>xxxx</code></em></span></dt><dd><p>設問に名前をつけ、出力した採点表の得点がどの設問のものかわかりやすくします。この名前にはアクセントなどを含まずLaTeXの特殊文字（<code class="code">_</code>、<code class="code">^</code>、<code class="code">%</code>など）でない単純な文字しか使用できません。</p></dd></dl></div></div><div class="sect3" title="採点基準"><div class="titlepage"><div><div><h4 class="title"><a id="idp6137328"></a>採点基準</h4></div></div></div><p>特定の設問や選択肢の開始文字（<code class="code">*</code>、<code class="code">**</code>、<code class="code">+</code>、<code class="code">-</code>）とオプションの後に、波括弧で囲んで採点基準を設定することができます。例えば次の例のようになりますが、採点基準の詳細については、<a class="xref" href="graphical-interface.html#bareme" title="採点基準">「採点基準」</a>を参照してください。</p><pre class="programlisting">*{b=2,m=-1} フランスの首都はどれですか？
+ パリ
- リール
- マルセイユ
- ワガドゥグー
-{-2} ニューヨーク

**[ordered,horiz,name=positive]{haut=1} 以下の数のうち、正の数はどれですか？
- -2
+ 2
+ 10
</pre></div></div><div class="sect2" title="複数行"><div class="titlepage"><div><div><h3 class="title"><a id="idp6141984"></a>複数行</h3></div></div></div><p>文章はどこで切って次の行に続けても（それが空行であっても）、それがオプションや次の設問文や選択肢の開始と混同さえされなければかまいません。例として次の設問を見てください:</p><pre class="programlisting">* 2
  + 2はいくつですか？
- 0
+ 4
- 10</pre><p>これは正しいAMC-TXTの設問ですが、これは意図したとおりには扱われません。それは、2行目が、1行目の続きと認識されず、この設問の最初の選択肢の形式になっているためです！</p><p>同様の問題は次のAMC-TXTの設問でも発生します。ここでは、「<code class="code">Gershwin:</code>」が全体オプションの定義とみなされてしまいます。</p><pre class="programlisting">* みなさんは、George
  Gershwin: （作曲家）を知っています。
  彼が生まれたのは何年ですか？
+ 1898年
- 1892年
- 1902年</pre><p>正しい書き方は次のようになります:</p><pre class="programlisting">* みなさんは、George Gershwin: 
  （作曲家）を知っています。
  彼が生まれたのは何年ですか？
+ 1898年
- 1892年
- 1902年</pre><p>空行があると改行が挿入されます:</p><pre class="programlisting">Presentation: タイトル

試験の説明。

** 難問です。

空には星が何個ありますか？
- 1個
- 2個
- 何千万個も</pre></div><div class="sect2" title="アラビア語"><div class="titlepage"><div><div><h3 class="title"><a id="txt-arabic"></a>アラビア語</h3></div></div></div><p>アラビア語で試験問題を作成するのは少し特殊です。もちろん次のオプションを用います。</p><pre class="programlisting">Lang: AR</pre><p>さらに、以下の全体オプションを使用することができます:</p><div class="variablelist"><dl><dt><span class="term">ArabicFont:</span></dt><dd><p>アラビア語テキストに用いるフォントです。デフォルト値は<a class="ulink" href="http://arabeyes.org/" target="_top">ArabEyes</a>プロジェクト（debian/ubuntuではttf-arabeyesパッケージにあります）のフォント<span class="emphasis"><em>Rasheeq</em></span>です。</p></dd></dl></div><div class="warning" title="警告" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Warning"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[警告]" src="../images/warning.png" /></td><th align="left">警告</th></tr><tr><td align="left" valign="top"><p>できばえと可搬性をよりよくするには、<code class="option">L-Name</code>および <code class="option">L-Student</code>オプションに値を明示的に与えてください。</p></td></tr></table></div><div class="note" title="注記" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[注記]" src="../images/note.png" /></td><th align="left">注記</th></tr><tr><td align="left" valign="top"><p>非アラビア文字を挿入するには、<code class="option">LaTeX</code>オプションをオンにして、挿入したい文字をLaTeXコマンド<span class="command"><strong>\textLR</strong></span>の引数として<code class="code">\textLR{xelatex command}</code>のように与えてください。</p></td></tr></table></div></div><div class="sect2" title="日本語"><div class="titlepage"><div><div><h3 class="title"><a id="txt-japanese"></a>日本語</h3></div></div></div><p>日本語の試験問題は次のオプションを用いて生成することができます。</p><pre class="programlisting">Lang: JA</pre><p>AMCは、生成されるLaTeXソースにいくらか調整を行い、日本語テキストが処理できるようにします。</p><div class="warning" title="警告" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Warning"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[警告]" src="../images/warning.png" /></td><th align="left">警告</th></tr><tr><td align="left" valign="top"><p>この場合、AMCはAMC-TXTソースファイルから作られたLaTeXファイルを処理するのに<span class="command"><strong>platex</strong></span>コマンドを用います。これには、<span class="emphasis"><em>最近</em></span>のバージョンの<span class="command"><strong>platex</strong></span>が必要です。debianベースのディストリビューションで現在使用可能なtexlive 2009に付属する<span class="command"><strong>platex</strong></span>のバージョンは、AMCに対応して<span class="emphasis"><em>いません</em></span>。純粋なtexlive 2011のディストリビューションをインストールする必要があります。</p></td></tr></table></div></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="usagenotes.html">戻る</a> </td><td width="20%" align="center"> </td><td width="40%" align="right"> <a accesskey="n" href="latex.html">次へ</a></td></tr><tr><td width="40%" align="left" valign="top">利用メモ </td><td width="20%" align="center"><a accesskey="h" href="index.html">ホーム</a></td><td width="40%" align="right" valign="top"> LaTeXソースファイル</td></tr></table></div></body></html>
