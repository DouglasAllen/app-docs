

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>jira - create and modify issues in a JIRA instance &mdash; Ansible Documentation</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '0.01',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  false
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="Ansible Documentation" href="index.html" />
    <link rel="up" title="Web Infrastructure Modules" href="list_of_web_infrastructure_modules.html" />
    <link rel="next" title="supervisorctl - Manage the state of a program or group of programs running via supervisord" href="supervisorctl_module.html" />
    <link rel="prev" title="jboss - deploy applications to JBoss" href="jboss_module.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="supervisorctl_module.html" title="supervisorctl - Manage the state of a program or group of programs running via supervisord"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="jboss_module.html" title="jboss - deploy applications to JBoss"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">Ansible Documentation</a> &raquo;</li>
          <li><a href="modules_by_category.html" >Module Index</a> &raquo;</li>
          <li><a href="list_of_web_infrastructure_modules.html" accesskey="U">Web Infrastructure Modules</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="jira-create-and-modify-issues-in-a-jira-instance">
<span id="jira"></span><h1>jira - create and modify issues in a JIRA instance<a class="headerlink" href="#jira-create-and-modify-issues-in-a-jira-instance" title="Permalink to this headline">¶</a></h1>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Author:</th><td class="field-body">Steve Smith</td>
</tr>
</tbody>
</table>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><a class="reference internal" href="#synopsis" id="id1">Synopsis</a></li>
<li><a class="reference internal" href="#options" id="id2">Options</a></li>
<li><a class="reference internal" href="#examples" id="id3">Examples</a></li>
</ul>
</div>
<div class="section" id="synopsis">
<h2><a class="toc-backref" href="#id1">Synopsis</a><a class="headerlink" href="#synopsis" title="Permalink to this headline">¶</a></h2>
<p class="versionadded">
<span class="versionmodified">New in version 1.6.</span></p>
<p>Create and modify issues in a JIRA instance.</p>
</div>
<div class="section" id="options">
<h2><a class="toc-backref" href="#id2">Options</a><a class="headerlink" href="#options" title="Permalink to this headline">¶</a></h2>
<table border=1 cellpadding=4>
<tr>
<th class="head">parameter</th>
<th class="head">required</th>
<th class="head">default</th>
<th class="head">choices</th>
<th class="head">comments</th>
</tr>
        <tr>
<td>assignee</td>
<td>no</td>
<td></td>
    <td><ul></ul></td>
    <td>Sets the assignee on create or transition operations. Note not all transitions will allow this.</td>
</tr>
        <tr>
<td>comment</td>
<td>no</td>
<td></td>
    <td><ul></ul></td>
    <td>The comment text to add.</td>
</tr>
        <tr>
<td>description</td>
<td>no</td>
<td></td>
    <td><ul></ul></td>
    <td>The issue description, where appropriate.</td>
</tr>
        <tr>
<td>fields</td>
<td>no</td>
<td></td>
    <td><ul></ul></td>
    <td>This is a free-form data structure that can contain arbitrary data. This is passed directly to the JIRA REST API (possibly after merging with other required data, as when passed to create). See examples for more information, and the JIRA REST API for the structure required for various fields.</td>
</tr>
        <tr>
<td>issue</td>
<td>no</td>
<td></td>
    <td><ul></ul></td>
    <td>An existing issue key to operate on.</td>
</tr>
        <tr>
<td>issuetype</td>
<td>no</td>
<td></td>
    <td><ul></ul></td>
    <td>The issue type, for issue creation.</td>
</tr>
        <tr>
<td>operation</td>
<td>yes</td>
<td></td>
    <td><ul><li>create</li><li>comment</li><li>edit</li><li>fetch</li><li>transition</li></ul></td>
    <td>The operation to perform.</td>
</tr>
        <tr>
<td>password</td>
<td>yes</td>
<td></td>
    <td><ul></ul></td>
    <td>The password to log-in with.</td>
</tr>
        <tr>
<td>project</td>
<td>no</td>
<td></td>
    <td><ul></ul></td>
    <td>The project for this operation. Required for issue creation.</td>
</tr>
        <tr>
<td>status</td>
<td>no</td>
<td></td>
    <td><ul></ul></td>
    <td>The desired status; only relevant for the transition operation.</td>
</tr>
        <tr>
<td>summary</td>
<td>no</td>
<td></td>
    <td><ul></ul></td>
    <td>The issue summary, where appropriate.</td>
</tr>
        <tr>
<td>uri</td>
<td>yes</td>
<td></td>
    <td><ul></ul></td>
    <td>Base URI for the JIRA instance</td>
</tr>
        <tr>
<td>username</td>
<td>yes</td>
<td></td>
    <td><ul></ul></td>
    <td>The username to log-in with.</td>
</tr>
    </table></div>
<div class="section" id="examples">
<h2><a class="toc-backref" href="#id3">Examples</a><a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h2>
<br/><div class="highlight-python"><pre># Create a new issue and add a comment to it:
- name: Create an issue
  jira: uri={{server}} username={{user}} password={{pass}}
        project=ANS operation=create
        summary="Example Issue" description="Created using Ansible" issuetype=Task
  register: issue

- name: Comment on issue
  jira: uri={{server}} username={{user}} password={{pass}}
        issue={{issue.meta.key}} operation=comment
        comment="A comment added by Ansible"

# Assign an existing issue using edit
- name: Assign an issue using free-form fields
  jira: uri={{server}} username={{user}} password={{pass}}
        issue={{issue.meta.key}} operation=edit
        assignee=ssmith

# Create an issue with an existing assignee
- name: Create an assigned issue
  jira: uri={{server}} username={{user}} password={{pass}}
        project=ANS operation=create
        summary="Assigned issue" description="Created and assigned using Ansible"
        issuetype=Task assignee=ssmith

# Edit an issue using free-form fields
- name: Set the labels on an issue using free-form fields
  jira: uri={{server}} username={{user}} password={{pass}}
        issue={{issue.meta.key}} operation=edit
  args: { fields: {labels: ["autocreated", "ansible"]}}

- name: Set the labels on an issue, YAML version
  jira: uri={{server}} username={{user}} password={{pass}}
        issue={{issue.meta.key}} operation=edit
  args:
    fields:
      labels:
        - "autocreated"
        - "ansible"
        - "yaml"

# Retrieve metadata for an issue and use it to create an account
- name: Get an issue
  jira: uri={{server}} username={{user}} password={{pass}}
        project=ANS operation=fetch issue="ANS-63"
  register: issue

- name: Create a unix account for the reporter
  sudo: true
  user: name="{{issue.meta.fields.creator.name}}" comment="{{issue.meta.fields.creator.displayName}}"

# Transition an issue by target status
- name: Close the issue
  jira: uri={{server}} username={{user}} password={{pass}}
        issue={{issue.meta.key}} operation=transition status="Done"</pre>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Currently this only works with basic-auth.</p>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">jira - create and modify issues in a JIRA instance</a><ul>
<li><a class="reference internal" href="#synopsis">Synopsis</a></li>
<li><a class="reference internal" href="#options">Options</a></li>
<li><a class="reference internal" href="#examples">Examples</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="jboss_module.html"
                        title="previous chapter">jboss - deploy applications to JBoss</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="supervisorctl_module.html"
                        title="next chapter">supervisorctl - Manage the state of a program or group of programs running via supervisord</a></p>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="supervisorctl_module.html" title="supervisorctl - Manage the state of a program or group of programs running via supervisord"
             >next</a> |</li>
        <li class="right" >
          <a href="jboss_module.html" title="jboss - deploy applications to JBoss"
             >previous</a> |</li>
        <li><a href="index.html">Ansible Documentation</a> &raquo;</li>
          <li><a href="modules_by_category.html" >Module Index</a> &raquo;</li>
          <li><a href="list_of_web_infrastructure_modules.html" >Web Infrastructure Modules</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2013 Ansible, Inc.
      Last updated on Oct 02, 2014.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>