<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>Správa balíků</title><link rel="stylesheet" type="text/css" href="aptitude.css"><meta name="generator" content="DocBook XSL Stylesheets V1.76.1"><link rel="home" href="index.html" title="aptitude - příručka uživatele"><link rel="up" href="ch01s01.html" title="Používáme aptitude"><link rel="prev" href="ch01s01s03.html" title="Hledání balíků podle jmen"><link rel="next" href="ch01s01s05.html" title="Aktualizace seznamu a instalace balíků"><link rel="preface" href="pr01.html" title="Úvod"><link rel="chapter" href="ch01.html" title="Kapitola 1. Začínáme"><link rel="chapter" href="ch02.html" title="Kapitola 2. aptitude - referenční příručka"><link rel="chapter" href="ch03.html" title="Kapitola 3. Často kladené otázky"><link rel="chapter" href="ch04.html" title="Kapitola 4. Poděkování"><link rel="reference" href="rn01.html" title="Přehled příkazů"><link rel="refentry" href="rn01re01.html" title="aptitude"><link rel="refentry" href="rn01re02.html" title="aptitude-create-state-bundle"><link rel="refentry" href="rn01re03.html" title="aptitude-run-state-bundle"><link rel="subsection" href="ch01s01s04.html#tutorialBroken" title="Správa porušených balíků"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Správa balíků</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch01s01s03.html"><img src="images/prev.gif" alt="Předcházející"></a> </td><th width="60%" align="center">Používáme <span class="command"><strong>aptitude</strong></span></th><td width="20%" align="right"> <a accesskey="n" href="ch01s01s05.html"><img src="images/next.gif" alt="Další"></a></td></tr></table><hr></div><div class="section" title="Správa balíků"><div class="titlepage"><div><div><h3 class="title"><a name="secManagingPackages"></a>Správa balíků</h3></div></div></div><div class="toc"><dl><dt><span class="section"><a href="ch01s01s04.html#tutorialBroken">Správa porušených balíků</a></span></dt></dl></div><p>

Nyní, když se umíte pohybovat v seznamu balíků, nastal čas naučit se
instalovat a odstraňovat balíky. V této sekci se naučíte, jak označit
balíky pro instalaci, smazání a aktualizaci.

</p><div class="tip" title="Tip" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Tip"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Tip]" src="images/tip.png"></td><th align="left">Tip</th></tr><tr><td align="left" valign="top"><p>

Při experimentování s <span class="command"><strong>aptitude</strong></span> používejte účet běžného uživatele,
protože se pak nemusíte bát, že byste nějakým způsobem poškodili
systém (změny v systému může provádět pouze uživatel <code class="systemitem">root</code>). Pokud se
pokusíte provést nějakou akci, kterou může provést pouze <code class="systemitem">root</code>,
<span class="command"><strong>aptitude</strong></span> vás o tom bude informovat a pokud budete chtít pokračovat,
budete muset zadat <code class="systemitem">root</code>ovo heslo.

</p></td></tr></table></div><p>

Všechny operace s balíkem probíhají tak, že jej nejprve vyberete ze
seznamu (řádek bude vysvícený) a poté stisknete klávesu odpovídající
zamýšlené akci. Základní akční klávesy<sup>[<a name="idp3256992" href="#ftn.idp3256992" class="footnote">2</a>]</sup> jsou
<span class="keycap"><strong>+</strong></span> pro instalaci nebo aktualizaci balíku,
<span class="keycap"><strong>-</strong></span> pro odstranění balíku a <span class="keycap"><strong>=</strong></span> pro
zabránění, aby byl balík automaticky aktualizován (též známé jako
<em class="firstterm">podržení</em>).  Popisované akce se neprovedou
okamžitě, ale teprve až o to <span class="command"><strong>aptitude</strong></span> požádáte. Do té doby můžete
zamýšlené akce vidět pouze v seznamu balíků.

</p><p>

Například další obrazovka ukazuje stav poté, co byl označen balík
<code class="systemitem">kaffeine</code> a někdo na něm stiskl klávesu
<span class="keycap"><strong>+</strong></span>.  Balík je nyní zvýrazněn zelenou barvou a nalevo
od názvu balíku se objevilo písmeno <span class="quote">„<span class="quote">i</span>“</span>, což znamená, že
bude (někdy v budoucnu) nainstalován. Dále se v řádku objeví velikost,
kterou balík ukousne z volného místa na disku.

</p><div class="screenshot"><div class="mediaobject"><img src="images/install-snapshot.png" longdesc="ld-idp3262056.html"><div class="longdesc-link" align="right"><br clear="all"><span class="longdesc-link">[<a href="ld-idp3262056.html" target="longdesc">D</a>]</span></div></div></div><div class="tip" title="Tip" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Tip"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Tip]" src="images/tip.png"></td><th align="left">Tip</th></tr><tr><td align="left" valign="top"><p>

Kdykoliv můžete použít <span class="guimenu">Zpět</span> → <span class="guimenuitem">Zpět</span> (<span class="shortcut"><strong><span class="keycap"><strong>Control</strong></span>+<span class="keycap"><strong>u</strong></span></strong></span>). Funkce <span class="quote">„<span class="quote">Zpět</span>“</span> umí
vrátit zpět změny na jednom nebo více balících. To se hodí v případě,
že nějaká akce měla neočekávané následky a nyní ji chcete
<span class="quote">„<span class="quote">vrátit zpět</span>“</span>.

</p></td></tr></table></div><p>

Kromě akcí, které pracují s jednotlivými balíky existuje ještě jedna
důležitá funkce: klávesa <span class="keycap"><strong>U</strong></span> se pokusí aktualizovat
všechny balíky, které se aktualizovat dají. Tento příkaz byste měli
používat pravidelně, abyste zajistili, že budete mít nejnovější
aktualizace.

</p><div class="section" title="Správa porušených balíků"><div class="titlepage"><div><div><h4 class="title"><a name="tutorialBroken"></a>Správa porušených balíků</h4></div></div></div><p>

Někdy se stane, že změna stavu balíku způsobí, že se poruší některé
vztahy mezi balíky. Balíky s nesplněnými závislostmi se nazývají
<em class="firstterm">poškozené</em>.  Pokud taková situace nastane,
<span class="command"><strong>aptitude</strong></span> vás o ní bude okamžitě informovat. Příklad, co se stane,
když jsem se pokusil odstranit <code class="systemitem">sound-juicer</code>:

</p><div class="screenshot"><div class="mediaobject"><img src="images/broken-snapshot.png" longdesc="ld-idp3271592.html"><div class="longdesc-link" align="right"><br clear="all"><span class="longdesc-link">[<a href="ld-idp3271592.html" target="longdesc">D</a>]</span></div></div></div><p>

Jak se můžete přesvědčit, <span class="command"><strong>aptitude</strong></span> zobrazí nejméně tři indicie, že
je něco špatně. Zaprvé je nahoře v modrém pruhu zobrazen počet balíků
s porušenými závislostmi. Zadruhé se ve spodní části obrazovky zobrazí
místo popisu balíků popis porušených závislostí, které nějak souvisí
vybraným balíkem. A zatřetí se dole na obrazovce objeví pruh
s návrhem, jak problém vyřešit. Porušené balíky můžete v seznamu najít
rychle tak, že budete hledat vzor <code class="literal"><a class="link" href="ch02s03s05.html#searchBroken">?broken</a></code>, nebo
ještě jednodušeji použijete klávesu <span class="keycap"><strong>b</strong></span>.

</p><div class="note" title="Poznámka" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Poznámka]" src="images/note.png"></td><th align="left">Poznámka</th></tr><tr><td align="left" valign="top"><p>

Text <code class="literal">[1(1)/...]</code> indikuje postup řešitele
závislostí. První číslo je momentálně vybrané řešení, druhé pak počet
řešení, které již <span class="command"><strong>aptitude</strong></span> vymyslela. Tři tečky
<span class="quote">„<span class="quote"><code class="literal">...</code></span>“</span> naznačují, že mohou existovat
ještě další řešení. Pokud by si <span class="command"><strong>aptitude</strong></span> byla jistá, že již žádné
další řešení neexistuje, text by změnil podobu na
<code class="literal">[1/1]</code>.

</p></td></tr></table></div><p>

Chcete-li se o nabízeném řešení dozvědět více, stiskněte klávesu
<span class="keycap"><strong>e</strong></span>. Objeví se obrazovka podobná této:

</p><div class="screenshot"><div class="mediaobject"><img src="images/solution-screen-snapshot.png" longdesc="ld-idp3280520.html"><div class="longdesc-link" align="right"><br clear="all"><span class="longdesc-link">[<a href="ld-idp3280520.html" target="longdesc">D</a>]</span></div></div></div><p>

Z obrázku je vidět, že jako jedno z možných řešení konfliktu navrhuje
<span class="command"><strong>aptitude</strong></span> ponechat balíky
<code class="systemitem">gstreamer0.8-cdparanoia</code>
a <code class="systemitem">sound-juicer</code> v původním stavu,
tj. neprovádět s nimi žádnou akci. Protože nám toto řešení nevyhovuje
(chceme přece <code class="systemitem">sound-juicer</code> odinstalovat),
můžete přejít na další řešení klávesou <span class="keycap"><strong>.</strong></span>, případně se
vrátit k dřívějšímu řešení pomocí klávesy
<span class="keycap"><strong>,</strong></span>. Naleznete-li řešení, které vám vyhovuje, můžete
jej použít stiskem <span class="keycap"><strong>!</strong></span>, což vás zároveň vrátí do
původního seznamu balíků. Například na následující obrazovce jsem se
rozhodl použít klávesu <span class="keycap"><strong>.</strong></span> a prozkoumat další řešení:

</p><div class="screenshot"><div class="mediaobject"><img src="images/solution-screen-snapshot2.png" longdesc="ld-idp3286680.html"><div class="longdesc-link" align="right"><br clear="all"><span class="longdesc-link">[<a href="ld-idp3286680.html" target="longdesc">D</a>]</span></div></div></div><p>

Kromě základních navigačních příkazů můžete při řešení závislostí
použít klávesu <span class="keycap"><strong>r</strong></span>, kterou zakážete akce, které se vám
nelíbí. Například obě řešení navrhují zrušit odstranění balíku
<code class="systemitem">sound-juicer</code>, což ale bylo právě to, co jsme
chtěli původně udělat — balík odstranit! Stiskem klávesy
<span class="keycap"><strong>r</strong></span> na řádku s danou akcí můžete říci <span class="command"><strong>aptitude</strong></span>, aby
vám nenabízela řešení, ve kterých by došlo k ponechání tohoto balíku.

</p><div class="screenshot"><div class="mediaobject"><img src="images/solution-screen-snapshot3.png" longdesc="ld-idp3291328.html"><div class="longdesc-link" align="right"><br clear="all"><span class="longdesc-link">[<a href="ld-idp3291328.html" target="longdesc">D</a>]</span></div></div></div><p>

Jak je z obrázku vidět, řádek navrhující ponechat
<code class="systemitem">sound-juicer</code> ve stávající verzi zčervenal
a byl označen písmenem <span class="quote">„<span class="quote">R</span>“</span>, což znamená, že byl zamítnut
(z anglického <span class="emphasis"><em>R</em></span>ejected). Řešení, která poté
vytvoříte (tj. ta, která jste ještě neviděli), nebudou tuto akci
obsahovat. Daná akce se však stále může vyskytovat v řešeních, která
jste vytvořili před tímto zákazem.

</p><div class="note" title="Poznámka" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Poznámka]" src="images/note.png"></td><th align="left">Poznámka</th></tr><tr><td align="left" valign="top"><p>

Na předchozím obrázku je uprostřed obrazovky zobrazen krátký popis
balíku <code class="systemitem">sound-juicer</code>. Pod ním je vidět
závislost, která způsobila podržení balíku
<code class="systemitem">sound-juicer</code> v aktuální verzi
(<span class="quote">„<span class="quote">gnome-desktop-environment závisí na
sound-juicer</span>“</span>). Dále pak následuje seznam možností, jak tuto
závislost vyřešit.

</p></td></tr></table></div><p>

Například kdybychom toto zamítnutí použili hned po označení balíku
<code class="systemitem">sound-juicer</code> pro odinstalování a stisku
klávesy <span class="keycap"><strong>e</strong></span>, tak by přechod na další řešení nenabídnul
<a class="link" href="ch01s01s04.html#solutionScreenSnapshot2">řešení</a>, které zrušilo
odinstalaci balíku <code class="systemitem">sound-juicer</code> a ještě
navrhlo degradaci balíku
<code class="systemitem">gstreamer0.8-cdparanoia</code>, ale místo něj by
nabídl následující:

</p><div class="screenshot"><div class="mediaobject"><img src="images/solution-screen-snapshot4.png" longdesc="ld-idp3300728.html"><div class="longdesc-link" align="right"><br clear="all"><span class="longdesc-link">[<a href="ld-idp3300728.html" target="longdesc">D</a>]</span></div></div></div><p>

Zamítnutí dané akce můžete kdykoliv zrušit tak, že se přesunete na
řádek se zamítnutou akcí a znovu použijete klávesu
<span class="keycap"><strong>r</strong></span>. Nově vytvořená řešení pak mohou tuto akci zase
obsahovat.

</p><p>

Opakem zamítnutí je schválení akce. Pro schválení akce ji jednoduše
vyberte a stiskněte klávesu <span class="keycap"><strong>a</strong></span>. Tím přinutíte
řešitele, aby tuto akci použil kdykoliv to jen bude
možné.<sup>[<a name="idp3304608" href="#ftn.idp3304608" class="footnote">3</a>]</sup>. Schválené akce poznáte podle zelené barvy a podle
písmena <span class="quote">„<span class="quote">A</span>“</span> na začátku řádku, jak je vidět
z následujícího obrázku:

</p><div class="screenshot"><div class="mediaobject"><img src="images/solution-screen-snapshot5.png" longdesc="ld-idp3306112.html"><div class="longdesc-link" align="right"><br clear="all"><span class="longdesc-link">[<a href="ld-idp3306112.html" target="longdesc">D</a>]</span></div></div></div><div class="important" title="Důležité" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Important"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Důležité]" src="images/important.png"></td><th align="left">Důležité</th></tr><tr><td align="left" valign="top"><p>

Jestliže se vám vzniklá situace nepodaří vyřešit vlastními silami,
<span class="command"><strong>aptitude</strong></span> se pokusí věci spravit při zaznamenání provedených změn
klávesou <span class="keycap"><strong>g</strong></span> tak, že použije aktuální návrh.
Automatické řešení závislostí je poměrně těžké a může se stát,
že nebudete s výsledky spokojeni. Vždy je lepší vyřešit podobné
problémy před zaznamenáním změn.

</p></td></tr></table></div></div><div class="footnotes"><br><hr width="100" align="left"><div class="footnote"><p><sup>[<a id="ftn.idp3256992" href="#idp3256992" class="para">2</a>] </sup> S balíky
můžete pracovat také pomocí menu <span class="guimenu">Balík</span>; podrobněji
viz <a class="xref" href="ch02s01s02.html#secPackageMenu" title="Menu Balík">„Menu Balík“</a>. </p></div><div class="footnote"><p><sup>[<a id="ftn.idp3304608" href="#idp3304608" class="para">3</a>] </sup>

Schválení akce není stejné jako vyžadování, aby tuto akci obsahovalo
každé řešení. To znamená, že když má řešitel na výběr mezi schválenou
a jinou akcí, vždy použije tu schválenou. Pokud existuje více
schválených akcí, bude se je snažit použít všechny.

</p></div></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch01s01s03.html"><img src="images/prev.gif" alt="Předcházející"></a> </td><td width="20%" align="center"><a accesskey="u" href="ch01s01.html"><img src="images/up.gif" alt="Nahoru"></a></td><td width="40%" align="right"> <a accesskey="n" href="ch01s01s05.html"><img src="images/next.gif" alt="Další"></a></td></tr><tr><td width="40%" align="left" valign="top">Hledání balíků podle jmen </td><td width="20%" align="center"><a accesskey="h" href="index.html"><img src="images/home.gif" alt="Domů"></a></td><td width="40%" align="right" valign="top"> Aktualizace seznamu a instalace balíků</td></tr></table></div></body></html>
