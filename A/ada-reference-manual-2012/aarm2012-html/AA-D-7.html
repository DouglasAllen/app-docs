<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<HTML>
<HEAD>
    <TITLE>Tasking Restrictions</TITLE>
    <META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
    <META NAME="Author" CONTENT="JTC1/SC22/WG9/ARG, by Randall Brukardt, ARG Editor">
    <META NAME="GENERATOR" CONTENT="Arm_Form.Exe, Ada Reference Manual generator">
    <STYLE type="text/css">
    H4.centered {text-align: center}
    SPAN.swiss {font-family: Arial, Helvetica, sans-serif; font-size: 92%}
    SPAN.roman {font-family: "Times New Roman", Times, serif}
    DIV.paranum {float: left; font-family: Arial, Helvetica, sans-serif; font-size: 64%; width: 2.8em; margin-left: -0.4em; margin-right: -3.0em; margin-top: 0.2em}
    TT {font-family: "Courier New", monospace}
    DT {display: compact}
    DIV.Normal {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 1.2em; margin-bottom: 0.6em}
    DIV.Notes {font-family: "Times New Roman", Times, serif; font-size: 80%; line-height: 122%; margin-left: 3.7em; margin-bottom: 0.6em}
    DIV.Annotations {font-family: "Times New Roman", Times, serif; font-size: 80%; line-height: 122%; margin-left: 6.2em; margin-bottom: 0.6em}
    DIV.NotesHeader {font-family: "Times New Roman", Times, serif; font-size: 80%; line-height: 122%; margin-left: 3.7em}
    DIV.WideHanging-Body {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 7.2em; margin-top: 0em; margin-bottom: 0.6em}
    DIV.WideHanging-Term {float: left; font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 1.2em; margin-top: 0em; margin-bottom: 0em}
    </STYLE>
</HEAD>
<BODY TEXT="#000000" BGCOLOR="#FFFFF0" LINK="#000080" VLINK="#330033" ALINK="#0000FF">
<DIV><B><SPAN Style="font-size:200%; color: rgb(0,51,153)">Annotated</SPAN><SPAN Style="font-size:200%; color: rgb(0,0,102)">&nbsp;Ada Reference Manual</SPAN></B> &mdash; <A HREF="AA-TTL.html"><B>Legal Information</B></A></DIV>
<div style="margin-top: 0.6em; margin-bottom: 0.0em"><A HREF="AA-TOC.html"><IMG SRC="cont.gif" ALT="Contents" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-0-4.html"><IMG SRC="index.gif" ALT="Index" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-STDS.html"><IMG SRC="lib.gif" ALT="References" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-SRCH.html"><IMG SRC="find.gif" ALT="Search" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-D-6.html"><IMG SRC="prev.gif" ALT="Previous" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-D-8.html"><IMG SRC="next.gif" ALT="Next" BORDER=0></A>&nbsp;
</div>
<HR>
<H1>D.7 Tasking Restrictions</H1>
<div class="paranum">1</div>
<div class="Normal">[This clause defines restrictions that can be used 
with a pragma Restrictions (see <A HREF="AA-13-12.html">13.12</A>) to 
facilitate the construction of highly efficient tasking run-time systems.] 
</div>

<H4 Class="centered">Static Semantics</H4>
<div class="paranum">2</div>
<div class="Normal" style="margin-bottom: 0.4em">The following <I>restriction_</I><SPAN Class="swiss"><A HREF="AA-2-3.html#S0002">identifier</A></SPAN>s 
are language defined:&nbsp;</div>
<div class="paranum">3/3</div>
<div class="WideHanging-Term">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0013-1.TXT">AI05-0013-1</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0216-1.TXT">AI05-0216-1</A></I>} 
<A NAME="I8452"></A><A NAME="I8453"></A>No_Task_Hierarchy&nbsp;</div><div class="WideHanging-Body"><br clear="left">
No task depends on a master other than the library-level master.</div>
<div class="paranum">3.a/3</div>
<div class="Annotations"><B>Ramification:&nbsp;</B>{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0216-1.TXT">AI05-0216-1</A></I>} 
This is equivalent to saying &ldquo;no task depends on a master other 
than the master that is the execution of the body of the environment 
task of the partition&rdquo;, but it is much easier to understand. This 
is a post-compilation check, which can be checked at compile-time.</div>
<div class="paranum">3.b/3</div>
<div class="Annotations">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0013-1.TXT">AI05-0013-1</A></I>} 
This disallows any function returning an object with a task part or coextension, 
even if called at the library level, as such a task would temporarily 
depend on a nested master (the master of the return statement), which 
is disallowed by this restriction.&nbsp;</div>
<div class="paranum">4/3</div>
<div class="WideHanging-Term">{<I><A HREF="defect1.html#8652/0042">8652/0042</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00130.TXT">AI95-00130-01</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00360.TXT">AI95-00360-01</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0013-1.TXT">AI05-0013-1</A></I>} 
<A NAME="I8454"></A><A NAME="I8455"></A>No_Nested_Finalization&nbsp;</div><div class="WideHanging-Body"><br clear="left">
Objects of a type that needs finalization (see <A HREF="AA-7-6.html">7.6</A>) 
are declared only at library level. If an access type does not have library-level 
accessibility, then there are no <SPAN Class="swiss"><A HREF="AA-4-8.html#S0143">allocator</A></SPAN>s 
of the type where the type determined by the <SPAN Class="swiss"><A HREF="AA-3-2-2.html#S0028">subtype_mark</A></SPAN> 
of the <SPAN Class="swiss"><A HREF="AA-3-2-2.html#S0027">subtype_indication</A></SPAN> 
or <SPAN Class="swiss"><A HREF="AA-4-7.html#S0142">qualified_expression</A></SPAN> 
needs finalization.&nbsp;</div>
<div class="paranum">4.a/1</div>
<div class="Annotations"><SPAN STYLE="font-size: 80%"><I>This paragraph 
was deleted.</I></SPAN>{<I><A HREF="defect1.html#8652/0042">8652/0042</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00130.TXT">AI95-00130-01</A></I>} 
</div>
<div class="paranum">4.b/3</div>
<div class="Annotations"><B>Ramification:&nbsp;</B>{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0013-1.TXT">AI05-0013-1</A></I>} 
The second sentence prevents the declaration of objects of access types 
which would require nested finalization. It also prevents the declarations 
of coextensions that need finalization in a nested scope. The latter 
cannot be done by preventing the declaration of the objects, as it is 
not necessarily known if the coextension type needs finalization (it 
could be a limited view).&nbsp;</div>
<div class="paranum">5/3</div>
<div class="WideHanging-Term">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0211-1.TXT">AI05-0211-1</A></I>} 
<A NAME="I8456"></A><A NAME="I8457"></A>No_Abort_Statements&nbsp;</div><div class="WideHanging-Body"><br clear="left">
There are no <SPAN Class="swiss"><A HREF="AA-9-8.html#S0245">abort_statement</A></SPAN>s, 
and there is no use of a <SPAN Class="swiss"><A HREF="AA-4-1.html#S0091">name</A></SPAN> 
denoting Task_Identification.Abort_Task.</div>
<div class="paranum">6</div>
<div class="WideHanging-Term"><A NAME="I8458"></A><A NAME="I8459"></A>No_Terminate_Alternatives 
</div><div class="WideHanging-Body"><br clear="left">
There are no <SPAN Class="swiss"><A HREF="AA-9-7-1.html#S0231">selective_accept</A></SPAN>s 
with <SPAN Class="swiss"><A HREF="AA-9-7-1.html#S0236">terminate_alternative</A></SPAN>s.</div>
<div class="paranum">7</div>
<div class="WideHanging-Term"><A NAME="I8460"></A><A NAME="I8461"></A>No_Task_Allocators 
</div><div class="WideHanging-Body"><br clear="left">
There are no <SPAN Class="swiss"><A HREF="AA-4-8.html#S0143">allocator</A></SPAN>s 
for task types or types containing task subcomponents.</div>
<div class="paranum">7.1/3</div>
<div class="WideHanging-Body">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0224-1.TXT">AI05-0224-1</A></I>} 
In the case of an initialized <SPAN Class="swiss"><A HREF="AA-4-8.html#S0143">allocator</A></SPAN> 
of an access type whose designated type is class-wide and limited, a 
check is made that the specific type of the allocated object has no task 
subcomponents. Program_Error is raised if this check fails.<A NAME="I8462"></A> 
</div>
<div class="paranum">8</div>
<div class="WideHanging-Term"><A NAME="I8463"></A><A NAME="I8464"></A>No_Implicit_Heap_Allocations 
</div><div class="WideHanging-Body"><br clear="left">
There are no operations that implicitly require heap storage allocation 
to be performed by the implementation. The operations that implicitly 
require heap storage allocation are implementation defined.&nbsp;</div>
<div class="paranum">8.a</div>
<div class="Annotations"><B>Implementation defined:&nbsp;</B>Any operations 
that implicitly require heap storage allocation.</div>
<div class="paranum">9/2</div>
<div class="WideHanging-Term">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00327.TXT">AI95-00327-01</A></I>} 
No_Dynamic_Priorities&nbsp;</div><div class="WideHanging-Body"><br clear="left">
There are no semantic dependences on the package Dynamic_Priorities, 
and no occurrences of the attribute Priority. <A NAME="I8465"></A><A NAME="I8466"></A></div>
<div class="paranum">10/3</div>
<div class="WideHanging-Term">&nbsp;{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00305.TXT">AI95-00305-01</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00394.TXT">AI95-00394-01</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0013-1.TXT">AI05-0013-1</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0211-1.TXT">AI05-0211-1</A></I>} 
<A NAME="I8467"></A><A NAME="I8468"></A>No_Dynamic_Attachment&nbsp;</div><div class="WideHanging-Body"><br clear="left">
There is no use of a <SPAN Class="swiss"><A HREF="AA-4-1.html#S0091">name</A></SPAN> 
denoting any of the operations defined in package Interrupts (Is_Reserved, 
Is_Attached, Current_Handler, Attach_Handler, Exchange_Handler, Detach_Handler, 
and Reference).&nbsp;</div>
<div class="paranum">10.a/3</div>
<div class="Annotations"><B>Ramification:&nbsp;</B>{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0013-1.TXT">AI05-0013-1</A></I>} 
This includes 'Access and 'Address of any of these operations, as well 
as inherited versions of these operations.&nbsp;</div>
<div class="paranum">10.1/3</div>
<div class="WideHanging-Term">&nbsp;&nbsp;&nbsp;{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00305.TXT">AI95-00305-01</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0013-1.TXT">AI05-0013-1</A></I>} 
<A NAME="I8469"></A><A NAME="I8470"></A>No_Local_Protected_Objects&nbsp;</div><div class="WideHanging-Body"><br clear="left">
Protected objects are declared only at library level.</div>
<div class="paranum">10.2/3</div>
<div class="WideHanging-Term">&nbsp;&nbsp;&nbsp;{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00297.TXT">AI95-00297-01</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0013-1.TXT">AI05-0013-1</A></I>} 
<A NAME="I8471"></A><A NAME="I8472"></A>No_Local_Timing_Events&nbsp;</div><div class="WideHanging-Body"><br clear="left">
Timing_Events are declared only at library level.</div>
<div class="paranum">10.3/2</div>
<div class="WideHanging-Term">&nbsp;&nbsp;&nbsp;{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00305.TXT">AI95-00305-01</A></I>} 
<A NAME="I8473"></A><A NAME="I8474"></A>No_Protected_Type_Allocators 
</div><div class="WideHanging-Body"><br clear="left">
There are no <SPAN Class="swiss"><A HREF="AA-4-8.html#S0143">allocator</A></SPAN>s 
for protected types or types containing protected type subcomponents.</div>
<div class="paranum">10.4/3</div>
<div class="WideHanging-Body">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0224-1.TXT">AI05-0224-1</A></I>} 
In the case of an initialized <SPAN Class="swiss"><A HREF="AA-4-8.html#S0143">allocator</A></SPAN> 
of an access type whose designated type is class-wide and limited, a 
check is made that the specific type of the allocated object has no protected 
subcomponents. Program_Error is raised if this check fails.<A NAME="I8475"></A> 
</div>
<div class="paranum">10.5/3</div>
<div class="WideHanging-Term">&nbsp;&nbsp;&nbsp;{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00305.TXT">AI95-00305-01</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0211-1.TXT">AI05-0211-1</A></I>} 
<A NAME="I8476"></A><A NAME="I8477"></A>No_Relative_Delay&nbsp;</div><div class="WideHanging-Body"><br clear="left">
There are no <SPAN Class="swiss"><A HREF="AA-9-6.html#S0229">delay_relative_statement</A></SPAN>s, 
and there is no use of a <SPAN Class="swiss"><A HREF="AA-4-1.html#S0091">name</A></SPAN> 
that denotes the Timing_Events.Set_Handler subprogram that has a Time_Span 
parameter.</div>
<div class="paranum">10.6/3</div>
<div class="WideHanging-Term">&nbsp;&nbsp;&nbsp;{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00305.TXT">AI95-00305-01</A></I>} 
<A NAME="I8478"></A><A NAME="I8479"></A>No_Requeue_Statements&nbsp;</div><div class="WideHanging-Body"><br clear="left">
There are no <SPAN Class="swiss"><A HREF="AA-9-5-4.html#S0226">requeue_statement</A></SPAN>s.</div>
<div class="paranum">10.7/3</div>
<div class="WideHanging-Term">&nbsp;&nbsp;&nbsp;{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00305.TXT">AI95-00305-01</A></I>} 
<A NAME="I8480"></A><A NAME="I8481"></A>No_Select_Statements&nbsp;</div><div class="WideHanging-Body"><br clear="left">
There are no <SPAN Class="swiss"><A HREF="AA-9-7.html#S0230">select_statement</A></SPAN>s.</div>
<div class="paranum">10.8/3</div>
<div class="WideHanging-Term">&nbsp;&nbsp;&nbsp;{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00394.TXT">AI95-00394-01</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0211-1.TXT">AI05-0211-1</A></I>} 
<A NAME="I8482"></A><A NAME="I8483"></A>No_Specific_Termination_Handlers 
</div><div class="WideHanging-Body"><br clear="left">
There is no use of a <SPAN Class="swiss"><A HREF="AA-4-1.html#S0091">name</A></SPAN> 
denoting the Set_Specific_Handler and Specific_Handler subprograms in 
Task_Termination.</div>
<div class="paranum">10.9/3</div>
<div class="WideHanging-Term">&nbsp;&nbsp;&nbsp;{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00305.TXT">AI95-00305-01</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0013-1.TXT">AI05-0013-1</A></I>} 
<A NAME="I8484"></A><A NAME="I8485"></A>Simple_Barriers&nbsp;</div><div class="WideHanging-Body"><br clear="left">
The Boolean expression in each entry barrier is either a static expression 
or a name that statically denotes a component of the enclosing protected 
object.</div>
<div class="paranum">11</div>
<div class="Normal" style="margin-bottom: 0.4em">The following <I>restriction_parameter_</I><SPAN Class="swiss"><A HREF="AA-2-3.html#S0002">identifier</A></SPAN>s 
are language defined:&nbsp;</div>
<div class="paranum">12</div>
<div class="WideHanging-Term"><A NAME="I8486"></A><A NAME="I8487"></A>Max_Select_Alternatives 
</div><div class="WideHanging-Body"><br clear="left">
Specifies the maximum number of alternatives in a <SPAN Class="swiss"><A HREF="AA-9-7-1.html#S0231">selective_accept</A></SPAN>.</div>
<div class="paranum">13</div>
<div class="WideHanging-Term"><A NAME="I8488"></A><A NAME="I8489"></A>Max_Task_Entries 
</div><div class="WideHanging-Body"><br clear="left">
Specifies the maximum number of entries per task. The bounds of every 
entry family of a task unit shall be static, or shall be defined by a 
discriminant of a subtype whose corresponding bound is static. [A value 
of zero indicates that no rendezvous are possible.]</div>
<div class="paranum">14</div>
<div class="WideHanging-Term">Max_Protected_Entries&nbsp;</div><div class="WideHanging-Body"><br clear="left">
Specifies the maximum number of entries per protected type. The bounds 
of every entry family of a protected unit shall be static, or shall be 
defined by a discriminant of a subtype whose corresponding bound is static. 
<A NAME="I8490"></A><A NAME="I8491"></A></div>

<H4 Class="centered">Dynamic Semantics</H4>
<div class="paranum">15/2</div>
<div class="Normal" style="margin-bottom: 0.4em">&nbsp;{<I><A HREF="defect1.html#8652/0076">8652/0076</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00067.TXT">AI95-00067-01</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00305.TXT">AI95-00305-01</A></I>} 
The following <I>restriction_</I><SPAN Class="swiss"><A HREF="AA-2-3.html#S0002">identifier</A></SPAN> 
is language defined:</div>
<div class="paranum">15.1/2</div>
<div class="WideHanging-Term">&nbsp;&nbsp;&nbsp;{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00305.TXT">AI95-00305-01</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00394.TXT">AI95-00394-01</A></I>} 
<A NAME="I8492"></A><A NAME="I8493"></A>No_Task_Termination&nbsp;</div><div class="WideHanging-Body"><br clear="left">
All tasks are nonterminating. It is implementation-defined what happens 
if a task attempts to terminate. If there is a fall-back handler (see 
C.7.3) set for the partition it should be called when the first task 
attempts to terminate.&nbsp;</div>
<div class="paranum">15.a.1/2</div>
<div class="Annotations"><B>Implementation defined:&nbsp;</B>When restriction 
No_Task_Termination applies to a partition, what happens when a task 
terminates.</div>
<div class="paranum">16</div>
<div class="Normal" style="margin-bottom: 0.4em">The following <I>restriction_parameter_</I><SPAN Class="swiss"><A HREF="AA-2-3.html#S0002">identifier</A></SPAN>s 
are language defined:&nbsp;</div>
<div class="paranum">17/1</div>
<div class="WideHanging-Term">&nbsp;{<I><A HREF="defect1.html#8652/0076">8652/0076</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00067.TXT">AI95-00067-01</A></I>} 
<A NAME="I8494"></A><A NAME="I8495"></A>Max_Storage_At_Blocking&nbsp;</div><div class="WideHanging-Body"><br clear="left">
Specifies the maximum portion [(in storage elements)] of a task's Storage_Size 
that can be retained by a blocked task. If an implementation chooses 
to detect a violation of this restriction, Storage_Error should be raised; 
<A NAME="I8496"></A><A NAME="I8497"></A><A NAME="I8498"></A>otherwise, 
the behavior is implementation defined.&nbsp;</div>
<div class="paranum">17.a.1/2</div>
<div class="Annotations"><B>Implementation defined:&nbsp;</B>The behavior 
when restriction Max_Storage_At_Blocking is violated.</div>
<div class="paranum">18/1</div>
<div class="WideHanging-Term">&nbsp;{<I><A HREF="defect1.html#8652/0076">8652/0076</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00067.TXT">AI95-00067-01</A></I>} 
<A NAME="I8499"></A><A NAME="I8500"></A>Max_Asynchronous_Select_Nesting 
</div><div class="WideHanging-Body"><br clear="left">
Specifies the maximum dynamic nesting level of <SPAN Class="swiss"><A HREF="AA-9-7-4.html#S0241">asynchronous_select</A></SPAN>s. 
A value of zero prevents the use of any <SPAN Class="swiss"><A HREF="AA-9-7-4.html#S0241">asynchronous_select</A></SPAN> 
and, if a program contains an <SPAN Class="swiss"><A HREF="AA-9-7-4.html#S0241">asynchronous_select</A></SPAN>, 
it is illegal. If an implementation chooses to detect a violation of 
this restriction for values other than zero, Storage_Error should be 
raised; <A NAME="I8501"></A><A NAME="I8502"></A><A NAME="I8503"></A>otherwise, 
the behavior is implementation defined.&nbsp;</div>
<div class="paranum">18.a.1/2</div>
<div class="Annotations"><B>Implementation defined:&nbsp;</B>The behavior 
when restriction Max_Asynchronous_Select_Nesting is violated.</div>
<div class="paranum">19/1</div>
<div class="WideHanging-Term">&nbsp;{<I><A HREF="defect1.html#8652/0076">8652/0076</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00067.TXT">AI95-00067-01</A></I>} 
<A NAME="I8504"></A><A NAME="I8505"></A>Max_Tasks&nbsp;</div><div class="WideHanging-Body"><br clear="left">
Specifies the maximum number of task creations that may be executed over 
the lifetime of a partition, not counting the creation of the environment 
task. A value of zero prevents any task creation and, if a program contains 
a task creation, it is illegal. If an implementation chooses to detect 
a violation of this restriction, Storage_Error should be raised; <A NAME="I8506"></A><A NAME="I8507"></A><A NAME="I8508"></A>otherwise, 
the behavior is implementation defined.&nbsp;</div>
<div class="paranum">19.a</div>
<div class="Annotations"><B>Ramification:&nbsp;</B>Note that this is not a 
limit on the number of tasks active at a given time; it is a limit on 
the total number of task creations that occur.&nbsp;</div>
<div class="paranum">19.b</div>
<div class="Annotations"><B>Implementation Note:&nbsp;</B>We envision an implementation 
approach that places TCBs or pointers to them in a fixed-size table, 
and never reuses table elements.&nbsp;</div>
<div class="paranum">19.b.1/2</div>
<div class="Annotations"><B>Implementation defined:&nbsp;</B>The behavior 
when restriction Max_Tasks is violated.</div>
<div class="paranum">19.1/2</div>
<div class="WideHanging-Term">&nbsp;&nbsp;&nbsp;{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00305.TXT">AI95-00305-01</A></I>} 
<A NAME="I8509"></A><A NAME="I8510"></A>Max_Entry_Queue_Length&nbsp;</div><div class="WideHanging-Body"><br clear="left">
Max_Entry_Queue_Length defines the maximum number of calls that are queued 
on an entry. Violation of this restriction results in the raising of 
Program_Error at the point of the call or requeue.<A NAME="I8511"></A></div>
<div class="paranum">19.2/3</div>
<div class="WideHanging-Term">&nbsp;&nbsp;&nbsp;{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0189-1.TXT">AI05-0189-1</A></I>} 
<A NAME="I8512"></A><A NAME="I8513"></A>No_Standard_Allocators_After_Elaboration 
</div><div class="WideHanging-Body"><br clear="left">
Specifies that an <SPAN Class="swiss"><A HREF="AA-4-8.html#S0143">allocator</A></SPAN> 
using a standard storage pool (see <A HREF="AA-13-11.html">13.11</A>) 
shall not occur within a parameterless library subprogram, nor within 
the <SPAN Class="swiss"><A HREF="AA-11-2.html#S0265">handled_sequence_of_statements</A></SPAN> 
of a task body. For the purposes of this rule, an <SPAN Class="swiss"><A HREF="AA-4-8.html#S0143">allocator</A></SPAN> 
of a type derived from a formal access type does not use a standard storage 
pool.</div>
<div class="paranum">19.3/3</div>
<div class="WideHanging-Body">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0189-1.TXT">AI05-0189-1</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0262-1.TXT">AI05-0262-1</A></I>} 
At run time, Storage_Error is raised if an <SPAN Class="swiss"><A HREF="AA-4-8.html#S0143">allocator</A></SPAN> 
using a standard storage pool is evaluated after the elaboration of the 
<SPAN Class="swiss"><A HREF="AA-10-1-1.html#S0248">library_item</A></SPAN>s 
of the partition has completed.<A NAME="I8514"></A>&nbsp;</div>
<div class="paranum">20</div>
<div class="Normal">It is implementation defined whether the use of pragma 
Restrictions results in a reduction in executable program size, storage 
requirements, or execution time. If possible, the implementation should 
provide quantitative descriptions of such effects for each restriction. 
</div>
<div class="paranum">20.a/2</div>
<div class="Annotations"><B>Implementation defined:&nbsp;</B>Whether the use 
of pragma Restrictions results in a reduction in program code or data 
size or execution time.</div>

<H4 Class="centered">Implementation Advice</H4>
<div class="paranum">21</div>
<div class="Normal">When feasible, the implementation should take advantage 
of the specified restrictions to produce a more efficient implementation.</div>
<div class="paranum">21.a/2</div>
<div class="Annotations"><B>Implementation Advice:&nbsp;</B>When feasible, 
specified restrictions should be used to produce a more efficient implementation.</div>
<div class="NotesHeader">NOTES</div>
<div class="paranum">22</div>
<div class="Notes">34&nbsp;&nbsp;The above Storage_Checks can be suppressed 
with pragma Suppress.&nbsp;</div>

<H4 Class="centered">Incompatibilities With Ada 95</H4>
<div class="paranum">22.a/2</div>
<div class="Annotations">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00360.TXT">AI95-00360-01</A></I>} 
<A NAME="I8515"></A><B>Amendment Correction:</B> The No_Nested_Finalization 
is now defined in terms of types that need finalization. These types 
include a variety of language-defined types that <I>might</I> be implemented 
with a controlled type. If the restriction No_Nested_Finalization (see 
<A HREF="AA-D-7.html">D.7</A>) applies to the partition, and one of these 
language-defined types does not have a controlled part, it will not be 
allowed in local objects in Ada 2005 whereas it would be allowed in original 
Ada 95. Such code is not portable, as other Ada compilers may have had 
a controlled part, and thus would be illegal under the restriction.&nbsp;</div>

<H4 Class="centered">Extensions to Ada 95</H4>
<div class="paranum">22.b/2</div>
<div class="Annotations">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00297.TXT">AI95-00297-01</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00305.TXT">AI95-00305-01</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00394.TXT">AI95-00394-01</A></I>} 
<A NAME="I8516"></A>Restrictions No_Dynamic_Attachment, No_Local_Protected_Objects, 
No_Protected_Type_Allocators, No_Local_Timing_Events, No_Relative_Delay, 
No_Requeue_Statement, No_Select_Statements, No_Specific_Termination_Handlers, 
No_Task_Termination, Max_Entry_Queue_Length, and Simple_Barriers are 
newly added to Ada.&nbsp;</div>

<H4 Class="centered">Wording Changes from Ada 95</H4>
<div class="paranum">22.c/2</div>
<div class="Annotations">{<I><A HREF="defect1.html#8652/0042">8652/0042</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00130.TXT">AI95-00130-01</A></I>} 
<B>Corrigendum:</B> Clarified that No_Nested_Finalization covered task 
and protected parts as well.</div>
<div class="paranum">22.d/2</div>
<div class="Annotations">{<I><A HREF="defect1.html#8652/0076">8652/0076</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00067.TXT">AI95-00067-01</A></I>} 
<B>Corrigendum:</B> Changed the description of Max_Tasks and Max_Asynchronous_Select_Nested 
to eliminate conflicts with the High Integrity Annex (see <A HREF="AA-H-4.html">H.4</A>).</div>
<div class="paranum">22.e/2</div>
<div class="Annotations">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00327.TXT">AI95-00327-01</A></I>} 
Added using of the new Priority attribute to the restriction No_Dynamic_Priorities.</div>
<div class="paranum">22.f/2</div>
<div class="Annotations">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00394.TXT">AI95-00394-01</A></I>} 
Restriction No_Asynchronous_Control is now obsolescent.&nbsp;</div>

<H4 Class="centered">Incompatibilities With Ada 2005</H4>
<div class="paranum">22.g/3</div>
<div class="Annotations">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0013-1.TXT">AI05-0013-1</A></I>} 
<A NAME="I8517"></A><B>Correction:</B> Changed so that coextensions of 
types that require nested finalization are also prohibited; this is done 
by prohibiting <SPAN Class="swiss"><A HREF="AA-4-8.html#S0143">allocator</A></SPAN>s 
rather than objects of specific access types. It seems unlikely that 
any program depending on this restriction would violate it in this blatant 
manner, so it is expected that very few programs will be affected by 
this change.</div>
<div class="paranum">22.h/3</div>
<div class="Annotations">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0211-1.TXT">AI05-0211-1</A></I>} 
<B>Correction:</B> The restriction No_Relative_Delay was changed to include 
the Timing_Events routine that uses a relative delay. This means that 
a program that uses that routine and this restriction will now be rejected. 
However, such a program violates the spirit and intent of the restriction 
and as such the program should never have been allowed. Moreover, it 
is unlikely that any program depending on this restriction would violate 
it in such an obvious manner, so it is expected that very few programs 
will be affected by this change.</div>
<div class="paranum">22.i/3</div>
<div class="Annotations">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0211-1.TXT">AI05-0211-1</A></I>} 
<B>Correction:</B> A number of restrictions were changed from &quot;no 
calls&quot; on some subprogram to &quot;no use of a <SPAN Class="swiss"><A HREF="AA-4-1.html#S0091">name</A></SPAN> 
that denotes&quot; that subprogram. This closes a hole where renames, 
uses as the prefix of 'Access, and the like, would not be rejected by 
the restriction, possibly allowing backdoor access to the prohibited 
subprogram. A program that uses one of these restrictions and using such 
backdoor access will now be rejected; however, it is extremely unlikely 
that any program that relies on these restrictions would also use an 
end-run around the restriction, so it is expected that very few programs 
will be affected by this change.&nbsp;</div>

<H4 Class="centered">Extensions to Ada 2005</H4>
<div class="paranum">22.j/3</div>
<div class="Annotations">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0189-1.TXT">AI05-0189-1</A></I>} 
<A NAME="I8518"></A>Restriction No_Standard_Allocators_After_Elaboration 
is newly added to Ada.&nbsp;</div>

<H4 Class="centered">Wording Changes from Ada 2005</H4>
<div class="paranum">22.k/3</div>
<div class="Annotations">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0013-1.TXT">AI05-0013-1</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0216-1.TXT">AI05-0216-1</A></I>} 
<B>Correction:</B> Improved the wording of various restrictions to make 
it clearer that they prohibit things that would otherwise be legal, and 
to word them as definitions, not Legality Rules;.</div>
<div class="paranum">22.l/3</div>
<div class="Annotations">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0192-1.TXT">AI05-0192-1</A></I>} 
<B>Correction:</B> Added wording to explain how No_Task_Allocators and 
No_Protected_Type_Allocators are checked for class-wide types. This might 
be an extension if the compiler assumed the worst in the past (it is 
now a runtime check).&nbsp;</div>

<HR>
<div style="margin-top: 0.0em; margin-bottom: 0.6em"><A HREF="AA-TOC.html"><IMG SRC="cont.gif" ALT="Contents" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-0-4.html"><IMG SRC="index.gif" ALT="Index" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-STDS.html"><IMG SRC="lib.gif" ALT="References" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-SRCH.html"><IMG SRC="find.gif" ALT="Search" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-D-6.html"><IMG SRC="prev.gif" ALT="Previous" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-D-8.html"><IMG SRC="next.gif" ALT="Next" BORDER=0></A>&nbsp;
</div>
<DIV Style="margin-top:0.0em"><IMG SRC="AE_logo.gif" height=100 width=113 align=right ALT="Ada-Europe">
<SPAN Style="vertical-align: middle; font-size:120%">Ada 2005 and 2012 Editions sponsored in part by <SPAN Style="font-size: 125%"><A HREF="http://www.ada-europe.org/"><B>Ada-Europe</B></A></SPAN></SPAN></DIV>
</BODY>
</HTML>
