<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html401/loose.dtd">
<html>
<!-- Created on January 18, 2012 by texi2html 1.82
texi2html was written by: 
            Lionel Cons <Lionel.Cons@cern.ch> (original author)
            Karl Berry  <karl@freefriends.org>
            Olaf Bachmann <obachman@mathematik.uni-kl.de>
            and many others.
Maintained by: Many creative people.
Send bugs and suggestions to <texi2html-bug@nongnu.org>
-->
<head>
<title>Am-utils (4.4BSD Automounter Utilities): 10. Assorted Tools</title>

<meta name="description" content="Am-utils (4.4BSD Automounter Utilities): 10. Assorted Tools">
<meta name="keywords" content="Am-utils (4.4BSD Automounter Utilities): 10. Assorted Tools">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="texi2html 1.82">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
blockquote.smallquotation {font-size: smaller}
pre.display {font-family: serif}
pre.format {font-family: serif}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
pre.smalldisplay {font-family: serif; font-size: smaller}
pre.smallexample {font-size: smaller}
pre.smallformat {font-family: serif; font-size: smaller}
pre.smalllisp {font-size: smaller}
span.roman {font-family:serif; font-weight:normal;}
span.sansserif {font-family:sans-serif; font-weight:normal;}
ul.toc {list-style: none}
-->
</style>


</head>

<body lang="en" bgcolor="#FFFFFF" text="#000000" link="#0000FF" vlink="#800080" alink="#FF0000">

<a name="Assorted-Tools"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="am-utils_13.html#Hlfsd-Files" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#am_002deject" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="am-utils_13.html#Hlfsd" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="am-utils_0.html#License" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="am-utils_15.html#Examples" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="am-utils_0.html#License" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="am-utils_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="am-utils_18.html#Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="am-utils_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Assorted-Tools-1"></a>
<h1 class="chapter">10. Assorted Tools</h1>
<a name="index-Assorted-Tools"></a>

<p>The following are additional utilities and scripts included with
am-utils, and get installed.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#am_002deject">10.1 am-eject</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#amd_002econf_002dsample">10.2 amd.conf-sample</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#amd2ldif">10.3 amd2ldif</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#amd2sun">10.4 amd2sun</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#automount2amd">10.5 automount2amd</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#ctl_002damd">10.6 ctl-amd</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#ctl_002dhlfsd">10.7 ctl-hlfsd</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#expn">10.8 expn</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#fix_002damd_002dmap">10.9 fix-amd-map</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#fixmount">10.10 fixmount</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#fixrmtab">10.11 fixrmtab</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#lostaltmail">10.12 lostaltmail</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#lostaltmail_002econf_002dsample">10.13 lostaltmail.conf-sample</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#mk_002damd_002dmap">10.14 mk-amd-map</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#pawd">10.15 pawd</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#redhat_002dctl_002damd">10.16 redhat-ctl-amd</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#wait4amd">10.17 wait4amd</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#wait4amd2die">10.18 wait4amd2die</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#wire_002dtest">10.19 wire-test</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr size="6">
<a name="am_002deject"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Assorted-Tools" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#amd_002econf_002dsample" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Assorted-Tools" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Assorted-Tools" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="am-utils_15.html#Examples" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="am-utils_0.html#License" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="am-utils_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="am-utils_18.html#Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="am-utils_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="am_002deject-1"></a>
<h2 class="section">10.1 am-eject</h2>
<a name="index-am_002deject"></a>

<p>A shell script unmounts a floppy or CD-ROM that is automounted, and
then attempts to eject the removable device.
</p>
<hr size="6">
<a name="amd_002econf_002dsample"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#am_002deject" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#amd2ldif" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Assorted-Tools" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Assorted-Tools" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="am-utils_15.html#Examples" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="am-utils_0.html#License" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="am-utils_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="am-utils_18.html#Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="am-utils_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="amd_002econf_002dsample-1"></a>
<h2 class="section">10.2 amd.conf-sample</h2>
<a name="index-amd_002econf_002dsample"></a>

<p>A sample <i>Amd</i> configuration file. See section <a href="am-utils_10.html#Amd-Configuration-File">Amd Configuration File</a>.
</p>
<hr size="6">
<a name="amd2ldif"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#amd_002econf_002dsample" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#amd2sun" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Assorted-Tools" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Assorted-Tools" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="am-utils_15.html#Examples" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="am-utils_0.html#License" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="am-utils_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="am-utils_18.html#Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="am-utils_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="amd2ldif-1"></a>
<h2 class="section">10.3 amd2ldif</h2>
<a name="index-amd2ldif"></a>

<p>A script to convert <i>Amd</i> maps to LDAP input files.  Use it as follows:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">amd2ldif <i>mapname</i> <i>base</i> &lt; <i>amd.mapfile</i> &gt; <i>mapfile.ldif</i>
</pre></td></tr></table>

<hr size="6">
<a name="amd2sun"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#amd2ldif" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#automount2amd" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Assorted-Tools" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Assorted-Tools" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="am-utils_15.html#Examples" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="am-utils_0.html#License" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="am-utils_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="am-utils_18.html#Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="am-utils_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="amd2sun-1"></a>
<h2 class="section">10.4 amd2sun</h2>
<a name="index-amd2sun"></a>

<p>A script to convert <i>Amd</i> maps to Sun Automounter maps.  Use it as
follows
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">amd2sun &lt; <i>amd.mapfile</i> &gt; <i>auto_mapfile</i>
</pre></td></tr></table>

<hr size="6">
<a name="automount2amd"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#amd2sun" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#ctl_002damd" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Assorted-Tools" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Assorted-Tools" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="am-utils_15.html#Examples" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="am-utils_0.html#License" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="am-utils_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="am-utils_18.html#Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="am-utils_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="automount2amd-1"></a>
<h2 class="section">10.5 automount2amd</h2>
<a name="index-automount2amd"></a>

<p>A script to convert old Sun Automounter maps to <i>Amd</i> maps.
</p>
<p>Say you have the Sun automount file <i>auto.foo</i>, with these two lines:
</p><table><tr><td>&nbsp;</td><td><pre class="example">home                  earth:/home
moon  -ro,intr        server:/proj/images
</pre></td></tr></table>
<p>Running
</p><table><tr><td>&nbsp;</td><td><pre class="example">automount2amd auto.foo &gt; amd.foo
</pre></td></tr></table>

<p>will produce the <i>Amd</i> map <i>amd.foo</i> with this content:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example"># generated by automount2amd on Sat Aug 14 17:59:32 US/Eastern 1999

/defaults \\
  type:=nfs;opts:=rw,grpid,nosuid,utimeout=600

home \
  host==earth;type:=link;fs:=/home \\
  rhost:=earth;rfs:=/home

moon \
  -addopts:=ro,intr \\
  host==server;type:=link;fs:=/proj/images \\
  rhost:=server;rfs:=/proj/images
</pre></td></tr></table>

<p>This perl script will use the following <i>/default</i> entry
</p><table><tr><td>&nbsp;</td><td><pre class="example">type:=nfs;opts:=rw,grpid,nosuid,utimeout=600
</pre></td></tr></table>
<p>If you wish to override that, define the <b>$DEFAULTS</b> environment
variable, or modify the script.
</p>
<p>If you wish to generate Amd maps using the <i>hostd</i> (see section <a href="am-utils_7.html#hostd-Selector-Variable">hostd Selector Variable</a>) <i>Amd</i> map syntax, then define the environment
variable <b>$DOMAIN</b> or modify the script.
</p>
<p>Note that automount2amd does not understand the syntax in newer Sun
Automount maps, those used with autofs.
</p>
<hr size="6">
<a name="ctl_002damd"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#automount2amd" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#ctl_002dhlfsd" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Assorted-Tools" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Assorted-Tools" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="am-utils_15.html#Examples" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="am-utils_0.html#License" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="am-utils_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="am-utils_18.html#Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="am-utils_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="ctl_002damd-1"></a>
<h2 class="section">10.6 ctl-amd</h2>
<a name="index-ctl_002damd-1"></a>

<p>A script to start, stop, or restart <i>Amd</i>.  Use it as follows:
</p>
<dl compact="compact">
<dt> <tt>ctl-amd start</tt></dt>
<dd><p>Start a new <i>Amd</i> process.
</p></dd>
<dt> <tt>ctl-amd stop</tt></dt>
<dd><p>Stop the running <i>Amd</i>.
</p></dd>
<dt> <tt>ctl-amd restart</tt></dt>
<dd><p>Stop the running <i>Amd</i> (if any), safely wait for it to terminate, and
then start a new process &mdash; only if the previous one died cleanly.
</p></dd>
</dl>

<p>See section <a href="am-utils_11.html#Run_002dtime-Administration">Run-time Administration</a>, for more details.
</p>
<hr size="6">
<a name="ctl_002dhlfsd"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#ctl_002damd" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#expn" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Assorted-Tools" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Assorted-Tools" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="am-utils_15.html#Examples" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="am-utils_0.html#License" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="am-utils_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="am-utils_18.html#Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="am-utils_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="ctl_002dhlfsd-1"></a>
<h2 class="section">10.7 ctl-hlfsd</h2>
<a name="index-ctl_002dhlfsd-1"></a>

<p>A script for controlling <i>Hlfsd</i>, much the same way &lsquo;<tt>ctl-amd</tt>&rsquo;
controls <i>Amd</i>.  Use it as follows:
</p>
<dl compact="compact">
<dt> <tt>ctl-hlfsd start</tt></dt>
<dd><p>Start a new <i>Hlfsd</i> process.
</p></dd>
<dt> <tt>ctl-hlfsd stop</tt></dt>
<dd><p>Stop the running <i>Hlfsd</i>.
</p></dd>
<dt> <tt>ctl-hlfsd restart</tt></dt>
<dd><p>Stop the running <i>Hlfsd</i> (if any), wait for 10 seconds for it to
terminate, and then start a new process &mdash; only if the previous one
died cleanly.
</p></dd>
</dl>

<p>See section <a href="am-utils_13.html#Hlfsd">Hlfsd</a>, for more details.
</p>
<hr size="6">
<a name="expn"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#ctl_002dhlfsd" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#fix_002damd_002dmap" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Assorted-Tools" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Assorted-Tools" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="am-utils_15.html#Examples" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="am-utils_0.html#License" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="am-utils_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="am-utils_18.html#Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="am-utils_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="expn-1"></a>
<h2 class="section">10.8 expn</h2>
<a name="index-expn"></a>

<p>A script to expand email addresses into their full name.  It is
generally useful when using with the &lsquo;<tt>lostaltmail</tt>&rsquo; script, but is a
useful tools otherwise.
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">$ expn -v ezk@example.com
ezk@example.com -&gt;
        ezk@shekel.example.com
ezk@shekel.example.com -&gt;
        Erez Zadok &lt;&quot;| /usr/local/mh/lib/slocal -user ezk || exit 75&gt;
        Erez Zadok &lt;\ezk&gt;
        Erez Zadok &lt;/u/zing/ezk/.mailspool/backup&gt;
</pre></td></tr></table>

<hr size="6">
<a name="fix_002damd_002dmap"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#expn" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#fixmount" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Assorted-Tools" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Assorted-Tools" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="am-utils_15.html#Examples" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="am-utils_0.html#License" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="am-utils_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="am-utils_18.html#Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="am-utils_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="fix_002damd_002dmap-1"></a>
<h2 class="section">10.9 fix-amd-map</h2>
<a name="index-fix_002damd_002dmap"></a>

<p>Am-utils changed some of the syntax and default values of some
variables.  For example, the default value for &lsquo;<samp>${os}</samp>&rsquo; for
Solaris 2.x (aka SunOS 5.x) systems used to be &lsquo;<samp>sos5</samp>&rsquo;, it is now
more automatically generated from &lsquo;<tt>config.guess</tt>&rsquo; and its value is
&lsquo;<samp>sunos5</samp>&rsquo;.
</p>
<p>This script converts older <i>Amd</i> maps to new ones.  Use it as follows:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">fix-amd-map &lt; <i>old.map</i> &gt; <i>new.map</i>
</pre></td></tr></table>

<hr size="6">
<a name="fixmount"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#fix_002damd_002dmap" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#fixrmtab" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Assorted-Tools" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Assorted-Tools" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="am-utils_15.html#Examples" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="am-utils_0.html#License" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="am-utils_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="am-utils_18.html#Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="am-utils_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="fixmount-1"></a>
<h2 class="section">10.10 fixmount</h2>
<a name="index-fixmount"></a>

<p>&lsquo;<samp>fixmount</samp>&rsquo; is a variant of <b>showmount</b>(8) that can delete bogus
mount entries in remote <b>mountd</b>(8) daemons.  This is useful to
cleanup otherwise ever-accumulating &ldquo;junk&rdquo;.  Use it for example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">fixmount -r <i>host</i>
</pre></td></tr></table>

<p>See the online manual page for &lsquo;<samp>fixmount</samp>&rsquo; for more details of its
usage.
</p>
<hr size="6">
<a name="fixrmtab"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#fixmount" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#lostaltmail" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Assorted-Tools" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Assorted-Tools" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="am-utils_15.html#Examples" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="am-utils_0.html#License" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="am-utils_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="am-utils_18.html#Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="am-utils_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="fixrmtab-1"></a>
<h2 class="section">10.11 fixrmtab</h2>
<a name="index-fixrmtab"></a>

<p>A script to invalidate &lsquo;<tt>/etc/rmtab</tt>&rsquo; entries for hosts named.  Also
restart mountd for changes to take effect.  Use it for example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">fixrmtab <i>host1</i> <i>host2</i> <i>...</i>
</pre></td></tr></table>

<hr size="6">
<a name="lostaltmail"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#fixrmtab" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#lostaltmail_002econf_002dsample" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Assorted-Tools" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Assorted-Tools" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="am-utils_15.html#Examples" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="am-utils_0.html#License" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="am-utils_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="am-utils_18.html#Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="am-utils_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="lostaltmail-1"></a>
<h2 class="section">10.12 lostaltmail</h2>
<a name="index-lostaltmail"></a>

<p>A script used with <i>Hlfsd</i> to resend any &ldquo;lost&rdquo; mail.  <i>Hlfsd</i>
redirects mail which cannot be written into the user&rsquo;s home directory to
an alternate directory.  This is useful to continue delivering mail,
even if the user&rsquo;s file system was unavailable, full, or over quota.
But, the mail which gets delivered to  the alternate directory needs to
be resent to its respective users.  This is what the &lsquo;<samp>lostaltmail</samp>&rsquo;
script does.
</p>
<p>Use it as follows:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">lostaltmail
</pre></td></tr></table>

<p>This script needs a configuration file &lsquo;<samp>lostaltmail.conf</samp>&rsquo; set up
with the right parameters to properly work.  See section <a href="am-utils_13.html#Hlfsd">Hlfsd</a>, for more
details.
</p>
<hr size="6">
<a name="lostaltmail_002econf_002dsample"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#lostaltmail" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#mk_002damd_002dmap" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Assorted-Tools" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Assorted-Tools" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="am-utils_15.html#Examples" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="am-utils_0.html#License" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="am-utils_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="am-utils_18.html#Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="am-utils_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="lostaltmail_002econf_002dsample-1"></a>
<h2 class="section">10.13 lostaltmail.conf-sample</h2>
<a name="index-lostaltmail_002econf_002dsample"></a>
<a name="index-lostaltmail_003b-configuration-file"></a>

<p>This is a text file with configuration parameters needed for the
&lsquo;<samp>lostaltmail</samp>&rsquo; script.  The script includes comments explaining each
of the configuration variables.  See it for more information.  Also
see section <a href="am-utils_13.html#Hlfsd">Hlfsd</a> for general information.
</p>
<hr size="6">
<a name="mk_002damd_002dmap"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#lostaltmail_002econf_002dsample" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#pawd" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Assorted-Tools" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Assorted-Tools" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="am-utils_15.html#Examples" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="am-utils_0.html#License" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="am-utils_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="am-utils_18.html#Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="am-utils_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="mk_002damd_002dmap-1"></a>
<h2 class="section">10.14 mk-amd-map</h2>
<a name="index-mk_002damd_002dmap"></a>

<p>This program converts a normal <i>Amd</i> map file into an ndbm database
with the same prefix as the named file.  Use it as follows:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">mk-amd-map <i>mapname</i>
</pre></td></tr></table>

<hr size="6">
<a name="pawd"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#mk_002damd_002dmap" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#redhat_002dctl_002damd" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Assorted-Tools" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Assorted-Tools" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="am-utils_15.html#Examples" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="am-utils_0.html#License" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="am-utils_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="am-utils_18.html#Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="am-utils_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="pawd-1"></a>
<h2 class="section">10.15 pawd</h2>
<a name="index-pawd"></a>

<p><i>Pawd</i> is used to print the current working directory, adjusted to
reflect proper paths that can be reused to go through the automounter
for the shortest possible path.  In particular, the path printed back
does not include any of <i>Amd</i>&rsquo;s local mount points.  Using them is
unsafe, because <i>Amd</i> may unmount managed file systems from the mount
points, and thus including them in paths may not always find the files
within.
</p>
<p>Without any arguments, <i>Pawd</i> will print the automounter adjusted
current working directory.  With any number of arguments, it will print
the adjusted path of each one of the arguments.
</p>
<hr size="6">
<a name="redhat_002dctl_002damd"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#pawd" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#wait4amd" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Assorted-Tools" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Assorted-Tools" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="am-utils_15.html#Examples" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="am-utils_0.html#License" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="am-utils_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="am-utils_18.html#Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="am-utils_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="redhat_002dctl_002damd-1"></a>
<h2 class="section">10.16 redhat-ctl-amd</h2>
<a name="index-redhat_002dctl_002damd"></a>

<p>This script is similar to <i>ctl-amd</i> (see section <a href="#ctl_002damd">ctl-amd</a>) but is intended
for Red Hat Linux systems.  You can safely copy <i>redhat-ctl-amd</i> onto
&lsquo;<tt>/etc/rc.d/init.d/amd</tt>&rsquo;.  The script supplied by <i>Am-utils</i> is
usually better than the one provided by Red Hat, because the Red Hat
script does not correctly kill <i>Amd</i> processes: it is too quick to
kill the wrong processes, leaving stale or hung mount points behind.
</p>
<hr size="6">
<a name="wait4amd"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#redhat_002dctl_002damd" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#wait4amd2die" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Assorted-Tools" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Assorted-Tools" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="am-utils_15.html#Examples" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="am-utils_0.html#License" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="am-utils_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="am-utils_18.html#Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="am-utils_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="wait4amd-1"></a>
<h2 class="section">10.17 wait4amd</h2>
<a name="index-wait4amd"></a>

<p>A script to wait for <i>Amd</i> to start on a particular host before
performing an arbitrary command.  The command is executed repeatedly,
with 1 second intervals in between.  You may interrupt the script using
&lsquo;<samp>^C</samp>&rsquo; (or whatever keyboard sequence your terminal&rsquo;s &lsquo;<samp>intr</samp>&rsquo; function
is bound to).
</p>
<p>Examples:
</p>
<dl compact="compact">
<dt> <tt>wait4amd saturn amq -p -h saturn</tt></dt>
<dd><p>When <i>Amd</i> is up on host &lsquo;<samp>saturn</samp>&rsquo;, get the process ID of that
running <i>Amd</i>.
</p></dd>
<dt> <tt>wait4amd pluto rlogin pluto</tt></dt>
<dd><p>Remote login to host &lsquo;<samp>pluto</samp>&rsquo; when <i>Amd</i> is up on that host.  It
is generally necessary to wait for <i>Amd</i> to properly start and
initialize on a remote host before logging in to it, because otherwise
user home directories may not be accessible across the network.
</p></dd>
<dt> <tt>wait4amd pluto</tt></dt>
<dd><p>A short-hand version of the previous command, since the most useful
reason for this script is to login to a remote host.  I use it very
often when testing out new versions of <i>Amd</i>, and need to reboot hung
hosts.
</p></dd>
</dl>

<hr size="6">
<a name="wait4amd2die"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#wait4amd" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#wire_002dtest" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Assorted-Tools" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Assorted-Tools" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="am-utils_15.html#Examples" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="am-utils_0.html#License" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="am-utils_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="am-utils_18.html#Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="am-utils_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="wait4amd2die-1"></a>
<h2 class="section">10.18 wait4amd2die</h2>
<a name="index-wait4amd2die"></a>

<p>This script is used internally by &lsquo;<samp>ctl-amd</samp>&rsquo; when used to restart
<i>Amd</i>.  It waits for <i>Amd</i> to terminate.  If it detected that
<i>Amd</i> terminated cleanly, this script will return an exist status of
zero.  Otherwise, it will return a non-zero exit status.
</p>
<p>The script tests for <i>Amd</i>&rsquo;s existence once every 5 seconds, six
times, for a total of 30 seconds.  It will return a zero exist status as
soon as it detects that <i>Amd</i> dies.
</p>
<hr size="6">
<a name="wire_002dtest"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#wait4amd2die" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="am-utils_15.html#Examples" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Assorted-Tools" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Assorted-Tools" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="am-utils_15.html#Examples" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="am-utils_0.html#License" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="am-utils_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="am-utils_18.html#Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="am-utils_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="wire_002dtest-1"></a>
<h2 class="section">10.19 wire-test</h2>
<a name="index-wire_002dtest"></a>

<p>A simple program to test if some of the most basic networking functions
in am-util&rsquo;s library &lsquo;<tt>libamu</tt>&rsquo; work.  It also tests the combination
of NFS protocol and version number that are supported from the current
host, to a remote one.
</p>
<p>For example, in this test a machine which only supports NFS Version 2 is
contacting a remote host that can support the same version, but using
both UDP and TCP.  If no host name is specified, &lsquo;<samp>wire-test</samp>&rsquo; will
try &lsquo;<tt>localhost</tt>&rsquo;.
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">$ wire-test moisil
Network name is &quot;mcl-lab-net.cs.columbia.edu&quot;
Network number is &quot;128.59.13&quot;
Network name is &quot;old-net.cs.columbia.edu&quot;
Network number is &quot;128.59.16&quot;
My IP address is 0x7f000001.
NFS Version and protocol tests to host &quot;moisil&quot;...
        testing vers=2, proto=&quot;udp&quot; -&gt; found version 2.
        testing vers=3, proto=&quot;udp&quot; -&gt; failed!
        testing vers=2, proto=&quot;tcp&quot; -&gt; found version 2.
        testing vers=3, proto=&quot;tcp&quot; -&gt; failed!
</pre></td></tr></table>

<hr size="6">
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Assorted-Tools" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="am-utils_15.html#Examples" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="am-utils_0.html#License" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="am-utils_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="am-utils_18.html#Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="am-utils_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<p>
 <font size="-1">
  This document was generated by <em>Tim Cutts</em> on <em>January 18, 2012</em> using <a href="http://www.nongnu.org/texi2html/"><em>texi2html 1.82</em></a>.
 </font>
 <br>

</p>
</body>
</html>
