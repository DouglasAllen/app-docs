<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<HTML>
<HEAD>
    <TITLE>Pragma Restrictions</TITLE>
    <META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
    <META NAME="Author" CONTENT="JTC1/SC22/WG9/ARG, by Randall Brukardt, ARG Editor">
    <META NAME="GENERATOR" CONTENT="Arm_Form.Exe, Ada Reference Manual generator">
    <STYLE type="text/css">
    H4.centered {text-align: center}
    SPAN.swiss {font-family: Arial, Helvetica, sans-serif; font-size: 92%}
    SPAN.roman {font-family: "Times New Roman", Times, serif}
    DIV.paranum {float: left; font-family: Arial, Helvetica, sans-serif; font-size: 64%; width: 2.8em; margin-left: -0.4em; margin-right: -3.0em; margin-top: 0.2em}
    TT {font-family: "Courier New", monospace}
    DT {display: compact}
    DIV.Normal {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 1.2em; margin-bottom: 0.6em}
    DIV.Indented1 {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 3.2em; margin-bottom: 0.6em}
    DIV.Notes {font-family: "Times New Roman", Times, serif; font-size: 80%; line-height: 122%; margin-left: 3.7em; margin-bottom: 0.6em}
    DIV.Annotations {font-family: "Times New Roman", Times, serif; font-size: 80%; line-height: 122%; margin-left: 6.2em; margin-bottom: 0.6em}
    DIV.NotesHeader {font-family: "Times New Roman", Times, serif; font-size: 80%; line-height: 122%; margin-left: 3.7em}
    DIV.Bulleted-NoPrefix {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 3.2em; margin-right: 2.0em; margin-top: 0em; margin-bottom: 0.5em}
    DIV.Bulleted {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 3.2em; margin-right: 2.0em; margin-top: 0em; margin-bottom: 0.5em; display: list-item; list-style-type: disc}
    </STYLE>
</HEAD>
<BODY TEXT="#000000" BGCOLOR="#FFFFF0" LINK="#000080" VLINK="#330033" ALINK="#0000FF">
<DIV><B><SPAN Style="font-size:200%; color: rgb(0,51,153)">Annotated</SPAN><SPAN Style="font-size:200%; color: rgb(0,0,102)">&nbsp;Ada Reference Manual</SPAN></B> &mdash; <A HREF="AA-TTL.html"><B>Legal Information</B></A></DIV>
<div style="margin-top: 0.6em; margin-bottom: 0.0em"><A HREF="AA-TOC.html"><IMG SRC="cont.gif" ALT="Contents" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-0-5.html"><IMG SRC="index.gif" ALT="Index" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-STDS.html"><IMG SRC="lib.gif" ALT="References" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-SRCH.html"><IMG SRC="find.gif" ALT="Search" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-13-11-3.html"><IMG SRC="prev.gif" ALT="Previous" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-13-12-1.html"><IMG SRC="next.gif" ALT="Next" BORDER=0></A>&nbsp;
</div>
<HR>
<H1>13.12 Pragma Restrictions</H1>
<div class="paranum">1</div>
<div class="Normal">[A <SPAN Class="swiss"><A HREF="AA-2-8.html#S0019">pragma</A></SPAN> 
Restrictions expresses the user's intent to abide by certain restrictions. 
This may facilitate the construction of simpler run-time environments.] 
</div>

<H4 Class="centered">Syntax</H4>
<div class="paranum">2</div>
<div class="Indented1" style="margin-bottom: 0.4em">The form of a <SPAN Class="swiss"><A HREF="AA-2-8.html#S0019">pragma</A></SPAN> 
Restrictions is as follows:&nbsp;</div>
<div class="paranum">3</div>
<div class="Indented1">&nbsp;&nbsp;<B>pragma</B> <A NAME="I5096"></A><A NAME="I5097"></A>Restrictions(<A NAME="I5098"></A><SPAN Class="swiss"><A HREF="AA-13-12.html#S0295">restriction</A></SPAN>{, 
<A NAME="I5099"></A><SPAN Class="swiss"><A HREF="AA-13-12.html#S0295">restriction</A></SPAN>});</div>
<div class="paranum">4/2</div>
<div class="Indented1">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00381.TXT">AI95-00381-01</A></I>} 
<SPAN Class="swiss">restriction</SPAN><A NAME="I5100"></A><A NAME="S0295"></A><SPAN Class="swiss">&nbsp;::=&nbsp;</SPAN><I>restriction_</I><A NAME="I5101"></A><SPAN Class="swiss"><A HREF="AA-2-3.html#S0002">identifier</A></SPAN><BR>
&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;<I>restriction_parameter_</I><A NAME="I5102"></A><SPAN Class="swiss"><A HREF="AA-2-3.html#S0002">identifier</A></SPAN>&nbsp;=&gt;&nbsp;<A NAME="I5103"></A><SPAN Class="swiss"><A HREF="AA-13-12.html#S0296">restriction_parameter_argument</A></SPAN></div>
<div class="paranum">4.1/2</div>
<div class="Indented1">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00381.TXT">AI95-00381-01</A></I>} 
<SPAN Class="swiss">restriction_parameter_argument</SPAN><A NAME="I5104"></A><A NAME="S0296"></A><SPAN Class="swiss">&nbsp;::=&nbsp;</SPAN><A NAME="I5105"></A><SPAN Class="swiss"><A HREF="AA-4-1.html#S0091">name</A></SPAN>&nbsp;|&nbsp;<A NAME="I5106"></A><SPAN Class="swiss"><A HREF="AA-4-4.html#S0115">expression</A></SPAN></div>

<H4 Class="centered">Name Resolution Rules</H4>
<div class="paranum">5</div>
<div class="Normal"><SPAN STYLE="font-size: 80%">{<I>expected type (restriction 
parameter expression)</I> [partial]}</SPAN> <A NAME="I5107"></A>Unless 
otherwise specified for a particular restriction, the <SPAN Class="swiss"><A HREF="AA-4-4.html#S0115">expression</A></SPAN> 
is expected to be of any integer type.&nbsp;</div>

<H4 Class="centered">Legality Rules</H4>
<div class="paranum">6</div>
<div class="Normal">Unless otherwise specified for a particular restriction, 
the <SPAN Class="swiss"><A HREF="AA-4-4.html#S0115">expression</A></SPAN> 
shall be static, and its value shall be nonnegative.&nbsp;</div>

<H4 Class="centered">Static Semantics</H4>
<div class="paranum">7/2</div>
<div class="Normal">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00394.TXT">AI95-00394-01</A></I>} 
The set of restrictions is implementation defined.&nbsp;</div>
<div class="paranum">7.a/2</div>
<div class="Annotations"><B>Implementation defined:&nbsp;</B>The set of restrictions 
allowed in a <SPAN Class="swiss"><A HREF="AA-2-8.html#S0019">pragma</A></SPAN> 
Restrictions.</div>

<H4 Class="centered">Post-Compilation Rules</H4>
<div class="paranum">8</div>
<div class="Normal"><SPAN STYLE="font-size: 80%">{<I>configuration pragma 
(Restrictions)</I> [partial]}</SPAN> <A NAME="I5108"></A><SPAN STYLE="font-size: 80%">{<I>pragma, 
configuration (Restrictions)</I> [partial]}</SPAN> <A NAME="I5109"></A>A 
<SPAN Class="swiss"><A HREF="AA-2-8.html#S0019">pragma</A></SPAN> Restrictions 
is a configuration pragma; unless otherwise specified for a particular 
restriction, a partition shall obey the restriction if a <SPAN Class="swiss"><A HREF="AA-2-8.html#S0019">pragma</A></SPAN> 
Restrictions applies to any compilation unit included in the partition.</div>
<div class="paranum">8.1/1</div>
<div class="Normal" style="margin-bottom: 0.4em">&nbsp;&nbsp;{<I><A HREF="defect1.html#8652/0042">8652/0042</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00130.TXT">AI95-00130-01</A></I>} 
For the purpose of checking whether a partition contains constructs that 
violate any restriction (unless specified otherwise for a particular 
restriction):</div>
<div class="paranum">8.2/1</div>
<div class="Bulleted">{<I><A HREF="defect1.html#8652/0042">8652/0042</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00130.TXT">AI95-00130-01</A></I>} 
Generic instances are logically expanded at the point of instantiation;</div>
<div class="paranum">8.3/1</div>
<div class="Bulleted">{<I><A HREF="defect1.html#8652/0042">8652/0042</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00130.TXT">AI95-00130-01</A></I>} 
If an object of a type is declared or allocated and not explicitly initialized, 
then all expressions appearing in the definition for the type and any 
of its ancestors are presumed to be used;</div>
<div class="paranum">8.4/1</div>
<div class="Bulleted">{<I><A HREF="defect1.html#8652/0042">8652/0042</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00130.TXT">AI95-00130-01</A></I>} 
A <SPAN Class="swiss"><A HREF="AA-3-7.html#S0063">default_expression</A></SPAN> 
for a formal parameter or a generic formal object is considered to be 
used if and only if the corresponding actual parameter is not provided 
in a given call or instantiation.&nbsp;</div>

<H4 Class="centered">Implementation Permissions</H4>
<div class="paranum">9</div>
<div class="Normal">An implementation may place limitations on the values 
of the <SPAN Class="swiss"><A HREF="AA-4-4.html#S0115">expression</A></SPAN> 
that are supported, and limitations on the supported combinations of 
restrictions. The consequences of violating such limitations are implementation 
defined.&nbsp;</div>
<div class="paranum">9.a</div>
<div class="Annotations"><B>Implementation defined:&nbsp;</B>The consequences 
of violating limitations on Restrictions <SPAN Class="swiss"><A HREF="AA-2-8.html#S0019">pragma</A></SPAN>s.</div>
<div class="paranum">9.b</div>
<div class="Annotations"><B>Ramification:&nbsp;</B>Such limitations may be 
enforced at compile time or at run time. Alternatively, the implementation 
is allowed to declare violations of the restrictions to be erroneous, 
and not enforce them at all.&nbsp;</div>
<div class="paranum">9.1/1</div>
<div class="Normal">&nbsp;&nbsp;{<I><A HREF="defect1.html#8652/0042">8652/0042</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00130.TXT">AI95-00130-01</A></I>} 
An implementation is permitted to omit restriction checks for code that 
is recognized at compile time to be unreachable and for which no code 
is generated.</div>
<div class="paranum">9.2/1</div>
<div class="Normal">&nbsp;&nbsp;{<I><A HREF="defect1.html#8652/0043">8652/0043</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00190.TXT">AI95-00190-01</A></I>} 
Whenever enforcement of a restriction is not required prior to execution, 
an implementation may nevertheless enforce the restriction prior to execution 
of a partition to which the restriction applies, provided that every 
execution of the partition would violate the restriction.&nbsp;</div>
<div class="NotesHeader">NOTES</div>
<div class="paranum">10/2</div>
<div class="Notes">29&nbsp;&nbsp;{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00347.TXT">AI95-00347-01</A></I>} 
Restrictions intended to facilitate the construction of efficient tasking 
run-time systems are defined in <A HREF="AA-D-7.html">D.7</A>. Restrictions 
intended for use when constructing high integrity systems are defined 
in <A HREF="AA-H-4.html">H.4</A>.</div>
<div class="paranum">11</div>
<div class="Notes">30&nbsp;&nbsp;An implementation has to enforce the 
restrictions in cases where enforcement is required, even if it chooses 
not to take advantage of the restrictions in terms of efficiency.&nbsp;</div>
<div class="paranum">11.a</div>
<div class="Annotations"><B>Discussion:&nbsp;</B>It is not the intent that 
an implementation will support a different run-time system for every 
possible combination of restrictions. An implementation might support 
only two run-time systems, and document a set of restrictions that is 
sufficient to allow use of the more efficient and safe one.&nbsp;</div>

<H4 Class="centered">Extensions to Ada 83</H4>
<div class="paranum">11.b</div>
<div class="Annotations">{<I>extensions to Ada 83</I>} <A NAME="I5110"></A>Pragma 
Restrictions is new to Ada 95.&nbsp;</div>

<H4 Class="centered">Wording Changes from Ada 95</H4>
<div class="paranum">11.c/2</div>
<div class="Annotations">{<I><A HREF="defect1.html#8652/0042">8652/0042</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00130.TXT">AI95-00130-01</A></I>} 
<B>Corrigendum:</B> Corrected the wording so that restrictions are checked 
inside of generic instantiations and in default expressions. Since not 
making these checks would violate the purpose of restrictions, we are 
not documenting this as an incompatibility.</div>
<div class="paranum">11.d/2</div>
<div class="Annotations">{<I><A HREF="defect1.html#8652/0043">8652/0043</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00190.TXT">AI95-00190-01</A></I>} 
<B>Corrigendum:</B> Added a permission that restrictions can be enforced 
at compile-time. While this is technically incompatible, documenting 
it as such would be unnecessarily alarming - there should not be any 
programs depending on the runtime failure of restrictions.</div>
<div class="paranum">11.e/2</div>
<div class="Annotations">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00381.TXT">AI95-00381-01</A></I>} 
The syntax of a <SPAN Class="swiss"><A HREF="AA-13-12.html#S0296">restriction_parameter_argument</A></SPAN> 
has been defined to better support restriction No_Dependence (see <A HREF="AA-13-12-1.html">13.12.1</A>). 
</div>

<HR>
<div style="margin-top: 0.0em; margin-bottom: 0.6em"><A HREF="AA-TOC.html"><IMG SRC="cont.gif" ALT="Contents" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-0-5.html"><IMG SRC="index.gif" ALT="Index" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-STDS.html"><IMG SRC="lib.gif" ALT="References" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-SRCH.html"><IMG SRC="find.gif" ALT="Search" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-13-11-3.html"><IMG SRC="prev.gif" ALT="Previous" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-13-12-1.html"><IMG SRC="next.gif" ALT="Next" BORDER=0></A>&nbsp;
</div>
<DIV Style="margin-top:0.0em"><IMG SRC="AE_logo.gif" height=100 width=113 align=right ALT="Ada-Europe">
<SPAN Style="font-size: 125%">Sponsored by <SPAN Style="font-size: 125%"><A HREF="http://www.ada-europe.org/"><B>Ada-Europe</B></A></SPAN></SPAN></DIV>
</BODY>
</HTML>
