<?xml version="1.0" encoding="US-ASCII"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <meta content="text/html; charset=US-ASCII" http-equiv="Content-Type" />

  <title>Class: Asciidoctor::Document</title>

  <link rel="stylesheet" href="../rdoc.css" type="text/css" media="screen" />

  <script src="../js/jquery.js" type="text/javascript" charset="utf-8"></script>
  <script src="../js/thickbox-compressed.js" type="text/javascript" charset="utf-8"></script>
  <script src="../js/quicksearch.js" type="text/javascript" charset="utf-8"></script>
  <script src="../js/darkfish.js" type="text/javascript" charset="utf-8"></script>

</head>
<body id="top" class="class">

  <div id="metadata">
    <div id="home-metadata">
      <div id="home-section" class="section">
        <h3 class="section-header">
          <a href="../index.html">Home</a>
          <a href="../index.html#classes">Classes</a>
          <a href="../index.html#methods">Methods</a>
        </h3>
      </div>
    </div>

    <div id="file-metadata">
      <div id="file-list-section" class="section">
        <h3 class="section-header">In Files</h3>
        <div class="section-body">
          <ul>
          
            <li><a href="../lib/asciidoctor/document_rb.html?TB_iframe=true&amp;height=550&amp;width=785"
              class="thickbox" title="lib/asciidoctor/document.rb">lib/asciidoctor/document.rb</a></li>
          
          </ul>
        </div>
      </div>

      
    </div>

    <div id="class-metadata">
      
      <!-- Parent Class -->
      <div id="parent-class-section" class="section">
        <h3 class="section-header">Parent</h3>
        
        <p class="link"><a href="AbstractBlock.html">Asciidoctor::AbstractBlock</a></p>
        
      </div>
      

      

      

      
      <!-- Method Quickref -->
      <div id="method-list-section" class="section">
        <h3 class="section-header">Methods</h3>
        <ul class="link-list">
          
          <li><a href="#method-c-new">::new</a></li>
          
          <li><a href="#method-i-apply_attribute_value_subs">#apply_attribute_value_subs</a></li>
          
          <li><a href="#method-i-attribute_locked-3F">#attribute_locked?</a></li>
          
          <li><a href="#method-i-author">#author</a></li>
          
          <li><a href="#method-i-backend">#backend</a></li>
          
          <li><a href="#method-i-clear_playback_attributes">#clear_playback_attributes</a></li>
          
          <li><a href="#method-i-content">#content</a></li>
          
          <li><a href="#method-i-counter">#counter</a></li>
          
          <li><a href="#method-i-counter_increment">#counter_increment</a></li>
          
          <li><a href="#method-i-delete_attribute">#delete_attribute</a></li>
          
          <li><a href="#method-i-docinfo">#docinfo</a></li>
          
          <li><a href="#method-i-doctitle">#doctitle</a></li>
          
          <li><a href="#method-i-doctype">#doctype</a></li>
          
          <li><a href="#method-i-embedded-3F">#embedded?</a></li>
          
          <li><a href="#method-i-first_section">#first_section</a></li>
          
          <li><a href="#method-i-footnotes">#footnotes</a></li>
          
          <li><a href="#method-i-footnotes-3F">#footnotes?</a></li>
          
          <li><a href="#method-i-has_header-3F">#has_header?</a></li>
          
          <li><a href="#method-i-name">#name</a></li>
          
          <li><a href="#method-i-nested-3F">#nested?</a></li>
          
          <li><a href="#method-i-nextval">#nextval</a></li>
          
          <li><a href="#method-i-noheader">#noheader</a></li>
          
          <li><a href="#method-i-notitle">#notitle</a></li>
          
          <li><a href="#method-i-playback_attributes">#playback_attributes</a></li>
          
          <li><a href="#method-i-register">#register</a></li>
          
          <li><a href="#method-i-render">#render</a></li>
          
          <li><a href="#method-i-renderer">#renderer</a></li>
          
          <li><a href="#method-i-restore_attributes">#restore_attributes</a></li>
          
          <li><a href="#method-i-revdate">#revdate</a></li>
          
          <li><a href="#method-i-save_attributes">#save_attributes</a></li>
          
          <li><a href="#method-i-set_attribute">#set_attribute</a></li>
          
          <li><a href="#method-i-source">#source</a></li>
          
          <li><a href="#method-i-source_lines">#source_lines</a></li>
          
          <li><a href="#method-i-title">#title</a></li>
          
          <li><a href="#method-i-title-3D">#title=</a></li>
          
          <li><a href="#method-i-to_s">#to_s</a></li>
          
          <li><a href="#method-i-update_backend_attributes">#update_backend_attributes</a></li>
          
        </ul>
      </div>
      

      
    </div>

    <div id="project-metadata">
      
      

      <div id="classindex-section" class="section project-section">
        <h3 class="section-header">Class/Module Index
          <span class="search-toggle"><img src="../images/find.png"
            height="16" width="16" alt="[+]"
            title="show/hide quicksearch" /></span></h3>
        <form action="#" method="get" accept-charset="utf-8" class="initially-hidden">
        <fieldset>
          <legend>Quicksearch</legend>
          <input type="text" name="quicksearch" value=""
            class="quicksearch-field" />
        </fieldset>
        </form>

        <ul class="link-list">
        
          <li><a href="../Asciidoctor.html">Asciidoctor</a></li>
        
          <li><a href="../Asciidoctor/AbstractBlock.html">Asciidoctor::AbstractBlock</a></li>
        
          <li><a href="../Asciidoctor/AbstractNode.html">Asciidoctor::AbstractNode</a></li>
        
          <li><a href="../Asciidoctor/AttributeList.html">Asciidoctor::AttributeList</a></li>
        
          <li><a href="../Asciidoctor/BaseTemplate.html">Asciidoctor::BaseTemplate</a></li>
        
          <li><a href="../Asciidoctor/Block.html">Asciidoctor::Block</a></li>
        
          <li><a href="../Asciidoctor/Callouts.html">Asciidoctor::Callouts</a></li>
        
          <li><a href="../Asciidoctor/Cli.html">Asciidoctor::Cli</a></li>
        
          <li><a href="../Asciidoctor/Cli/Invoker.html">Asciidoctor::Cli::Invoker</a></li>
        
          <li><a href="../Asciidoctor/Cli/Options.html">Asciidoctor::Cli::Options</a></li>
        
          <li><a href="../Asciidoctor/Debug.html">Asciidoctor::Debug</a></li>
        
          <li><a href="../Asciidoctor/DocBook45.html">Asciidoctor::DocBook45</a></li>
        
          <li><a href="../Asciidoctor/DocBook45/BlockAdmonitionTemplate.html">Asciidoctor::DocBook45::BlockAdmonitionTemplate</a></li>
        
          <li><a href="../Asciidoctor/DocBook45/BlockAudioTemplate.html">Asciidoctor::DocBook45::BlockAudioTemplate</a></li>
        
          <li><a href="../Asciidoctor/DocBook45/BlockColistTemplate.html">Asciidoctor::DocBook45::BlockColistTemplate</a></li>
        
          <li><a href="../Asciidoctor/DocBook45/BlockDlistTemplate.html">Asciidoctor::DocBook45::BlockDlistTemplate</a></li>
        
          <li><a href="../Asciidoctor/DocBook45/BlockExampleTemplate.html">Asciidoctor::DocBook45::BlockExampleTemplate</a></li>
        
          <li><a href="../Asciidoctor/DocBook45/BlockFloatingTitleTemplate.html">Asciidoctor::DocBook45::BlockFloatingTitleTemplate</a></li>
        
          <li><a href="../Asciidoctor/DocBook45/BlockImageTemplate.html">Asciidoctor::DocBook45::BlockImageTemplate</a></li>
        
          <li><a href="../Asciidoctor/DocBook45/BlockListingTemplate.html">Asciidoctor::DocBook45::BlockListingTemplate</a></li>
        
          <li><a href="../Asciidoctor/DocBook45/BlockLiteralTemplate.html">Asciidoctor::DocBook45::BlockLiteralTemplate</a></li>
        
          <li><a href="../Asciidoctor/DocBook45/BlockOlistTemplate.html">Asciidoctor::DocBook45::BlockOlistTemplate</a></li>
        
          <li><a href="../Asciidoctor/DocBook45/BlockOpenTemplate.html">Asciidoctor::DocBook45::BlockOpenTemplate</a></li>
        
          <li><a href="../Asciidoctor/DocBook45/BlockPageBreakTemplate.html">Asciidoctor::DocBook45::BlockPageBreakTemplate</a></li>
        
          <li><a href="../Asciidoctor/DocBook45/BlockParagraphTemplate.html">Asciidoctor::DocBook45::BlockParagraphTemplate</a></li>
        
          <li><a href="../Asciidoctor/DocBook45/BlockPassTemplate.html">Asciidoctor::DocBook45::BlockPassTemplate</a></li>
        
          <li><a href="../Asciidoctor/DocBook45/BlockPreambleTemplate.html">Asciidoctor::DocBook45::BlockPreambleTemplate</a></li>
        
          <li><a href="../Asciidoctor/DocBook45/BlockQuoteTemplate.html">Asciidoctor::DocBook45::BlockQuoteTemplate</a></li>
        
          <li><a href="../Asciidoctor/DocBook45/BlockRulerTemplate.html">Asciidoctor::DocBook45::BlockRulerTemplate</a></li>
        
          <li><a href="../Asciidoctor/DocBook45/BlockSidebarTemplate.html">Asciidoctor::DocBook45::BlockSidebarTemplate</a></li>
        
          <li><a href="../Asciidoctor/DocBook45/BlockTableTemplate.html">Asciidoctor::DocBook45::BlockTableTemplate</a></li>
        
          <li><a href="../Asciidoctor/DocBook45/BlockTocTemplate.html">Asciidoctor::DocBook45::BlockTocTemplate</a></li>
        
          <li><a href="../Asciidoctor/DocBook45/BlockUlistTemplate.html">Asciidoctor::DocBook45::BlockUlistTemplate</a></li>
        
          <li><a href="../Asciidoctor/DocBook45/BlockVerseTemplate.html">Asciidoctor::DocBook45::BlockVerseTemplate</a></li>
        
          <li><a href="../Asciidoctor/DocBook45/BlockVideoTemplate.html">Asciidoctor::DocBook45::BlockVideoTemplate</a></li>
        
          <li><a href="../Asciidoctor/DocBook45/DocumentTemplate.html">Asciidoctor::DocBook45::DocumentTemplate</a></li>
        
          <li><a href="../Asciidoctor/DocBook45/EmbeddedTemplate.html">Asciidoctor::DocBook45::EmbeddedTemplate</a></li>
        
          <li><a href="../Asciidoctor/DocBook45/InlineAnchorTemplate.html">Asciidoctor::DocBook45::InlineAnchorTemplate</a></li>
        
          <li><a href="../Asciidoctor/DocBook45/InlineBreakTemplate.html">Asciidoctor::DocBook45::InlineBreakTemplate</a></li>
        
          <li><a href="../Asciidoctor/DocBook45/InlineButtonTemplate.html">Asciidoctor::DocBook45::InlineButtonTemplate</a></li>
        
          <li><a href="../Asciidoctor/DocBook45/InlineCalloutTemplate.html">Asciidoctor::DocBook45::InlineCalloutTemplate</a></li>
        
          <li><a href="../Asciidoctor/DocBook45/InlineFootnoteTemplate.html">Asciidoctor::DocBook45::InlineFootnoteTemplate</a></li>
        
          <li><a href="../Asciidoctor/DocBook45/InlineImageTemplate.html">Asciidoctor::DocBook45::InlineImageTemplate</a></li>
        
          <li><a href="../Asciidoctor/DocBook45/InlineIndextermTemplate.html">Asciidoctor::DocBook45::InlineIndextermTemplate</a></li>
        
          <li><a href="../Asciidoctor/DocBook45/InlineKbdTemplate.html">Asciidoctor::DocBook45::InlineKbdTemplate</a></li>
        
          <li><a href="../Asciidoctor/DocBook45/InlineMenuTemplate.html">Asciidoctor::DocBook45::InlineMenuTemplate</a></li>
        
          <li><a href="../Asciidoctor/DocBook45/InlineQuotedTemplate.html">Asciidoctor::DocBook45::InlineQuotedTemplate</a></li>
        
          <li><a href="../Asciidoctor/DocBook45/SectionTemplate.html">Asciidoctor::DocBook45::SectionTemplate</a></li>
        
          <li><a href="../Asciidoctor/Document.html">Asciidoctor::Document</a></li>
        
          <li><a href="../Asciidoctor/EmptyTemplate.html">Asciidoctor::EmptyTemplate</a></li>
        
          <li><a href="../Asciidoctor/HTML5.html">Asciidoctor::HTML5</a></li>
        
          <li><a href="../Asciidoctor/HTML5/BlockAdmonitionTemplate.html">Asciidoctor::HTML5::BlockAdmonitionTemplate</a></li>
        
          <li><a href="../Asciidoctor/HTML5/BlockAudioTemplate.html">Asciidoctor::HTML5::BlockAudioTemplate</a></li>
        
          <li><a href="../Asciidoctor/HTML5/BlockColistTemplate.html">Asciidoctor::HTML5::BlockColistTemplate</a></li>
        
          <li><a href="../Asciidoctor/HTML5/BlockDlistTemplate.html">Asciidoctor::HTML5::BlockDlistTemplate</a></li>
        
          <li><a href="../Asciidoctor/HTML5/BlockExampleTemplate.html">Asciidoctor::HTML5::BlockExampleTemplate</a></li>
        
          <li><a href="../Asciidoctor/HTML5/BlockFloatingTitleTemplate.html">Asciidoctor::HTML5::BlockFloatingTitleTemplate</a></li>
        
          <li><a href="../Asciidoctor/HTML5/BlockImageTemplate.html">Asciidoctor::HTML5::BlockImageTemplate</a></li>
        
          <li><a href="../Asciidoctor/HTML5/BlockListingTemplate.html">Asciidoctor::HTML5::BlockListingTemplate</a></li>
        
          <li><a href="../Asciidoctor/HTML5/BlockLiteralTemplate.html">Asciidoctor::HTML5::BlockLiteralTemplate</a></li>
        
          <li><a href="../Asciidoctor/HTML5/BlockOlistTemplate.html">Asciidoctor::HTML5::BlockOlistTemplate</a></li>
        
          <li><a href="../Asciidoctor/HTML5/BlockOpenTemplate.html">Asciidoctor::HTML5::BlockOpenTemplate</a></li>
        
          <li><a href="../Asciidoctor/HTML5/BlockPageBreakTemplate.html">Asciidoctor::HTML5::BlockPageBreakTemplate</a></li>
        
          <li><a href="../Asciidoctor/HTML5/BlockParagraphTemplate.html">Asciidoctor::HTML5::BlockParagraphTemplate</a></li>
        
          <li><a href="../Asciidoctor/HTML5/BlockPassTemplate.html">Asciidoctor::HTML5::BlockPassTemplate</a></li>
        
          <li><a href="../Asciidoctor/HTML5/BlockPreambleTemplate.html">Asciidoctor::HTML5::BlockPreambleTemplate</a></li>
        
          <li><a href="../Asciidoctor/HTML5/BlockQuoteTemplate.html">Asciidoctor::HTML5::BlockQuoteTemplate</a></li>
        
          <li><a href="../Asciidoctor/HTML5/BlockRulerTemplate.html">Asciidoctor::HTML5::BlockRulerTemplate</a></li>
        
          <li><a href="../Asciidoctor/HTML5/BlockSidebarTemplate.html">Asciidoctor::HTML5::BlockSidebarTemplate</a></li>
        
          <li><a href="../Asciidoctor/HTML5/BlockTableTemplate.html">Asciidoctor::HTML5::BlockTableTemplate</a></li>
        
          <li><a href="../Asciidoctor/HTML5/BlockTocTemplate.html">Asciidoctor::HTML5::BlockTocTemplate</a></li>
        
          <li><a href="../Asciidoctor/HTML5/BlockUlistTemplate.html">Asciidoctor::HTML5::BlockUlistTemplate</a></li>
        
          <li><a href="../Asciidoctor/HTML5/BlockVerseTemplate.html">Asciidoctor::HTML5::BlockVerseTemplate</a></li>
        
          <li><a href="../Asciidoctor/HTML5/BlockVideoTemplate.html">Asciidoctor::HTML5::BlockVideoTemplate</a></li>
        
          <li><a href="../Asciidoctor/HTML5/DocumentTemplate.html">Asciidoctor::HTML5::DocumentTemplate</a></li>
        
          <li><a href="../Asciidoctor/HTML5/EmbeddedTemplate.html">Asciidoctor::HTML5::EmbeddedTemplate</a></li>
        
          <li><a href="../Asciidoctor/HTML5/InlineAnchorTemplate.html">Asciidoctor::HTML5::InlineAnchorTemplate</a></li>
        
          <li><a href="../Asciidoctor/HTML5/InlineBreakTemplate.html">Asciidoctor::HTML5::InlineBreakTemplate</a></li>
        
          <li><a href="../Asciidoctor/HTML5/InlineButtonTemplate.html">Asciidoctor::HTML5::InlineButtonTemplate</a></li>
        
          <li><a href="../Asciidoctor/HTML5/InlineCalloutTemplate.html">Asciidoctor::HTML5::InlineCalloutTemplate</a></li>
        
          <li><a href="../Asciidoctor/HTML5/InlineFootnoteTemplate.html">Asciidoctor::HTML5::InlineFootnoteTemplate</a></li>
        
          <li><a href="../Asciidoctor/HTML5/InlineImageTemplate.html">Asciidoctor::HTML5::InlineImageTemplate</a></li>
        
          <li><a href="../Asciidoctor/HTML5/InlineIndextermTemplate.html">Asciidoctor::HTML5::InlineIndextermTemplate</a></li>
        
          <li><a href="../Asciidoctor/HTML5/InlineKbdTemplate.html">Asciidoctor::HTML5::InlineKbdTemplate</a></li>
        
          <li><a href="../Asciidoctor/HTML5/InlineMenuTemplate.html">Asciidoctor::HTML5::InlineMenuTemplate</a></li>
        
          <li><a href="../Asciidoctor/HTML5/InlineQuotedTemplate.html">Asciidoctor::HTML5::InlineQuotedTemplate</a></li>
        
          <li><a href="../Asciidoctor/HTML5/SectionTemplate.html">Asciidoctor::HTML5::SectionTemplate</a></li>
        
          <li><a href="../Asciidoctor/Helpers.html">Asciidoctor::Helpers</a></li>
        
          <li><a href="../Asciidoctor/Inline.html">Asciidoctor::Inline</a></li>
        
          <li><a href="../Asciidoctor/Lexer.html">Asciidoctor::Lexer</a></li>
        
          <li><a href="../Asciidoctor/ListItem.html">Asciidoctor::ListItem</a></li>
        
          <li><a href="../Asciidoctor/PathResolver.html">Asciidoctor::PathResolver</a></li>
        
          <li><a href="../Asciidoctor/Reader.html">Asciidoctor::Reader</a></li>
        
          <li><a href="../Asciidoctor/Renderer.html">Asciidoctor::Renderer</a></li>
        
          <li><a href="../Asciidoctor/SafeMode.html">Asciidoctor::SafeMode</a></li>
        
          <li><a href="../Asciidoctor/Section.html">Asciidoctor::Section</a></li>
        
          <li><a href="../Asciidoctor/Substituters.html">Asciidoctor::Substituters</a></li>
        
          <li><a href="../Asciidoctor/Table.html">Asciidoctor::Table</a></li>
        
          <li><a href="../Asciidoctor/Table/Cell.html">Asciidoctor::Table::Cell</a></li>
        
          <li><a href="../Asciidoctor/Table/Column.html">Asciidoctor::Table::Column</a></li>
        
          <li><a href="../Asciidoctor/Table/ParserContext.html">Asciidoctor::Table::ParserContext</a></li>
        
        </ul>
        <div id="no-class-search-results" style="display: none;">No matching classes.</div>
      </div>

      
    </div>
  </div>

  <div id="documentation">
    <h1 class="class">Asciidoctor::Document</h1>

    <div id="description" class="description">
      
<p>Public: Methods for parsing Asciidoc documents and rendering them using erb
templates.</p>

<p>There are several strategies for getting the title of the document:</p>

<p>doctitle - value of title attribute, if assigned and non-empty,</p>

<pre>otherwise title of first section in document, if present
otherwise nil</pre>

<p>name - an alias of doctitle title - value of the title attribute, or nil if
not present first_section.title - title of first section in document, if
present header.title - title of section level 0</p>

<p>Keep in mind that you'll want to honor these document settings:</p>

<p>notitle  - The h1 heading should not be shown noheader - The header block
(h1 heading, author, revision info) should not be shown</p>

    </div><!-- description -->

    
    
    
    <div id="5Buntitled-5D" class="documentation-section">
      

      

      
      <!-- Constants -->
      <div id="constants-list" class="section">
        <h3 class="section-header">Constants</h3>
        <dl>
        
          <dt><a name="AttributeEntry">AttributeEntry</a></dt>
          
          <dd class="description"></dd>
          
        
          <dt><a name="Footnote">Footnote</a></dt>
          
          <dd class="description"></dd>
          
        
        </dl>
      </div>
      

      
      <!-- Attributes -->
      <div id="attribute-method-details" class="method-section section">
        <h3 class="section-header">Attributes</h3>

        
        <div id="base_dir-attribute-method" class="method-detail">
          <a name="base_dir"></a>
          
          <div class="method-heading attribute-method-heading">
            <span class="method-name">base_dir</span><span
              class="attribute-access-type">[R]</span>
          </div>

          <div class="method-description">
          
          <p>Public: Base directory for rendering this document. Defaults to directory
of the source file. If the source is a string, defaults to the current
directory.</p>
          
          </div>
        </div>
        
        <div id="callouts-attribute-method" class="method-detail">
          <a name="callouts"></a>
          
          <div class="method-heading attribute-method-heading">
            <span class="method-name">callouts</span><span
              class="attribute-access-type">[R]</span>
          </div>

          <div class="method-description">
          
          <p>Public: Get the Hash of callouts</p>
          
          </div>
        </div>
        
        <div id="counters-attribute-method" class="method-detail">
          <a name="counters"></a>
          
          <div class="method-heading attribute-method-heading">
            <span class="method-name">counters</span><span
              class="attribute-access-type">[R]</span>
          </div>

          <div class="method-description">
          
          <p>Public: Get the Hash of document counters</p>
          
          </div>
        </div>
        
        <div id="header-attribute-method" class="method-detail">
          <a name="header"></a>
          
          <div class="method-heading attribute-method-heading">
            <span class="method-name">header</span><span
              class="attribute-access-type">[R]</span>
          </div>

          <div class="method-description">
          
          <p>Public: The section level 0 block</p>
          
          </div>
        </div>
        
        <div id="parent_document-attribute-method" class="method-detail">
          <a name="parent_document"></a>
          
          <div class="method-heading attribute-method-heading">
            <span class="method-name">parent_document</span><span
              class="attribute-access-type">[R]</span>
          </div>

          <div class="method-description">
          
          <p>Public: A reference to the parent document of this nested document.</p>
          
          </div>
        </div>
        
        <div id="references-attribute-method" class="method-detail">
          <a name="references"></a>
          
          <div class="method-heading attribute-method-heading">
            <span class="method-name">references</span><span
              class="attribute-access-type">[R]</span>
          </div>

          <div class="method-description">
          
          <p>Public: Get the Hash of document references</p>
          
          </div>
        </div>
        
        <div id="safe-attribute-method" class="method-detail">
          <a name="safe"></a>
          
          <div class="method-heading attribute-method-heading">
            <span class="method-name">safe</span><span
              class="attribute-access-type">[R]</span>
          </div>

          <div class="method-description">
          
          <p>Public A read-only integer value indicating the level of security that
should be enforced while processing this document. The value must be set in
the <a href="Document.html">Document</a> constructor using the :safe
option.</p>

<p>A value of 0 (UNSAFE) disables any of the security features enforced by <a
href="../Asciidoctor.html">Asciidoctor</a> (Ruby is still subject to its
own restrictions).</p>

<p>A value of 1 (SAFE) closely parallels safe mode in AsciiDoc. In particular,
it prevents access to files which reside outside of the parent directory of
the source file and disables any macro other than the include macro.</p>

<p>A value of 10 (SERVER) disallows the document from setting attributes that
would affect the rendering of the document, in addition to all the security
features of SafeMode::SAFE. For instance, this value disallows changing the
backend or the source-highlighter using an attribute defined in the source
document. This is the most fundamental level of security for server-side
deployments (hence the name).</p>

<p>A value of 20 (SECURE) disallows the document from attempting to read files
from the file system and including the contents of them into the document,
in addition to all the security features of SafeMode::SECURE. In
particular, it disallows use of the include::[] macro and the embedding of
binary content (data uri), stylesheets and JavaScripts referenced by the
document. (<a href="../Asciidoctor.html">Asciidoctor</a> and trusted
extensions may still be allowed to embed trusted content into the
document).</p>

<p>Since <a href="../Asciidoctor.html">Asciidoctor</a> is aiming for wide
adoption, 20 (SECURE) is the default value and is recommended for
server-side deployments.</p>

<p>A value of 100 (PARANOID) is planned to disallow the use of passthrough
macros and prevents the document from setting any known attributes in
addition to all the security features of SafeMode::SECURE. Please note that
this level is not currently implemented (and therefore not enforced)!</p>
          
          </div>
        </div>
        
      </div><!-- attribute-method-details -->
      

      <!-- Methods -->
      
      <div id="public-class-method-details" class="method-section section">
        <h3 class="section-header">Public Class Methods</h3>

      
        <div id="new-method" class="method-detail ">
          <a name="method-c-new"></a>

          
          <div class="method-heading">
            <span class="method-name">new</span><span
              class="method-args">(data = [], options = {}, &block)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Public: Initialize an Asciidoc object.</p>

<p>data    - The Array of Strings holding the Asciidoc source document.
(default: []) options - A Hash of options to control processing, such as
setting the safe mode (:safe),</p>

<pre>suppressing the header/footer (:header_footer) and attribute overrides (:attributes)
(default: {})</pre>

<p>block   - A block that can be used to retrieve external Asciidoc</p>

<pre>data to include in this document.</pre>

<p>Examples</p>

<pre>data = File.readlines(filename)
doc  = Asciidoctor::Document.new(data)
puts doc.render</pre>
            

            
            <div class="method-source-code" id="new-source">
<pre>
<span class="ruby-comment"># File lib/asciidoctor/document.rb, line 101</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">initialize</span>(<span class="ruby-identifier">data</span> = [], <span class="ruby-identifier">options</span> = {}, &amp;<span class="ruby-identifier">block</span>)
  <span class="ruby-keyword">super</span>(<span class="ruby-keyword">self</span>, <span class="ruby-value">:document</span>)
  <span class="ruby-ivar">@renderer</span> = <span class="ruby-keyword">nil</span>

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">options</span>[<span class="ruby-value">:parent</span>]
    <span class="ruby-ivar">@parent_document</span> = <span class="ruby-identifier">options</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-value">:parent</span>)
    <span class="ruby-comment"># should we dup attributes here?</span>
    <span class="ruby-identifier">options</span>[<span class="ruby-value">:attributes</span>] = <span class="ruby-ivar">@parent_document</span>.<span class="ruby-identifier">attributes</span>
    <span class="ruby-identifier">options</span>[<span class="ruby-value">:base_dir</span>] <span class="ruby-operator">||=</span> <span class="ruby-ivar">@parent_document</span>.<span class="ruby-identifier">base_dir</span>
    <span class="ruby-ivar">@safe</span> = <span class="ruby-ivar">@parent_document</span>.<span class="ruby-identifier">safe</span>
    <span class="ruby-ivar">@renderer</span> = <span class="ruby-ivar">@parent_document</span>.<span class="ruby-identifier">renderer</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-ivar">@parent_document</span> = <span class="ruby-keyword">nil</span>
    <span class="ruby-ivar">@safe</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-ivar">@header</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-ivar">@references</span> = {
    <span class="ruby-value">:ids</span> =<span class="ruby-operator">&gt;</span> {},
    <span class="ruby-value">:footnotes</span> =<span class="ruby-operator">&gt;</span> [],
    <span class="ruby-value">:links</span> =<span class="ruby-operator">&gt;</span> [],
    <span class="ruby-value">:images</span> =<span class="ruby-operator">&gt;</span> [],
    <span class="ruby-value">:indexterms</span> =<span class="ruby-operator">&gt;</span> []
  }
  <span class="ruby-ivar">@counters</span> = {}
  <span class="ruby-ivar">@callouts</span> = <span class="ruby-constant">Callouts</span>.<span class="ruby-identifier">new</span>
  <span class="ruby-ivar">@options</span> = <span class="ruby-identifier">options</span>
  <span class="ruby-comment"># safely resolve the safe mode from const, int or string</span>
  <span class="ruby-keyword">if</span> <span class="ruby-ivar">@safe</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span>(<span class="ruby-identifier">safe_mode</span> = <span class="ruby-ivar">@options</span>[<span class="ruby-value">:safe</span>])
    <span class="ruby-ivar">@safe</span> = <span class="ruby-constant">SafeMode</span><span class="ruby-operator">::</span><span class="ruby-constant">SECURE</span>
  <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">safe_mode</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Fixnum</span>)
    <span class="ruby-comment"># be permissive in case API user wants to define new levels</span>
    <span class="ruby-ivar">@safe</span> = <span class="ruby-identifier">safe_mode</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-keyword">begin</span>
      <span class="ruby-ivar">@safe</span> = <span class="ruby-constant">SafeMode</span>.<span class="ruby-identifier">const_get</span>(<span class="ruby-identifier">safe_mode</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">upcase</span>).<span class="ruby-identifier">to_i</span>
    <span class="ruby-keyword">rescue</span>
      <span class="ruby-ivar">@safe</span> = <span class="ruby-constant">SafeMode</span><span class="ruby-operator">::</span><span class="ruby-constant">SECURE</span>.<span class="ruby-identifier">to_i</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-ivar">@options</span>[<span class="ruby-value">:header_footer</span>] = <span class="ruby-ivar">@options</span>.<span class="ruby-identifier">fetch</span>(<span class="ruby-value">:header_footer</span>, <span class="ruby-keyword">false</span>)

  <span class="ruby-ivar">@attributes</span>[<span class="ruby-string">'encoding'</span>] = <span class="ruby-string">'UTF-8'</span>
  <span class="ruby-ivar">@attributes</span>[<span class="ruby-string">'sectids'</span>] = <span class="ruby-string">''</span>
  <span class="ruby-ivar">@attributes</span>[<span class="ruby-string">'notitle'</span>] = <span class="ruby-string">''</span> <span class="ruby-keyword">unless</span> <span class="ruby-ivar">@options</span>[<span class="ruby-value">:header_footer</span>]
  <span class="ruby-ivar">@attributes</span>[<span class="ruby-string">'toc-placement'</span>] = <span class="ruby-string">'auto'</span>
  <span class="ruby-ivar">@attributes</span>[<span class="ruby-string">'stylesheet'</span>] = <span class="ruby-string">''</span>
  <span class="ruby-ivar">@attributes</span>[<span class="ruby-string">'linkcss'</span>] = <span class="ruby-string">''</span>

  <span class="ruby-comment"># language strings</span>
  <span class="ruby-comment"># TODO load these based on language settings</span>
  <span class="ruby-ivar">@attributes</span>[<span class="ruby-string">'caution-caption'</span>] = <span class="ruby-string">'Caution'</span>
  <span class="ruby-ivar">@attributes</span>[<span class="ruby-string">'important-caption'</span>] = <span class="ruby-string">'Important'</span>
  <span class="ruby-ivar">@attributes</span>[<span class="ruby-string">'note-caption'</span>] = <span class="ruby-string">'Note'</span>
  <span class="ruby-ivar">@attributes</span>[<span class="ruby-string">'tip-caption'</span>] = <span class="ruby-string">'Tip'</span>
  <span class="ruby-ivar">@attributes</span>[<span class="ruby-string">'warning-caption'</span>] = <span class="ruby-string">'Warning'</span>
  <span class="ruby-ivar">@attributes</span>[<span class="ruby-string">'appendix-caption'</span>] = <span class="ruby-string">'Appendix'</span>
  <span class="ruby-ivar">@attributes</span>[<span class="ruby-string">'example-caption'</span>] = <span class="ruby-string">'Example'</span>
  <span class="ruby-ivar">@attributes</span>[<span class="ruby-string">'figure-caption'</span>] = <span class="ruby-string">'Figure'</span>
  <span class="ruby-comment">#@attributes['listing-caption'] = 'Listing'</span>
  <span class="ruby-ivar">@attributes</span>[<span class="ruby-string">'table-caption'</span>] = <span class="ruby-string">'Table'</span>
  <span class="ruby-ivar">@attributes</span>[<span class="ruby-string">'toc-title'</span>] = <span class="ruby-string">'Table of Contents'</span>

  <span class="ruby-comment"># attribute overrides are attributes that can only be set from the commandline</span>
  <span class="ruby-comment"># a direct assignment effectively makes the attribute a constant</span>
  <span class="ruby-comment"># assigning a nil value will result in the attribute being unset</span>
  <span class="ruby-ivar">@attribute_overrides</span> = <span class="ruby-identifier">options</span>[<span class="ruby-value">:attributes</span>] <span class="ruby-operator">||</span> {}

  <span class="ruby-ivar">@attribute_overrides</span>[<span class="ruby-string">'asciidoctor'</span>] = <span class="ruby-string">''</span>
  <span class="ruby-ivar">@attribute_overrides</span>[<span class="ruby-string">'asciidoctor-version'</span>] = <span class="ruby-constant">VERSION</span>

  <span class="ruby-identifier">safe_mode_name</span> = <span class="ruby-constant">SafeMode</span>.<span class="ruby-identifier">constants</span>.<span class="ruby-identifier">detect</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">l</span><span class="ruby-operator">|</span> <span class="ruby-constant">SafeMode</span>.<span class="ruby-identifier">const_get</span>(<span class="ruby-identifier">l</span>) <span class="ruby-operator">==</span> <span class="ruby-ivar">@safe</span>}.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">downcase</span>
  <span class="ruby-ivar">@attribute_overrides</span>[<span class="ruby-string">'safe-mode-name'</span>] = <span class="ruby-identifier">safe_mode_name</span>
  <span class="ruby-ivar">@attribute_overrides</span>[<span class="ruby-node">&quot;safe-mode-#{safe_mode_name}&quot;</span>] = <span class="ruby-string">''</span>
  <span class="ruby-ivar">@attribute_overrides</span>[<span class="ruby-string">'safe-mode-level'</span>] = <span class="ruby-ivar">@safe</span>

  <span class="ruby-comment"># sync the embedded attribute w/ the value of options...do not allow override</span>
  <span class="ruby-ivar">@attribute_overrides</span>[<span class="ruby-string">'embedded'</span>] = <span class="ruby-ivar">@options</span>[<span class="ruby-value">:header_footer</span>] <span class="ruby-operator">?</span> <span class="ruby-keyword">nil</span> <span class="ruby-operator">:</span> <span class="ruby-string">''</span>

  <span class="ruby-comment"># the only way to set the include-depth attribute is via the document options</span>
  <span class="ruby-comment"># 10 is the AsciiDoc default, though currently Asciidoctor only supports 1 level</span>
  <span class="ruby-ivar">@attribute_overrides</span>[<span class="ruby-string">'include-depth'</span>] <span class="ruby-operator">||=</span> <span class="ruby-value">10</span>

  <span class="ruby-comment"># if the base_dir option is specified, it overrides docdir as the root for relative paths</span>
  <span class="ruby-comment"># otherwise, the base_dir is the directory of the source file (docdir) or the current</span>
  <span class="ruby-comment"># directory of the input is a string</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">options</span>[<span class="ruby-value">:base_dir</span>].<span class="ruby-identifier">nil?</span>
    <span class="ruby-keyword">if</span> <span class="ruby-ivar">@attribute_overrides</span>[<span class="ruby-string">'docdir'</span>]
      <span class="ruby-ivar">@base_dir</span> = <span class="ruby-ivar">@attribute_overrides</span>[<span class="ruby-string">'docdir'</span>] = <span class="ruby-constant">File</span>.<span class="ruby-identifier">expand_path</span>(<span class="ruby-ivar">@attribute_overrides</span>[<span class="ruby-string">'docdir'</span>])
    <span class="ruby-keyword">else</span>
      <span class="ruby-comment">#puts 'asciidoctor: WARNING: setting base_dir is recommended when working with string documents' unless nested?</span>
      <span class="ruby-ivar">@base_dir</span> = <span class="ruby-ivar">@attribute_overrides</span>[<span class="ruby-string">'docdir'</span>] = <span class="ruby-constant">File</span>.<span class="ruby-identifier">expand_path</span>(<span class="ruby-constant">Dir</span>.<span class="ruby-identifier">pwd</span>)
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-ivar">@base_dir</span> = <span class="ruby-ivar">@attribute_overrides</span>[<span class="ruby-string">'docdir'</span>] = <span class="ruby-constant">File</span>.<span class="ruby-identifier">expand_path</span>(<span class="ruby-identifier">options</span>[<span class="ruby-value">:base_dir</span>])
  <span class="ruby-keyword">end</span>

  <span class="ruby-comment"># allow common attributes backend and doctype to be set using options hash</span>
  <span class="ruby-keyword">unless</span> <span class="ruby-ivar">@options</span>[<span class="ruby-value">:backend</span>].<span class="ruby-identifier">nil?</span>
    <span class="ruby-ivar">@attribute_overrides</span>[<span class="ruby-string">'backend'</span>] = <span class="ruby-ivar">@options</span>[<span class="ruby-value">:backend</span>].<span class="ruby-identifier">to_s</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">unless</span> <span class="ruby-ivar">@options</span>[<span class="ruby-value">:doctype</span>].<span class="ruby-identifier">nil?</span>
    <span class="ruby-ivar">@attribute_overrides</span>[<span class="ruby-string">'doctype'</span>] = <span class="ruby-ivar">@options</span>[<span class="ruby-value">:doctype</span>].<span class="ruby-identifier">to_s</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">if</span> <span class="ruby-ivar">@safe</span> <span class="ruby-operator">&gt;=</span> <span class="ruby-constant">SafeMode</span><span class="ruby-operator">::</span><span class="ruby-constant">SERVER</span>
    <span class="ruby-comment"># restrict document from setting linkcss, copycss, source-highlighter and backend</span>
    <span class="ruby-ivar">@attribute_overrides</span>[<span class="ruby-string">'copycss'</span>] <span class="ruby-operator">||=</span> <span class="ruby-keyword">nil</span>
    <span class="ruby-ivar">@attribute_overrides</span>[<span class="ruby-string">'source-highlighter'</span>] <span class="ruby-operator">||=</span> <span class="ruby-keyword">nil</span>
    <span class="ruby-ivar">@attribute_overrides</span>[<span class="ruby-string">'backend'</span>] <span class="ruby-operator">||=</span> <span class="ruby-constant">DEFAULT_BACKEND</span>
    <span class="ruby-comment"># restrict document from seeing the docdir and trim docfile to relative path</span>
    <span class="ruby-keyword">if</span> <span class="ruby-ivar">@attribute_overrides</span>.<span class="ruby-identifier">has_key?</span>(<span class="ruby-string">'docfile'</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-ivar">@parent_document</span>.<span class="ruby-identifier">nil?</span>
      <span class="ruby-ivar">@attribute_overrides</span>[<span class="ruby-string">'docfile'</span>] = <span class="ruby-ivar">@attribute_overrides</span>[<span class="ruby-string">'docfile'</span>][(<span class="ruby-ivar">@attribute_overrides</span>[<span class="ruby-string">'docdir'</span>].<span class="ruby-identifier">length</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span>)<span class="ruby-operator">..</span><span class="ruby-value">-1</span>]
    <span class="ruby-keyword">end</span>
    <span class="ruby-ivar">@attribute_overrides</span>[<span class="ruby-string">'docdir'</span>] = <span class="ruby-string">''</span>
    <span class="ruby-keyword">if</span> <span class="ruby-ivar">@safe</span> <span class="ruby-operator">&gt;=</span> <span class="ruby-constant">SafeMode</span><span class="ruby-operator">::</span><span class="ruby-constant">SECURE</span>
      <span class="ruby-comment"># assign linkcss (preventing css embedding) unless disabled from the commandline</span>
      <span class="ruby-keyword">unless</span> <span class="ruby-ivar">@attribute_overrides</span>.<span class="ruby-identifier">fetch</span>(<span class="ruby-string">'linkcss'</span>, <span class="ruby-string">''</span>).<span class="ruby-identifier">nil?</span> <span class="ruby-operator">||</span> <span class="ruby-ivar">@attribute_overrides</span>.<span class="ruby-identifier">has_key?</span>(<span class="ruby-string">'linkcss!'</span>)
        <span class="ruby-ivar">@attribute_overrides</span>[<span class="ruby-string">'linkcss'</span>] = <span class="ruby-string">''</span>
      <span class="ruby-keyword">end</span>
      <span class="ruby-comment"># restrict document from enabling icons</span>
      <span class="ruby-ivar">@attribute_overrides</span>[<span class="ruby-string">'icons'</span>] <span class="ruby-operator">||=</span> <span class="ruby-keyword">nil</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
  
  <span class="ruby-ivar">@attribute_overrides</span>.<span class="ruby-identifier">delete_if</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">key</span>, <span class="ruby-identifier">val</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">verdict</span> = <span class="ruby-keyword">false</span>
    <span class="ruby-comment"># a nil value undefines the attribute </span>
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">val</span>.<span class="ruby-identifier">nil?</span>
      <span class="ruby-ivar">@attributes</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-identifier">key</span>)
    <span class="ruby-comment"># a negative key undefines the attribute</span>
    <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">key</span>.<span class="ruby-identifier">end_with?</span> <span class="ruby-string">'!'</span>
      <span class="ruby-ivar">@attributes</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-identifier">key</span>[<span class="ruby-value">0</span><span class="ruby-operator">..</span><span class="ruby-value">-2</span>])
    <span class="ruby-comment"># otherwise it's an attribute assignment</span>
    <span class="ruby-keyword">else</span>
      <span class="ruby-comment"># a value ending in @ indicates this attribute does not override</span>
      <span class="ruby-comment"># an attribute with the same key in the document souce</span>
      <span class="ruby-keyword">if</span> <span class="ruby-identifier">val</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">String</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">val</span>.<span class="ruby-identifier">end_with?</span>(<span class="ruby-string">'@'</span>)
        <span class="ruby-identifier">val</span>.<span class="ruby-identifier">chop!</span>
        <span class="ruby-identifier">verdict</span> = <span class="ruby-keyword">true</span>
      <span class="ruby-keyword">end</span>
      <span class="ruby-ivar">@attributes</span>[<span class="ruby-identifier">key</span>] = <span class="ruby-identifier">val</span>
    <span class="ruby-keyword">end</span>
    <span class="ruby-identifier">verdict</span>
  }

  <span class="ruby-ivar">@attributes</span>[<span class="ruby-string">'backend'</span>] <span class="ruby-operator">||=</span> <span class="ruby-constant">DEFAULT_BACKEND</span>
  <span class="ruby-ivar">@attributes</span>[<span class="ruby-string">'doctype'</span>] <span class="ruby-operator">||=</span> <span class="ruby-constant">DEFAULT_DOCTYPE</span>
  <span class="ruby-identifier">update_backend_attributes</span>
  <span class="ruby-comment"># make toc and numbered the default for the docbook backend</span>
  <span class="ruby-comment"># FIXME this doesn't take into account the backend being set in the document</span>
  <span class="ruby-comment">#if @attributes.has_key?('basebackend-docbook')</span>
  <span class="ruby-comment">#  @attributes['toc'] = '' unless @attribute_overrides.has_key?('toc!')</span>
  <span class="ruby-comment">#  @attributes['numbered'] = '' unless @attribute_overrides.has_key?('numbered!')</span>
  <span class="ruby-comment">#end</span>

  <span class="ruby-keyword">if</span> <span class="ruby-operator">!</span><span class="ruby-ivar">@parent_document</span>.<span class="ruby-identifier">nil?</span>
    <span class="ruby-comment"># don't need to do the extra processing within our own document</span>
    <span class="ruby-ivar">@reader</span> = <span class="ruby-constant">Reader</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">data</span>)
  <span class="ruby-keyword">else</span>
    <span class="ruby-ivar">@reader</span> = <span class="ruby-constant">Reader</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">data</span>, <span class="ruby-keyword">self</span>, <span class="ruby-keyword">true</span>, &amp;<span class="ruby-identifier">block</span>)
  <span class="ruby-keyword">end</span>

  <span class="ruby-comment"># dynamic intrinstic attribute values</span>
  <span class="ruby-identifier">now</span> = <span class="ruby-constant">Time</span>.<span class="ruby-identifier">new</span>
  <span class="ruby-ivar">@attributes</span>[<span class="ruby-string">'localdate'</span>] <span class="ruby-operator">||=</span> <span class="ruby-identifier">now</span>.<span class="ruby-identifier">strftime</span>(<span class="ruby-string">'%Y-%m-%d'</span>)
  <span class="ruby-ivar">@attributes</span>[<span class="ruby-string">'localtime'</span>] <span class="ruby-operator">||=</span> <span class="ruby-identifier">now</span>.<span class="ruby-identifier">strftime</span>(<span class="ruby-string">'%H:%M:%S %Z'</span>)
  <span class="ruby-ivar">@attributes</span>[<span class="ruby-string">'localdatetime'</span>] <span class="ruby-operator">||=</span> [<span class="ruby-ivar">@attributes</span>[<span class="ruby-string">'localdate'</span>], <span class="ruby-ivar">@attributes</span>[<span class="ruby-string">'localtime'</span>]] * <span class="ruby-string">' '</span>
  
  <span class="ruby-comment"># docdate, doctime and docdatetime should default to</span>
  <span class="ruby-comment"># localdate, localtime and localdatetime if not otherwise set</span>
  <span class="ruby-ivar">@attributes</span>[<span class="ruby-string">'docdate'</span>] <span class="ruby-operator">||=</span> <span class="ruby-ivar">@attributes</span>[<span class="ruby-string">'localdate'</span>]
  <span class="ruby-ivar">@attributes</span>[<span class="ruby-string">'doctime'</span>] <span class="ruby-operator">||=</span> <span class="ruby-ivar">@attributes</span>[<span class="ruby-string">'localtime'</span>]
  <span class="ruby-ivar">@attributes</span>[<span class="ruby-string">'docdatetime'</span>] <span class="ruby-operator">||=</span> <span class="ruby-ivar">@attributes</span>[<span class="ruby-string">'localdatetime'</span>]

  <span class="ruby-comment"># fallback directories</span>
  <span class="ruby-ivar">@attributes</span>[<span class="ruby-string">'stylesdir'</span>] <span class="ruby-operator">||=</span> <span class="ruby-string">'.'</span>
  <span class="ruby-ivar">@attributes</span>[<span class="ruby-string">'iconsdir'</span>] <span class="ruby-operator">||=</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-ivar">@attributes</span>.<span class="ruby-identifier">fetch</span>(<span class="ruby-string">'imagesdir'</span>, <span class="ruby-string">'./images'</span>), <span class="ruby-string">'icons'</span>)

  <span class="ruby-comment"># Now parse the lines in the reader into blocks</span>
  <span class="ruby-constant">Lexer</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-ivar">@reader</span>, <span class="ruby-keyword">self</span>, <span class="ruby-value">:header_only</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@options</span>.<span class="ruby-identifier">fetch</span>(<span class="ruby-value">:parse_header_only</span>, <span class="ruby-keyword">false</span>)) 

  <span class="ruby-ivar">@callouts</span>.<span class="ruby-identifier">rewind</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- new-source -->
            
          </div>

          

          
        </div><!-- new-method -->

      
      </div><!-- public-class-method-details -->
    
      <div id="public-instance-method-details" class="method-section section">
        <h3 class="section-header">Public Instance Methods</h3>

      
        <div id="apply_attribute_value_subs-method" class="method-detail ">
          <a name="method-i-apply_attribute_value_subs"></a>

          
          <div class="method-heading">
            <span class="method-name">apply_attribute_value_subs</span><span
              class="method-args">(value)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Internal: Apply substitutions to the attribute value</p>

<p>If the value is an inline passthrough macro (e.g., <a
href="http://text">pass:</a>), then apply the substitutions defined on the
macro to the text. Otherwise, apply the verbatim substitutions to the
value.</p>

<p>value - The String attribute value on which to perform substitutions</p>

<p>Returns The String value with substitutions performed.</p>
            

            
            <div class="method-source-code" id="apply_attribute_value_subs-source">
<pre>
<span class="ruby-comment"># File lib/asciidoctor/document.rb, line 545</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">apply_attribute_value_subs</span>(<span class="ruby-identifier">value</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">value</span>.<span class="ruby-identifier">match</span>(<span class="ruby-constant">REGEXP</span>[<span class="ruby-value">:pass_macro_basic</span>])
    <span class="ruby-comment"># copy match for Ruby 1.8.7 compat</span>
    <span class="ruby-identifier">m</span> = <span class="ruby-identifier">$~</span>
    <span class="ruby-identifier">subs</span> = []
    <span class="ruby-keyword">if</span> <span class="ruby-operator">!</span><span class="ruby-identifier">m</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">empty?</span>
      <span class="ruby-identifier">subs</span> = <span class="ruby-identifier">resolve_subs</span>(<span class="ruby-identifier">m</span>[<span class="ruby-value">1</span>])
    <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">if</span> <span class="ruby-operator">!</span><span class="ruby-identifier">subs</span>.<span class="ruby-identifier">empty?</span>
      <span class="ruby-identifier">apply_subs</span>(<span class="ruby-identifier">m</span>[<span class="ruby-value">2</span>], <span class="ruby-identifier">subs</span>)
    <span class="ruby-keyword">else</span>
      <span class="ruby-identifier">m</span>[<span class="ruby-value">2</span>]
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">apply_header_subs</span>(<span class="ruby-identifier">value</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- apply_attribute_value_subs-source -->
            
          </div>

          

          
        </div><!-- apply_attribute_value_subs-method -->

      
        <div id="attribute_locked-3F-method" class="method-detail ">
          <a name="method-i-attribute_locked-3F"></a>

          
          <div class="method-heading">
            <span class="method-name">attribute_locked?</span><span
              class="method-args">(name)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Public: Determine if the attribute has been locked by being assigned in
document options</p>

<p>key - The attribute key to check</p>

<p>Returns true if the attribute is locked, false otherwise</p>
            

            
            <div class="method-source-code" id="attribute_locked-3F-source">
<pre>
<span class="ruby-comment"># File lib/asciidoctor/document.rb, line 532</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">attribute_locked?</span>(<span class="ruby-identifier">name</span>)
  <span class="ruby-ivar">@attribute_overrides</span>.<span class="ruby-identifier">has_key?</span>(<span class="ruby-identifier">name</span>) <span class="ruby-operator">||</span> <span class="ruby-ivar">@attribute_overrides</span>.<span class="ruby-identifier">has_key?</span>(<span class="ruby-node">&quot;#{name}!&quot;</span>)
<span class="ruby-keyword">end</span></pre>
            </div><!-- attribute_locked-3F-source -->
            
          </div>

          

          
        </div><!-- attribute_locked-3F-method -->

      
        <div id="author-method" class="method-detail ">
          <a name="method-i-author"></a>

          
          <div class="method-heading">
            <span class="method-name">author</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Public: Convenience method to retrieve the document attribute 'author'</p>

<p>returns the full name of the author as a String</p>
            

            
            <div class="method-source-code" id="author-source">
<pre>
<span class="ruby-comment"># File lib/asciidoctor/document.rb, line 417</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">author</span>
  <span class="ruby-ivar">@attributes</span>[<span class="ruby-string">'author'</span>]
<span class="ruby-keyword">end</span></pre>
            </div><!-- author-source -->
            
          </div>

          

          
        </div><!-- author-method -->

      
        <div id="backend-method" class="method-detail ">
          <a name="method-i-backend"></a>

          
          <div class="method-heading">
            <span class="method-name">backend</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            
            

            
            <div class="method-source-code" id="backend-source">
<pre>
<span class="ruby-comment"># File lib/asciidoctor/document.rb, line 388</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">backend</span>
  <span class="ruby-ivar">@attributes</span>[<span class="ruby-string">'backend'</span>]
<span class="ruby-keyword">end</span></pre>
            </div><!-- backend-source -->
            
          </div>

          

          
        </div><!-- backend-method -->

      
        <div id="clear_playback_attributes-method" class="method-detail ">
          <a name="method-i-clear_playback_attributes"></a>

          
          <div class="method-heading">
            <span class="method-name">clear_playback_attributes</span><span
              class="method-args">(attributes)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Internal: Delete any attributes stored for playback</p>
            

            
            <div class="method-source-code" id="clear_playback_attributes-source">
<pre>
<span class="ruby-comment"># File lib/asciidoctor/document.rb, line 471</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">clear_playback_attributes</span>(<span class="ruby-identifier">attributes</span>)
  <span class="ruby-identifier">attributes</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-value">:attribute_entries</span>)
<span class="ruby-keyword">end</span></pre>
            </div><!-- clear_playback_attributes-source -->
            
          </div>

          

          
        </div><!-- clear_playback_attributes-method -->

      
        <div id="content-method" class="method-detail ">
          <a name="method-i-content"></a>

          
          <div class="method-heading">
            <span class="method-name">content</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            
            

            
            <div class="method-source-code" id="content-source">
<pre>
<span class="ruby-comment"># File lib/asciidoctor/document.rb, line 629</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">content</span>
  <span class="ruby-comment"># per AsciiDoc-spec, remove the title before rendering the body,</span>
  <span class="ruby-comment"># regardless of whether the header is rendered)</span>
  <span class="ruby-ivar">@attributes</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-string">'title'</span>)
  <span class="ruby-ivar">@blocks</span>.<span class="ruby-identifier">map</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">b</span><span class="ruby-operator">|</span> <span class="ruby-identifier">b</span>.<span class="ruby-identifier">render</span> }.<span class="ruby-identifier">join</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- content-source -->
            
          </div>

          

          
        </div><!-- content-method -->

      
        <div id="counter-method" class="method-detail ">
          <a name="method-i-counter"></a>

          
          <div class="method-heading">
            <span class="method-name">counter</span><span
              class="method-args">(name, seed = nil)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Public: Get the named counter and take the next number in the sequence.</p>

<p>name  - the String name of the counter seed  - the initial value as a
String or Integer</p>

<p>returns the next number in the sequence for the specified counter</p>
            

            
            <div class="method-source-code" id="counter-source">
<pre>
<span class="ruby-comment"># File lib/asciidoctor/document.rb, line 293</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">counter</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">seed</span> = <span class="ruby-keyword">nil</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-operator">!</span><span class="ruby-ivar">@counters</span>.<span class="ruby-identifier">has_key?</span> <span class="ruby-identifier">name</span>
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">seed</span>.<span class="ruby-identifier">nil?</span>
      <span class="ruby-identifier">seed</span> = <span class="ruby-identifier">nextval</span>(<span class="ruby-ivar">@attributes</span>.<span class="ruby-identifier">has_key?</span>(<span class="ruby-identifier">name</span>) <span class="ruby-operator">?</span> <span class="ruby-ivar">@attributes</span>[<span class="ruby-identifier">name</span>] <span class="ruby-operator">:</span> <span class="ruby-value">0</span>)
    <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">seed</span>.<span class="ruby-identifier">to_i</span>.<span class="ruby-identifier">to_s</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">seed</span>
      <span class="ruby-identifier">seed</span> = <span class="ruby-identifier">seed</span>.<span class="ruby-identifier">to_i</span>
    <span class="ruby-keyword">end</span>
    <span class="ruby-ivar">@counters</span>[<span class="ruby-identifier">name</span>] = <span class="ruby-identifier">seed</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-ivar">@counters</span>[<span class="ruby-identifier">name</span>] = <span class="ruby-identifier">nextval</span>(<span class="ruby-ivar">@counters</span>[<span class="ruby-identifier">name</span>])
  <span class="ruby-keyword">end</span>

  (<span class="ruby-ivar">@attributes</span>[<span class="ruby-identifier">name</span>] = <span class="ruby-ivar">@counters</span>[<span class="ruby-identifier">name</span>])
<span class="ruby-keyword">end</span></pre>
            </div><!-- counter-source -->
            
          </div>

          

          
        </div><!-- counter-method -->

      
        <div id="counter_increment-method" class="method-detail ">
          <a name="method-i-counter_increment"></a>

          
          <div class="method-heading">
            <span class="method-name">counter_increment</span><span
              class="method-args">(counter_name, block)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Public: Increment the specified counter and store it in the block's
attributes</p>

<p>counter_name - the String name of the counter attribute block        - the
<a href="Block.html">Block</a> on which to save the counter</p>

<p>returns the next number in the sequence for the specified counter</p>
            

            
            <div class="method-source-code" id="counter_increment-source">
<pre>
<span class="ruby-comment"># File lib/asciidoctor/document.rb, line 314</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">counter_increment</span>(<span class="ruby-identifier">counter_name</span>, <span class="ruby-identifier">block</span>)
  <span class="ruby-identifier">val</span> = <span class="ruby-identifier">counter</span>(<span class="ruby-identifier">counter_name</span>)
  <span class="ruby-constant">AttributeEntry</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">counter_name</span>, <span class="ruby-identifier">val</span>).<span class="ruby-identifier">save_to</span>(<span class="ruby-identifier">block</span>.<span class="ruby-identifier">attributes</span>)
  <span class="ruby-identifier">val</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- counter_increment-source -->
            
          </div>

          

          
        </div><!-- counter_increment-method -->

      
        <div id="delete_attribute-method" class="method-detail ">
          <a name="method-i-delete_attribute"></a>

          
          <div class="method-heading">
            <span class="method-name">delete_attribute</span><span
              class="method-args">(name)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Public: Delete the specified attribute from the document if the name is not
locked</p>

<p>If the attribute is locked, false is returned. Otherwise, the attribute is
deleted.</p>

<p>name  - the String attribute name</p>

<p>returns true if the attribute was deleted, false if it was not because it's
locked</p>
            

            
            <div class="method-source-code" id="delete_attribute-source">
<pre>
<span class="ruby-comment"># File lib/asciidoctor/document.rb, line 518</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">delete_attribute</span>(<span class="ruby-identifier">name</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">attribute_locked?</span>(<span class="ruby-identifier">name</span>)
    <span class="ruby-keyword">false</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-ivar">@attributes</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-identifier">name</span>)
    <span class="ruby-keyword">true</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- delete_attribute-source -->
            
          </div>

          

          
        </div><!-- delete_attribute-method -->

      
        <div id="docinfo-method" class="method-detail ">
          <a name="method-i-docinfo"></a>

          
          <div class="method-heading">
            <span class="method-name">docinfo</span><span
              class="method-args">(ext = nil)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Public: Read the docinfo file(s) for inclusion in the document template</p>

<p>If the docinfo1 attribute is set, read the docinfo.ext file. If the docinfo
attribute is set, read the doc-name.docinfo.ext file. If the docinfo2
attribute is set, read both files in that order.</p>

<p>ext - The extension of the docinfo file(s). If not set, the extension</p>

<pre>will be determined based on the basebackend. (default: nil)</pre>

<p>returns The contents of the docinfo file(s)</p>
            

            
            <div class="method-source-code" id="docinfo-source">
<pre>
<span class="ruby-comment"># File lib/asciidoctor/document.rb, line 647</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">docinfo</span>(<span class="ruby-identifier">ext</span> = <span class="ruby-keyword">nil</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">safe</span> <span class="ruby-operator">&gt;=</span> <span class="ruby-constant">SafeMode</span><span class="ruby-operator">::</span><span class="ruby-constant">SECURE</span>
    <span class="ruby-string">''</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">ext</span> = <span class="ruby-ivar">@attributes</span>[<span class="ruby-string">'outfilesuffix'</span>] <span class="ruby-keyword">if</span> <span class="ruby-identifier">ext</span>.<span class="ruby-identifier">nil?</span>

    <span class="ruby-identifier">content</span> = <span class="ruby-keyword">nil</span>

    <span class="ruby-identifier">docinfo</span> = <span class="ruby-ivar">@attributes</span>.<span class="ruby-identifier">has_key?</span>(<span class="ruby-string">'docinfo'</span>)
    <span class="ruby-identifier">docinfo1</span> = <span class="ruby-ivar">@attributes</span>.<span class="ruby-identifier">has_key?</span>(<span class="ruby-string">'docinfo1'</span>)
    <span class="ruby-identifier">docinfo2</span> = <span class="ruby-ivar">@attributes</span>.<span class="ruby-identifier">has_key?</span>(<span class="ruby-string">'docinfo2'</span>)
    <span class="ruby-identifier">docinfo_filename</span> = <span class="ruby-node">&quot;docinfo#{ext}&quot;</span>
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">docinfo1</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">docinfo2</span>
      <span class="ruby-identifier">docinfo_path</span> = <span class="ruby-identifier">normalize_system_path</span>(<span class="ruby-identifier">docinfo_filename</span>)
      <span class="ruby-identifier">content</span> = <span class="ruby-identifier">read_asset</span>(<span class="ruby-identifier">docinfo_path</span>)
    <span class="ruby-keyword">end</span>

    <span class="ruby-keyword">if</span> (<span class="ruby-identifier">docinfo</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">docinfo2</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-ivar">@attributes</span>.<span class="ruby-identifier">has_key?</span>(<span class="ruby-string">'docname'</span>)
      <span class="ruby-identifier">docinfo_path</span> = <span class="ruby-identifier">normalize_system_path</span>(<span class="ruby-node">&quot;#{@attributes['docname']}-#{docinfo_filename}&quot;</span>)
      <span class="ruby-identifier">content2</span> = <span class="ruby-identifier">read_asset</span>(<span class="ruby-identifier">docinfo_path</span>)
      <span class="ruby-keyword">unless</span> <span class="ruby-identifier">content2</span>.<span class="ruby-identifier">nil?</span>
        <span class="ruby-identifier">content</span> = <span class="ruby-identifier">content</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">content2</span> <span class="ruby-operator">:</span> <span class="ruby-node">&quot;#{content}\n#{content2}&quot;</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>

    <span class="ruby-identifier">content</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-operator">?</span> <span class="ruby-string">''</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">content</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- docinfo-source -->
            
          </div>

          

          
        </div><!-- docinfo-method -->

      
        <div id="doctitle-method" class="method-detail ">
          <a name="method-i-doctitle"></a>

          
          <div class="method-heading">
            <span class="method-name">doctitle</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>We need to be able to return some semblance of a title</p>
            

            
            <div class="method-source-code" id="doctitle-source">
<pre>
<span class="ruby-comment"># File lib/asciidoctor/document.rb, line 403</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">doctitle</span>
  <span class="ruby-keyword">if</span> <span class="ruby-operator">!</span>(<span class="ruby-identifier">title</span> = <span class="ruby-ivar">@attributes</span>.<span class="ruby-identifier">fetch</span>(<span class="ruby-string">'title'</span>, <span class="ruby-string">''</span>)).<span class="ruby-identifier">empty?</span>
    <span class="ruby-identifier">title</span>
  <span class="ruby-keyword">elsif</span> <span class="ruby-operator">!</span>(<span class="ruby-identifier">sect</span> = <span class="ruby-identifier">first_section</span>).<span class="ruby-identifier">nil?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">sect</span>.<span class="ruby-identifier">title?</span>
    <span class="ruby-identifier">sect</span>.<span class="ruby-identifier">title</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-keyword">nil</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- doctitle-source -->
            
          </div>

          
          <div class="aliases">
            Also aliased as: <a href="Document.html#method-i-name">name</a>
          </div>
          

          
        </div><!-- doctitle-method -->

      
        <div id="doctype-method" class="method-detail ">
          <a name="method-i-doctype"></a>

          
          <div class="method-heading">
            <span class="method-name">doctype</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            
            

            
            <div class="method-source-code" id="doctype-source">
<pre>
<span class="ruby-comment"># File lib/asciidoctor/document.rb, line 384</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">doctype</span>
  <span class="ruby-ivar">@attributes</span>[<span class="ruby-string">'doctype'</span>]
<span class="ruby-keyword">end</span></pre>
            </div><!-- doctype-source -->
            
          </div>

          

          
        </div><!-- doctype-method -->

      
        <div id="embedded-3F-method" class="method-detail ">
          <a name="method-i-embedded-3F"></a>

          
          <div class="method-heading">
            <span class="method-name">embedded?</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            
            

            
            <div class="method-source-code" id="embedded-3F-source">
<pre>
<span class="ruby-comment"># File lib/asciidoctor/document.rb, line 369</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">embedded?</span>
  <span class="ruby-comment"># QUESTION should this be !@options[:header_footer] ?</span>
  <span class="ruby-ivar">@attributes</span>.<span class="ruby-identifier">has_key?</span> <span class="ruby-string">'embedded'</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- embedded-3F-source -->
            
          </div>

          

          
        </div><!-- embedded-3F-method -->

      
        <div id="first_section-method" class="method-detail ">
          <a name="method-i-first_section"></a>

          
          <div class="method-heading">
            <span class="method-name">first_section</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>QUESTION move to <a href="AbstractBlock.html">AbstractBlock</a>?</p>
            

            
            <div class="method-source-code" id="first_section-source">
<pre>
<span class="ruby-comment"># File lib/asciidoctor/document.rb, line 437</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">first_section</span>
  <span class="ruby-identifier">has_header?</span> <span class="ruby-operator">?</span> <span class="ruby-ivar">@header</span> <span class="ruby-operator">:</span> (<span class="ruby-ivar">@blocks</span> <span class="ruby-operator">||</span> []).<span class="ruby-identifier">detect</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">e</span><span class="ruby-operator">|</span> <span class="ruby-identifier">e</span>.<span class="ruby-identifier">is_a?</span> <span class="ruby-constant">Section</span>}
<span class="ruby-keyword">end</span></pre>
            </div><!-- first_section-source -->
            
          </div>

          

          
        </div><!-- first_section-method -->

      
        <div id="footnotes-method" class="method-detail ">
          <a name="method-i-footnotes"></a>

          
          <div class="method-heading">
            <span class="method-name">footnotes</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            
            

            
            <div class="method-source-code" id="footnotes-source">
<pre>
<span class="ruby-comment"># File lib/asciidoctor/document.rb, line 361</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">footnotes</span>
  <span class="ruby-ivar">@references</span>[<span class="ruby-value">:footnotes</span>]
<span class="ruby-keyword">end</span></pre>
            </div><!-- footnotes-source -->
            
          </div>

          

          
        </div><!-- footnotes-method -->

      
        <div id="footnotes-3F-method" class="method-detail ">
          <a name="method-i-footnotes-3F"></a>

          
          <div class="method-heading">
            <span class="method-name">footnotes?</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            
            

            
            <div class="method-source-code" id="footnotes-3F-source">
<pre>
<span class="ruby-comment"># File lib/asciidoctor/document.rb, line 357</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">footnotes?</span>
  <span class="ruby-keyword">not</span> <span class="ruby-ivar">@references</span>[<span class="ruby-value">:footnotes</span>].<span class="ruby-identifier">empty?</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- footnotes-3F-source -->
            
          </div>

          

          
        </div><!-- footnotes-3F-method -->

      
        <div id="has_header-3F-method" class="method-detail ">
          <a name="method-i-has_header-3F"></a>

          
          <div class="method-heading">
            <span class="method-name">has_header?</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            
            

            
            <div class="method-source-code" id="has_header-3F-source">
<pre>
<span class="ruby-comment"># File lib/asciidoctor/document.rb, line 441</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">has_header?</span>
  <span class="ruby-operator">!</span><span class="ruby-ivar">@header</span>.<span class="ruby-identifier">nil?</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- has_header-3F-source -->
            
          </div>

          

          
        </div><!-- has_header-3F-method -->

      
        <div id="name-method" class="method-detail method-alias">
          <a name="method-i-name"></a>

          
          <div class="method-heading">
            <span class="method-name">name</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            
            

            
          </div>

          

          
          <div class="aliases">
            Alias for: <a href="Document.html#method-i-doctitle">doctitle</a>
          </div>
          
        </div><!-- name-method -->

      
        <div id="nested-3F-method" class="method-detail ">
          <a name="method-i-nested-3F"></a>

          
          <div class="method-heading">
            <span class="method-name">nested?</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            
            

            
            <div class="method-source-code" id="nested-3F-source">
<pre>
<span class="ruby-comment"># File lib/asciidoctor/document.rb, line 365</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">nested?</span>
  <span class="ruby-operator">!</span><span class="ruby-ivar">@parent_document</span>.<span class="ruby-identifier">nil?</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- nested-3F-source -->
            
          </div>

          

          
        </div><!-- nested-3F-method -->

      
        <div id="nextval-method" class="method-detail ">
          <a name="method-i-nextval"></a>

          
          <div class="method-heading">
            <span class="method-name">nextval</span><span
              class="method-args">(current)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Internal: Get the next value in the sequence.</p>

<p>Handles both integer and character sequences.</p>

<p>current - the value to increment as a String or Integer</p>

<p>returns the next value in the sequence according to the current value's
type</p>
            

            
            <div class="method-source-code" id="nextval-source">
<pre>
<span class="ruby-comment"># File lib/asciidoctor/document.rb, line 327</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">nextval</span>(<span class="ruby-identifier">current</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">current</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Integer</span>)
    <span class="ruby-identifier">current</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">intval</span> = <span class="ruby-identifier">current</span>.<span class="ruby-identifier">to_i</span>
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">intval</span>.<span class="ruby-identifier">to_s</span> <span class="ruby-operator">!=</span> <span class="ruby-identifier">current</span>.<span class="ruby-identifier">to_s</span>
      (<span class="ruby-identifier">current</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">ord</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span>).<span class="ruby-identifier">chr</span>
    <span class="ruby-keyword">else</span>
      <span class="ruby-identifier">intval</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span> 
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- nextval-source -->
            
          </div>

          

          
        </div><!-- nextval-method -->

      
        <div id="noheader-method" class="method-detail ">
          <a name="method-i-noheader"></a>

          
          <div class="method-heading">
            <span class="method-name">noheader</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            
            

            
            <div class="method-source-code" id="noheader-source">
<pre>
<span class="ruby-comment"># File lib/asciidoctor/document.rb, line 432</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">noheader</span>
  <span class="ruby-ivar">@attributes</span>.<span class="ruby-identifier">has_key?</span> <span class="ruby-string">'noheader'</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- noheader-source -->
            
          </div>

          

          
        </div><!-- noheader-method -->

      
        <div id="notitle-method" class="method-detail ">
          <a name="method-i-notitle"></a>

          
          <div class="method-heading">
            <span class="method-name">notitle</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            
            

            
            <div class="method-source-code" id="notitle-source">
<pre>
<span class="ruby-comment"># File lib/asciidoctor/document.rb, line 428</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">notitle</span>
  <span class="ruby-ivar">@attributes</span>.<span class="ruby-identifier">has_key?</span> <span class="ruby-string">'notitle'</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- notitle-source -->
            
          </div>

          

          
        </div><!-- notitle-method -->

      
        <div id="playback_attributes-method" class="method-detail ">
          <a name="method-i-playback_attributes"></a>

          
          <div class="method-heading">
            <span class="method-name">playback_attributes</span><span
              class="method-args">(block_attributes)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Internal: Replay attribute assignments at the block level</p>
            

            
            <div class="method-source-code" id="playback_attributes-source">
<pre>
<span class="ruby-comment"># File lib/asciidoctor/document.rb, line 476</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">playback_attributes</span>(<span class="ruby-identifier">block_attributes</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">block_attributes</span>.<span class="ruby-identifier">has_key?</span> <span class="ruby-value">:attribute_entries</span>
    <span class="ruby-identifier">block_attributes</span>[<span class="ruby-value">:attribute_entries</span>].<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">entry</span><span class="ruby-operator">|</span>
      <span class="ruby-keyword">if</span> <span class="ruby-identifier">entry</span>.<span class="ruby-identifier">negate</span>
        <span class="ruby-ivar">@attributes</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-identifier">entry</span>.<span class="ruby-identifier">name</span>)
      <span class="ruby-keyword">else</span>
        <span class="ruby-ivar">@attributes</span>[<span class="ruby-identifier">entry</span>.<span class="ruby-identifier">name</span>] = <span class="ruby-identifier">entry</span>.<span class="ruby-identifier">value</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- playback_attributes-source -->
            
          </div>

          

          
        </div><!-- playback_attributes-method -->

      
        <div id="register-method" class="method-detail ">
          <a name="method-i-register"></a>

          
          <div class="method-heading">
            <span class="method-name">register</span><span
              class="method-args">(type, value)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            
            

            
            <div class="method-source-code" id="register-source">
<pre>
<span class="ruby-comment"># File lib/asciidoctor/document.rb, line 340</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">register</span>(<span class="ruby-identifier">type</span>, <span class="ruby-identifier">value</span>)
  <span class="ruby-keyword">case</span> <span class="ruby-identifier">type</span>
  <span class="ruby-keyword">when</span> <span class="ruby-value">:ids</span>
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">value</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Array</span>)
      <span class="ruby-ivar">@references</span>[<span class="ruby-value">:ids</span>][<span class="ruby-identifier">value</span>[<span class="ruby-value">0</span>]] = (<span class="ruby-identifier">value</span>[<span class="ruby-value">1</span>] <span class="ruby-operator">||</span> <span class="ruby-string">'['</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">value</span>[<span class="ruby-value">0</span>] <span class="ruby-operator">+</span> <span class="ruby-string">']'</span>)
    <span class="ruby-keyword">else</span>
      <span class="ruby-ivar">@references</span>[<span class="ruby-value">:ids</span>][<span class="ruby-identifier">value</span>] = <span class="ruby-string">'['</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">value</span> <span class="ruby-operator">+</span> <span class="ruby-string">']'</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">when</span> <span class="ruby-value">:footnotes</span>, <span class="ruby-value">:indexterms</span>
    <span class="ruby-ivar">@references</span>[<span class="ruby-identifier">type</span>] <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">value</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-keyword">if</span> <span class="ruby-ivar">@options</span>[<span class="ruby-value">:catalog_assets</span>]
      <span class="ruby-ivar">@references</span>[<span class="ruby-identifier">type</span>] <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">value</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- register-source -->
            
          </div>

          

          
        </div><!-- register-method -->

      
        <div id="render-method" class="method-detail ">
          <a name="method-i-render"></a>

          
          <div class="method-heading">
            <span class="method-name">render</span><span
              class="method-args">(opts = {})</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Public: Render the Asciidoc document using the templates loaded by <a
href="Renderer.html">Renderer</a>. If a :template_dir is not specified, or
a template is missing, the renderer will fall back to using the appropriate
built-in template.</p>
            

            
            <div class="method-source-code" id="render-source">
<pre>
<span class="ruby-comment"># File lib/asciidoctor/document.rb, line 614</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">render</span>(<span class="ruby-identifier">opts</span> = {})
  <span class="ruby-identifier">restore_attributes</span>
  <span class="ruby-identifier">r</span> = <span class="ruby-identifier">renderer</span>(<span class="ruby-identifier">opts</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">doctype</span> <span class="ruby-operator">==</span> <span class="ruby-string">'inline'</span>
    <span class="ruby-comment"># QUESTION should we warn if @blocks.size &gt; 0 and the first block is not a paragraph?</span>
    <span class="ruby-keyword">if</span> <span class="ruby-ivar">@blocks</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span> <span class="ruby-operator">&amp;&amp;</span> (<span class="ruby-identifier">block</span> = <span class="ruby-ivar">@blocks</span>.<span class="ruby-identifier">first</span>).<span class="ruby-identifier">context</span> <span class="ruby-operator">==</span> <span class="ruby-value">:paragraph</span>
      <span class="ruby-identifier">block</span>.<span class="ruby-identifier">content</span>
    <span class="ruby-keyword">else</span>
      <span class="ruby-string">''</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-ivar">@options</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">opts</span>)[<span class="ruby-value">:header_footer</span>] <span class="ruby-operator">?</span> <span class="ruby-identifier">r</span>.<span class="ruby-identifier">render</span>(<span class="ruby-string">'document'</span>, <span class="ruby-keyword">self</span>).<span class="ruby-identifier">strip</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">r</span>.<span class="ruby-identifier">render</span>(<span class="ruby-string">'embedded'</span>, <span class="ruby-keyword">self</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- render-source -->
            
          </div>

          

          
        </div><!-- render-method -->

      
        <div id="renderer-method" class="method-detail ">
          <a name="method-i-renderer"></a>

          
          <div class="method-heading">
            <span class="method-name">renderer</span><span
              class="method-args">(opts = {})</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            
            

            
            <div class="method-source-code" id="renderer-source">
<pre>
<span class="ruby-comment"># File lib/asciidoctor/document.rb, line 589</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">renderer</span>(<span class="ruby-identifier">opts</span> = {})
  <span class="ruby-keyword">return</span> <span class="ruby-ivar">@renderer</span> <span class="ruby-keyword">if</span> <span class="ruby-ivar">@renderer</span>
  
  <span class="ruby-identifier">render_options</span> = {}

  <span class="ruby-comment"># Load up relevant Document @options</span>
  <span class="ruby-keyword">if</span> <span class="ruby-ivar">@options</span>.<span class="ruby-identifier">has_key?</span> <span class="ruby-value">:template_dir</span>
    <span class="ruby-identifier">render_options</span>[<span class="ruby-value">:template_dir</span>] = <span class="ruby-ivar">@options</span>[<span class="ruby-value">:template_dir</span>]
  <span class="ruby-keyword">end</span>
  
  <span class="ruby-identifier">render_options</span>[<span class="ruby-value">:backend</span>] = <span class="ruby-ivar">@attributes</span>.<span class="ruby-identifier">fetch</span>(<span class="ruby-string">'backend'</span>, <span class="ruby-string">'html5'</span>)
  <span class="ruby-identifier">render_options</span>[<span class="ruby-value">:template_engine</span>] = <span class="ruby-ivar">@options</span>[<span class="ruby-value">:template_engine</span>]
  <span class="ruby-identifier">render_options</span>[<span class="ruby-value">:eruby</span>] = <span class="ruby-ivar">@options</span>.<span class="ruby-identifier">fetch</span>(<span class="ruby-value">:eruby</span>, <span class="ruby-string">'erb'</span>)
  <span class="ruby-identifier">render_options</span>[<span class="ruby-value">:compact</span>] = <span class="ruby-ivar">@options</span>.<span class="ruby-identifier">fetch</span>(<span class="ruby-value">:compact</span>, <span class="ruby-keyword">false</span>)
  
  <span class="ruby-comment"># Override Document @option settings with options passed in</span>
  <span class="ruby-identifier">render_options</span>.<span class="ruby-identifier">merge!</span> <span class="ruby-identifier">opts</span>

  <span class="ruby-ivar">@renderer</span> = <span class="ruby-constant">Renderer</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">render_options</span>)
<span class="ruby-keyword">end</span></pre>
            </div><!-- renderer-source -->
            
          </div>

          

          
        </div><!-- renderer-method -->

      
        <div id="restore_attributes-method" class="method-detail ">
          <a name="method-i-restore_attributes"></a>

          
          <div class="method-heading">
            <span class="method-name">restore_attributes</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Internal: Restore the attributes to the previously saved state</p>
            

            
            <div class="method-source-code" id="restore_attributes-source">
<pre>
<span class="ruby-comment"># File lib/asciidoctor/document.rb, line 466</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">restore_attributes</span>
  <span class="ruby-ivar">@attributes</span> = <span class="ruby-ivar">@original_attributes</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- restore_attributes-source -->
            
          </div>

          

          
        </div><!-- restore_attributes-method -->

      
        <div id="revdate-method" class="method-detail ">
          <a name="method-i-revdate"></a>

          
          <div class="method-heading">
            <span class="method-name">revdate</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Public: Convenience method to retrieve the document attribute 'revdate'</p>

<p>returns the date of last revision for the document as a String</p>
            

            
            <div class="method-source-code" id="revdate-source">
<pre>
<span class="ruby-comment"># File lib/asciidoctor/document.rb, line 424</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">revdate</span>
  <span class="ruby-ivar">@attributes</span>[<span class="ruby-string">'revdate'</span>]
<span class="ruby-keyword">end</span></pre>
            </div><!-- revdate-source -->
            
          </div>

          

          
        </div><!-- revdate-method -->

      
        <div id="save_attributes-method" class="method-detail ">
          <a name="method-i-save_attributes"></a>

          
          <div class="method-heading">
            <span class="method-name">save_attributes</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Internal: Branch the attributes so that the original state can be restored
at a future time.</p>
            

            
            <div class="method-source-code" id="save_attributes-source">
<pre>
<span class="ruby-comment"># File lib/asciidoctor/document.rb, line 447</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">save_attributes</span>
  <span class="ruby-keyword">unless</span> <span class="ruby-ivar">@attributes</span>.<span class="ruby-identifier">has_key?</span>(<span class="ruby-string">'doctitle'</span>) <span class="ruby-operator">||</span> (<span class="ruby-identifier">val</span> = <span class="ruby-identifier">doctitle</span>).<span class="ruby-identifier">nil?</span>
    <span class="ruby-ivar">@attributes</span>[<span class="ruby-string">'doctitle'</span>] = <span class="ruby-identifier">val</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-comment"># css-signature cannot be updated after header attributes are processed</span>
  <span class="ruby-keyword">if</span> <span class="ruby-ivar">@id</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-ivar">@attributes</span>.<span class="ruby-identifier">has_key?</span>(<span class="ruby-string">'css-signature'</span>)
    <span class="ruby-ivar">@id</span> = <span class="ruby-ivar">@attributes</span>[<span class="ruby-string">'css-signature'</span>]
  <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">if</span> <span class="ruby-ivar">@attributes</span>.<span class="ruby-identifier">has_key?</span> <span class="ruby-string">'toc2'</span>
    <span class="ruby-ivar">@attributes</span>[<span class="ruby-string">'toc'</span>] = <span class="ruby-string">''</span>
    <span class="ruby-ivar">@attributes</span>[<span class="ruby-string">'toc-class'</span>] <span class="ruby-operator">||=</span> <span class="ruby-string">'toc2'</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-ivar">@original_attributes</span> = <span class="ruby-ivar">@attributes</span>.<span class="ruby-identifier">dup</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- save_attributes-source -->
            
          </div>

          

          
        </div><!-- save_attributes-method -->

      
        <div id="set_attribute-method" class="method-detail ">
          <a name="method-i-set_attribute"></a>

          
          <div class="method-heading">
            <span class="method-name">set_attribute</span><span
              class="method-args">(name, value)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Public: Set the specified attribute on the document if the name is not
locked</p>

<p>If the attribute is locked, false is returned. Otherwise, the value is
assigned to the attribute name after first performing attribute
substitutions on the value. If the attribute name is 'backend', then the
value of backend-related attributes are updated.</p>

<p>name  - the String attribute name value - the String attribute value</p>

<p>returns true if the attribute was set, false if it was not set because it's
locked</p>
            

            
            <div class="method-source-code" id="set_attribute-source">
<pre>
<span class="ruby-comment"># File lib/asciidoctor/document.rb, line 499</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">set_attribute</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">value</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">attribute_locked?</span>(<span class="ruby-identifier">name</span>)
    <span class="ruby-keyword">false</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-ivar">@attributes</span>[<span class="ruby-identifier">name</span>] = <span class="ruby-identifier">apply_attribute_value_subs</span>(<span class="ruby-identifier">value</span>)
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">name</span> <span class="ruby-operator">==</span> <span class="ruby-string">'backend'</span>
      <span class="ruby-identifier">update_backend_attributes</span>()
    <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">true</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- set_attribute-source -->
            
          </div>

          

          
        </div><!-- set_attribute-method -->

      
        <div id="source-method" class="method-detail ">
          <a name="method-i-source"></a>

          
          <div class="method-heading">
            <span class="method-name">source</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Make the raw source for the <a href="Document.html">Document</a> available.</p>
            

            
            <div class="method-source-code" id="source-source">
<pre>
<span class="ruby-comment"># File lib/asciidoctor/document.rb, line 375</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">source</span>
  <span class="ruby-ivar">@reader</span>.<span class="ruby-identifier">source</span>.<span class="ruby-identifier">join</span> <span class="ruby-keyword">if</span> <span class="ruby-ivar">@reader</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- source-source -->
            
          </div>

          

          
        </div><!-- source-method -->

      
        <div id="source_lines-method" class="method-detail ">
          <a name="method-i-source_lines"></a>

          
          <div class="method-heading">
            <span class="method-name">source_lines</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Make the raw source lines for the <a href="Document.html">Document</a>
available.</p>
            

            
            <div class="method-source-code" id="source_lines-source">
<pre>
<span class="ruby-comment"># File lib/asciidoctor/document.rb, line 380</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">source_lines</span>
  <span class="ruby-ivar">@reader</span>.<span class="ruby-identifier">source</span> <span class="ruby-keyword">if</span> <span class="ruby-ivar">@reader</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- source_lines-source -->
            
          </div>

          

          
        </div><!-- source_lines-method -->

      
        <div id="title-method" class="method-detail ">
          <a name="method-i-title"></a>

          
          <div class="method-heading">
            <span class="method-name">title</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>The title explicitly defined in the document attributes</p>
            

            
            <div class="method-source-code" id="title-source">
<pre>
<span class="ruby-comment"># File lib/asciidoctor/document.rb, line 393</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">title</span>
  <span class="ruby-ivar">@attributes</span>[<span class="ruby-string">'title'</span>]
<span class="ruby-keyword">end</span></pre>
            </div><!-- title-source -->
            
          </div>

          

          
        </div><!-- title-method -->

      
        <div id="title-3D-method" class="method-detail ">
          <a name="method-i-title-3D"></a>

          
          <div class="method-heading">
            <span class="method-name">title=</span><span
              class="method-args">(title)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            
            

            
            <div class="method-source-code" id="title-3D-source">
<pre>
<span class="ruby-comment"># File lib/asciidoctor/document.rb, line 397</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">title=</span>(<span class="ruby-identifier">title</span>)
  <span class="ruby-ivar">@header</span> <span class="ruby-operator">||=</span> <span class="ruby-constant">Section</span>.<span class="ruby-identifier">new</span> <span class="ruby-keyword">self</span>
  <span class="ruby-ivar">@header</span>.<span class="ruby-identifier">title</span> = <span class="ruby-identifier">title</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- title-3D-source -->
            
          </div>

          

          
        </div><!-- title-3D-method -->

      
        <div id="to_s-method" class="method-detail ">
          <a name="method-i-to_s"></a>

          
          <div class="method-heading">
            <span class="method-name">to_s</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            
            

            
            <div class="method-source-code" id="to_s-source">
<pre>
<span class="ruby-comment"># File lib/asciidoctor/document.rb, line 676</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">to_s</span>
  <span class="ruby-node">%[#{super.to_s} - #{doctitle}]</span>  
<span class="ruby-keyword">end</span></pre>
            </div><!-- to_s-source -->
            
          </div>

          

          
        </div><!-- to_s-method -->

      
        <div id="update_backend_attributes-method" class="method-detail ">
          <a name="method-i-update_backend_attributes"></a>

          
          <div class="method-heading">
            <span class="method-name">update_backend_attributes</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Public: Update the backend attributes to reflect a change in the selected
backend</p>
            

            
            <div class="method-source-code" id="update_backend_attributes-source">
<pre>
<span class="ruby-comment"># File lib/asciidoctor/document.rb, line 564</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">update_backend_attributes</span>()
  <span class="ruby-identifier">backend</span> = <span class="ruby-ivar">@attributes</span>[<span class="ruby-string">'backend'</span>]
  <span class="ruby-keyword">if</span> <span class="ruby-constant">BACKEND_ALIASES</span>.<span class="ruby-identifier">has_key?</span> <span class="ruby-identifier">backend</span>
    <span class="ruby-identifier">backend</span> = <span class="ruby-ivar">@attributes</span>[<span class="ruby-string">'backend'</span>] = <span class="ruby-constant">BACKEND_ALIASES</span>[<span class="ruby-identifier">backend</span>]
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">basebackend</span> = <span class="ruby-identifier">backend</span>.<span class="ruby-identifier">sub</span>(<span class="ruby-regexp">/[[:digit:]]+$/</span>, <span class="ruby-string">''</span>)
  <span class="ruby-identifier">page_width</span> = <span class="ruby-constant">DEFAULT_PAGE_WIDTHS</span>[<span class="ruby-identifier">basebackend</span>]
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">page_width</span>
    <span class="ruby-ivar">@attributes</span>[<span class="ruby-string">'pagewidth'</span>] = <span class="ruby-identifier">page_width</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-ivar">@attributes</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-string">'pagewidth'</span>)
  <span class="ruby-keyword">end</span>
  <span class="ruby-ivar">@attributes</span>[<span class="ruby-node">&quot;backend-#{backend}&quot;</span>] = <span class="ruby-string">''</span>
  <span class="ruby-ivar">@attributes</span>[<span class="ruby-string">'basebackend'</span>] = <span class="ruby-identifier">basebackend</span>
  <span class="ruby-ivar">@attributes</span>[<span class="ruby-node">&quot;basebackend-#{basebackend}&quot;</span>] = <span class="ruby-string">''</span>
  <span class="ruby-comment"># REVIEW cases for the next two assignments</span>
  <span class="ruby-ivar">@attributes</span>[<span class="ruby-node">&quot;#{backend}-#{@attributes['doctype']}&quot;</span>] = <span class="ruby-string">''</span>
  <span class="ruby-ivar">@attributes</span>[<span class="ruby-node">&quot;#{basebackend}-#{@attributes['doctype']}&quot;</span>] = <span class="ruby-string">''</span>
  <span class="ruby-identifier">ext</span> = <span class="ruby-constant">DEFAULT_EXTENSIONS</span>[<span class="ruby-identifier">basebackend</span>] <span class="ruby-operator">||</span> <span class="ruby-string">'.html'</span>
  <span class="ruby-ivar">@attributes</span>[<span class="ruby-string">'outfilesuffix'</span>] = <span class="ruby-identifier">ext</span>
  <span class="ruby-identifier">file_type</span> = <span class="ruby-identifier">ext</span>[<span class="ruby-value">1</span><span class="ruby-operator">..</span><span class="ruby-value">-1</span>]
  <span class="ruby-ivar">@attributes</span>[<span class="ruby-string">'filetype'</span>] = <span class="ruby-identifier">file_type</span>
  <span class="ruby-ivar">@attributes</span>[<span class="ruby-node">&quot;filetype-#{file_type}&quot;</span>] = <span class="ruby-string">''</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- update_backend_attributes-source -->
            
          </div>

          

          
        </div><!-- update_backend_attributes-method -->

      
      </div><!-- public-instance-method-details -->
    
    </div><!-- 5Buntitled-5D -->
  

  </div><!-- documentation -->

  <div id="validator-badges">
    <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
    <p><small>Generated with the <a href="http://deveiate.org/projects/Darkfish-Rdoc/">Darkfish
      Rdoc Generator</a> 2</small>.</p>
  </div>

</body>
</html>

