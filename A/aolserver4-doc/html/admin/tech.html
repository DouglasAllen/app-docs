<html>
<head>
<title>AOLserver</title>
</head>
<body>

<h1>AOLserver Administration Technical Overview</h1>

<p>
<small>
$Header: /cvsroot/aolserver/aolserver.com/docs/admin/tech.html,v 1.1 2002/03/07 19:15:34 kriston Exp $
</small>
<p>

<h2>AOLserver Command Line</h2>

<p>

bin/nsd [ -i | -f ] [-s servername] [ -d ] [ -k | -K ] [ -V ] [ -r
root ] {-c | -t} config

<p>

Description: Start up AOLserver

<p>

Option:

<p>

Description:

<p>

-i

<p>

Run AOLserver from /etc/inittab. This option is similar to -f except
that stdout goes to the server.log file.

<p>

-f

<p>

Run AOLserver in the foreground.

<p>

-s servername

<p>

Specify the server to run, if the configuration file defines multiple
servers. The Server1 server will be run by default.

<p>

-d

<p>

Run AOLserver in the debugger (ignore SIGINT).

<p>

-k

<p>

Kill the running AOLserver (based on pidfile) and continue.

<p>

-K

<p>

Kill the running AOLserver (based on pidfile) and terminate.

<p>

-V

<p>

Print the version number of AOLserver.

<p>

-r root

<p>

Perform chroot to a new root directory.

<p>

{-c|-t} config

<p>

Required. Specify -c if the configuration file is in the .ini format
from previous AOLserver versions or -t if the configuration file is in
.tcl format. Specify the path to the configuration file.

<p>

 SGI Irix 6.2 Platform:

<p>

Execute nsdp instead of nsd to use the Posix Threads interface for SGI
Irix 6.2. All command line options remain the same.

<p>

 Examples

<p>

Command Line:

<p>

Description:
 nsd -t nsd.tcl

<p>

This is the simplest form of the command line.
 nsd -ft nsd.tcl

<p>

AOLserver will be run in the foreground.
 nsd -fkt nsd.tcl -r /newroot

<p>

AOLserver will be run in a chroot environment, and any
currently-running server will be killed.

<p>

<h2>Directory Map</h2>

<p>

This table describes all of the directories that are created under the
AOLserver installation directory when you install AOLserver. It lists
the files or types of files that are stored in each directory, the
configuration parameters that affect the directory or the files in the
directory, and references to where you can find more information on
the associated AOLserver features.

<p>

Directory

<p>

Description

<p>

/bin

<p>

Directory containing the AOLserver binary and the default directory
for any dynamically-loadable C modules.

<p>

Files:

<p>

 .so files
 nsd
 translate-ini

<p>

/examples

<p>

Directory containg C and Tcl examples, each in a separate
subdirectory.

<p>

/include

<p>

Directory containing header files for AOLserver.

<p>

Files:

<p>

 .h files

<p>

/lib

<p>

Directory containing static libraries used for building customized
components to AOLserver. This directory currently only includes the
libnspd.a file that can be used to build database proxy daemons
(external database drivers).

<p>

Files:

<p>

 libnspd.a

<p>

See Appendix B of the AOLserver C Developer's Guide for information on
building external database drivers.

<p>

/log

<p>

Directory containing log files and the server pid file.

<p>

Files:

<p>

 server.log
 nspid.port

<p>


/modules

<p>

Contains directories for each configured module that operates across
servers, such as the tcl module.

<p>

See page 62 for information on configuring AOLserver modules.

<p>

/modules/nscp

<p>

Directory containing files related to control port interface.

<p>

Files:

<p>

 tcsh.inputrc

<p>


/modules/tcl

<p>

Default directory for shared Tcl script library. Also contains
subdirectories containing Tcl examples and Tcl scripts for various
modules.

<p>

Files:

<p>

 .tcl files

<p>

/modules/tcl/nsperm

<p>

Directory containing user, group, and permissions files, plus Tcl
scripts for the nsperm module, which is used to provide access control
for AOLserver.

<p>

Files:

<p>

 passwd file
 group file
 hosts.allow file
 hosts.deny file
 perms file
 .tcl files

<p>


/modules/nsunix

<p>

Contains socket file for the nsunix module.

<p>

/servers

<p>

Contains directories for each server.

<p>

/servers/servername

<p>

Contains server-specific directories, including modules and pages.

<p>

/servers/servername/modules

<p>

Contains directories for server-specific modules, including nsftp,
nslog, nsperm, nsservlet, and tcl.

<p>

/servers/servername/modules/nslog

<p>

Default directory where the server's access log is stored.

<p>

Files:

<p>

 access.log

<p>

/servers/servername/modules/nsperm

<p>

Default directory where access control files are stored. The access
control features are enabled by the nsperm module.

<p>

Files:

<p>

 .dat files
 passwd
 group
 hosts.allow
 hosts.deny
 perms

<p>


/servers/servername/modules/tcl

<p>

Default directory for private Tcl script library for this server.

<p>

Files:

<p>

 .tcl files

<p>


/servers/servername/pages

<p>

Default directory where pages and graphics for the server are stored.
Users can optionally have individual subdirectories of this directory
(see UserDir, below).

<p>

Files:

<p>

 typically, .htm, .html, .shtml, and .adp files

<p>


</body>
</html>
