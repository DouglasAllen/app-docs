<!--plsfield:text-->
<HTML><HEAD>
<TITLE>C API Reference  -- Ns_RegisterProxyRequest</TITLE>
<LINK rel=Previous href="c-ch294.htm">
<LINK rel=ToC href="toc.htm">
<LINK rel=Index href="master.htm">
<LINK rel=Next href="c-ch296.htm">
</HEAD><BODY BGCOLOR="#ffffff"><A NAME="topofpage"></A>
<TABLE WIDTH=100%>
  <TR>
    <TD ALIGN=LEFT>
      <A NAME="topofpage"></A> <IMG  SRC="as-c-sm.gif">
    </TD>
    <TD ALIGN=RIGHT>
      <A href="c-ch294.htm"><IMG  BORDER="0" src=navbprev.gif alt="[ Previous ]"></A>
      <A href=toc.htm> <IMG  BORDER="0" src=navbhome.gif alt="[ Contents ]"></A>
      <A href=master.htm> <IMG  BORDER="0" src=navbhelp.gif alt="[ Index ]"></A>
      <A href="c-ch296.htm"> <IMG  BORDER="0" src=navbnext.gif alt="[ Next ]"></A>
      <A name="7983"> </A>
    </TD>
  </TR>
</TABLE>

<a name="857871">
</a><h3>Ns_RegisterProxyRequest</h3>
<a name="857872">
</a><h4>Overview</h4>
<p><a name="857873">
</a>Register a function to proxy requests for a method/protocol combination</p>
<a name="857874">
</a><h4>Syntax</h4>
<pre>    <a name="861103"></a>typedef void *Ns_OpContext;
    <a name="861104"></a>typedef int (Ns_OpProc) (void *context, Ns_Conn *conn);
    <a name="861105"></a>typedef void (Ns_OpDeleteProc) (void *context);
    <a name="857878"></a>
    <a name="861108"></a>void Ns_RegisterProxyRequest(
    <a name="857879"></a>char        *Server,
    <a name="857880"></a>char        *method,
    <a name="857881"></a>char        *protocol,
    <a name="857882"></a>Ns_OpProc   *proc,
    <a name="857883"></a>Ns_Callback *deleteProc,
    <a name="857884"></a>void        *context
    <a name="857885"></a>);
</pre><p><a name="857886">
</a><h4>Description</h4>
<p><a name="857887">
</a>The Ns_RegisterProxyRequest function registers function proc to handle HTTP requests. When the specified server receives a proxy request, it finds the appropriate registered function.</p>
<p><a name="857888">
</a>The server passes your procedure the context you specify here and the Ns_Conn structure associated with the new HTTP connection.</p>
<p><a name="860945">
</a>When a procedure is unregistered with either Ns_UnRegisterProxyRequest, the server calls the deleteProc with the same context. You can use this to do any cleanup you might require (e.g., close an index file or free something from the heap). If the value of deleteProc is NULL, the server does nothing.</p>
<a name="861098">
</a><h4>Examples</h4>
<p><a name="861099">
</a>See the example in the examples/c/nsproxy directory.</p>


<TABLE BORDER="2" CELLPADDING="1" width="100%">
<TR><TD COLSPAN=3><P ALIGN=Center>
<IMG SRC="bluebult.gif">
<A HREF="#topofpage">
<FONT SIZE=-1>Top of Page</FONT></A>
<IMG SRC="bluebult.gif">
</TD></TR>
<TR><TD COLSPAN=3><P ALIGN=Center>
<A href="c-ch294.htm">
<IMG  BORDER="0" src=navbprev.gif alt="[ Previous ]"></A>
<A href=toc.htm>
<IMG  BORDER="0" src=navbhome.gif alt="[ Contents ]"></A>
<A href=master.htm>
<IMG  BORDER="0" src=navbhelp.gif alt="[ Index ]"></A>
<A href="c-ch296.htm">
<IMG  BORDER="0" src=navbnext.gif alt="[ Next ]"></A>
<BR align=center>
<FONT size=-1>Copyright &copy; 1998-99 America Online,
Inc.</FONT>
</TD></TR></TABLE></BODY></HTML><!--plsfield:end-->