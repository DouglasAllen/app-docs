<!--plsfield:text-->
<HTML><HEAD>
<TITLE>C API Reference  -- Ns_ConnFlushHeaders</TITLE>
<LINK rel=Previous href="c-ch72.htm">
<LINK rel=ToC href="toc.htm">
<LINK rel=Index href="master.htm">
<LINK rel=Next href="c-ch74.htm">
</HEAD><BODY BGCOLOR="#ffffff"><A NAME="topofpage"></A>
<TABLE WIDTH=100%>
  <TR>
    <TD ALIGN=LEFT>
      <A NAME="topofpage"></A> <IMG  SRC="as-c-sm.gif">
    </TD>
    <TD ALIGN=RIGHT>
      <A href="c-ch72.htm"><IMG  BORDER="0" src=navbprev.gif alt="[ Previous ]"></A>
      <A href=toc.htm> <IMG  BORDER="0" src=navbhome.gif alt="[ Contents ]"></A>
      <A href=master.htm> <IMG  BORDER="0" src=navbhelp.gif alt="[ Index ]"></A>
      <A href="c-ch74.htm"> <IMG  BORDER="0" src=navbnext.gif alt="[ Next ]"></A>
      <A name="7983"> </A>
    </TD>
  </TR>
</TABLE>

<a name="95001">
</a><h3>Ns_ConnFlushHeaders</h3>
<a name="95002">
</a><h4>Overview</h4>
Mark the end of the headers
<a name="58934">
</a><a name="132389">
</a><h4>Syntax</h4>
<pre>    <a name="58936"></a>int Ns_ConnFlushHeaders(
    <a name="58937"></a>Ns_Conn *conn,
    <a name="58938"></a>int status
    <a name="58939"></a>);
</pre><p><a name="133719">
</a><h4>Description</h4>
<p><a name="58941">
</a>The Ns_ConnFlushHeaders functions returns a single blank line that signifies the end of the headers. It also sets the state of the connection from header buffering mode to immediate sending of data to the client. Before this function is called, any headers are not actually sent to the client but instead are buffered in the Ns_Conn structure to avoid the cost of sending the headers in individual network packets.</p>
<p><a name="58942">
</a>The status is a standard error code such as 403 for access denied or 200 for OK. Returns NS_OK or NS_ERROR.</p>
<p><a name="214001">
</a>This function is normally required just before sending content to the client.</p>
<a name="214006">
</a><h4>Examples</h4>
<pre>    <a name="214012"></a>/* A simple Hello request function. */
    <a name="214030"></a>int
    <a name="214014"></a>MyHello(Ns_Conn *conn, void *ctx)
    <a name="214018"></a>{
    <a name="214020"></a>	char hello[] = "hello";
    <a name="214021"></a>	int len;
    <a name="214022"></a>
    <a name="214023"></a>	len = strlen(hello);
    <a name="214019"></a>	Ns_ConnSetRequiredHeaders(conn, "text/plain", len);
    <a name="214024"></a>	Ns_ConnFlushHeaders(conn, 200);
    <a name="214025"></a>	return Ns_ConnWrite(conn, hello, len);
    <a name="214027"></a>}
    <a name="214026"></a>
</pre><p>

<TABLE BORDER="2" CELLPADDING="1" width="100%">
<TR><TD COLSPAN=3><P ALIGN=Center>
<IMG SRC="bluebult.gif">
<A HREF="#topofpage">
<FONT SIZE=-1>Top of Page</FONT></A>
<IMG SRC="bluebult.gif">
</TD></TR>
<TR><TD COLSPAN=3><P ALIGN=Center>
<A href="c-ch72.htm">
<IMG  BORDER="0" src=navbprev.gif alt="[ Previous ]"></A>
<A href=toc.htm>
<IMG  BORDER="0" src=navbhome.gif alt="[ Contents ]"></A>
<A href=master.htm>
<IMG  BORDER="0" src=navbhelp.gif alt="[ Index ]"></A>
<A href="c-ch74.htm">
<IMG  BORDER="0" src=navbnext.gif alt="[ Next ]"></A>
<BR align=center>
<FONT size=-1>Copyright &copy; 1998-99 America Online,
Inc.</FONT>
</TD></TR></TABLE></BODY></HTML><!--plsfield:end-->