<!--plsfield:text-->
<HTML><HEAD>
<TITLE>C API Reference  -- Ns_SockListenCallback</TITLE>
<LINK rel=Previous href="c-ch363.htm">
<LINK rel=ToC href="toc.htm">
<LINK rel=Index href="master.htm">
<LINK rel=Next href="c-ch365.htm">
</HEAD><BODY BGCOLOR="#ffffff"><A NAME="topofpage"></A>
<TABLE WIDTH=100%>
  <TR>
    <TD ALIGN=LEFT>
      <A NAME="topofpage"></A> <IMG  SRC="as-c-sm.gif">
    </TD>
    <TD ALIGN=RIGHT>
      <A href="c-ch363.htm"><IMG  BORDER="0" src=navbprev.gif alt="[ Previous ]"></A>
      <A href=toc.htm> <IMG  BORDER="0" src=navbhome.gif alt="[ Contents ]"></A>
      <A href=master.htm> <IMG  BORDER="0" src=navbhelp.gif alt="[ Index ]"></A>
      <A href="c-ch365.htm"> <IMG  BORDER="0" src=navbnext.gif alt="[ Next ]"></A>
      <A name="7983"> </A>
    </TD>
  </TR>
</TABLE>

<a name="620814">
</a><h3>Ns_SockListenCallback</h3>
<a name="620815">
</a><h4>Overview</h4>
Register a socket callback function and create socket
<a name="620816">
</a><a name="620817">
</a><h4>Syntax</h4>
<pre>    <a name="620911"></a>int Ns_SockListenCallback (
    <a name="620915"></a>char* address, 
    <a name="620916"></a>int port, 
    <a name="620917"></a>Ns_SockProc* proc, 
    <a name="620918"></a>void* ctx
    <a name="620919"></a>);
</pre><p><a name="620824">
</a><h4>Description</h4>
<p><a name="620825">
</a>Ns_SockListenCallback registers a user-defined socket callback function and should be called by your module at startup time. It also creates, binds, and listens on the socket (with the specified address and port) for you.</p>
<p><a name="620826">
</a>The <code>proc</code> is your socket callback function. The <code>ctx</code> argument is your context which will be passed back as the second argument of your callback function.</p>
<p><a name="620844">
</a>The <code>when</code> argument is a bitmask with one or more of the following options specified:<Table Border = "3">
<tr><td><p><a name="620829">
</a>NS_SOCK_READ:</p>
<td><p><a name="620831">
</a>the socket is readable</p>

<tr><td><p><a name="620841">
</a>NS_SOCK_EXIT: </p>
<td><p><a name="620843">
</a>the server is shutting down</p>


</Table></p>
<pre>    <a name="620811"></a>
</pre><p>

<TABLE BORDER="2" CELLPADDING="1" width="100%">
<TR><TD COLSPAN=3><P ALIGN=Center>
<IMG SRC="bluebult.gif">
<A HREF="#topofpage">
<FONT SIZE=-1>Top of Page</FONT></A>
<IMG SRC="bluebult.gif">
</TD></TR>
<TR><TD COLSPAN=3><P ALIGN=Center>
<A href="c-ch363.htm">
<IMG  BORDER="0" src=navbprev.gif alt="[ Previous ]"></A>
<A href=toc.htm>
<IMG  BORDER="0" src=navbhome.gif alt="[ Contents ]"></A>
<A href=master.htm>
<IMG  BORDER="0" src=navbhelp.gif alt="[ Index ]"></A>
<A href="c-ch365.htm">
<IMG  BORDER="0" src=navbnext.gif alt="[ Next ]"></A>
<BR align=center>
<FONT size=-1>Copyright &copy; 1998-99 America Online,
Inc.</FONT>
</TD></TR></TABLE></BODY></HTML><!--plsfield:end-->