<!-- Creator     : groff version 1.21 -->
<!-- CreationDate: Sat May  5 10:27:19 2012 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>Ns_ConnReturnStatus</title>

</head>
<body>

<h1 align="center">Ns_ConnReturnStatus</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#ARGUMENTS">ARGUMENTS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>
<a href="#KEYWORDS">KEYWORDS</a><br>

<hr>



<p style="margin-top: 1em">______________________________________________________________________________</p>

<h2>NAME
<a name="NAME"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em">Ns_ConnReturnBadRequest,
Ns_ConnReturnForbidden, Ns_ConnReturnInternalError,
Ns_ConnReturnNoResponse, Ns_ConnReturnNotFound,
Ns_ConnReturnNotImplemented, Ns_ConnReturnNotModified,
Ns_ConnReturnOk, Ns_ConnReturnStatus,
Ns_ConnReturnUnauthorized, Ns_RegisterRedirect &minus;
Routines to return simple standard responses</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>#include
&quot;ns.h&quot;</b></p>

<p style="margin-left:11%; margin-top: 1em">int <b><br>
Ns_ConnReturnBadRequest</b>(<i>conn, msg</i>)</p>

<p style="margin-left:11%; margin-top: 1em">int <b><br>
Ns_ConnReturnForbidden</b>(<i>conn</i>)</p>

<p style="margin-left:11%; margin-top: 1em">int <b><br>
Ns_ConnReturnInternalError</b>(<i>conn</i>)</p>

<p style="margin-left:11%; margin-top: 1em">int <b><br>
Ns_ConnReturnNoResponse</b>(<i>conn</i>)</p>

<p style="margin-left:11%; margin-top: 1em">int <b><br>
Ns_ConnReturnNotFound</b>(<i>conn</i>)</p>

<p style="margin-left:11%; margin-top: 1em">int <b><br>
Ns_ConnReturnNotImplemented</b>(<i>conn</i>)</p>

<p style="margin-left:11%; margin-top: 1em">int <b><br>
Ns_ConnReturnNotModified</b>(<i>conn</i>)</p>

<p style="margin-left:11%; margin-top: 1em">int <b><br>
Ns_ConnReturnOk</b>(<i>conn</i>)</p>

<p style="margin-left:11%; margin-top: 1em">int <b><br>
Ns_ConnReturnStatus</b>(<i>conn, status</i>)</p>

<p style="margin-left:11%; margin-top: 1em">int <b><br>
Ns_ConnReturnUnauthorized</b>(<i>conn</i>)</p>

<p style="margin-left:11%; margin-top: 1em">void <b><br>
Ns_RegisterRedirect</b>(<i>server, status, url</i>)</p>

<h2>ARGUMENTS
<a name="ARGUMENTS"></a>
</h2>


<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="32%">


<p style="margin-top: 1em">Ns_Conn <i>conn</i> (in)</p></td>
<td width="9%"></td>
<td width="48%">


<p style="margin-top: 1em">Pointer to open connection.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="32%">


<p>char <i>*msg</i> (in)</p></td>
<td width="9%"></td>
<td width="48%">


<p>String with additional message text.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="32%">


<p>int <i>status</i> (in)</p></td>
<td width="9%"></td>
<td width="48%">


<p>Integer HTTP status code.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="32%">


<p>char <i>*url</i> (in)</p></td>
<td width="9%"></td>
<td width="48%">


<p>String which specifies internal redirection url.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="32%">


<p>char <i>*server</i>(in)</p></td>
<td width="9%"></td>
<td width="48%">


<p>Virtual server.</p></td></tr>
</table>


<p style="margin-left:52%;">_________________________________________________________________</p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">These routines
are used to generate complete responses, including headers,
approriate status codes, content types, and possibly short
HTML content messages for the most common HTTP error or
status responses. They each coorespond to a particular HTTP
status code, for example, <b>Ns_ConnReturnNotFound</b>
generates an HTTP 404 &quot;Not Found&quot; response. They
all return NS_OK if the response was sent or NS_ERROR if an
underlying routine failed.</p>

<p style="margin-left:11%; margin-top: 1em">The default
behavior is to return an internal, server generated response
possibly with a short English language message, for example
&quot;The requested URL cannot be accessed by this
server&quot;. This behavior can be modified by calling the
<b>Ns_RegisterRedirect</b> to redirect responses internally
for the cooresponding HTTP status code to another URL on the
server. The &quot;redirects&quot; server config section can
be used to map these redirects at startup <br>
int <b>Ns_ConnReturnBadRequest</b>(<i>conn, msg</i>)</p>

<p style="margin-left:22%;">Returns an HTTP 400 response
with the short HTML message &quot;Invalid Request: The HTTP
request presented by your browser is invalid.&quot; The
optional <i>msg</i> string, if present, is also included in
the message body.</p>

<p style="margin-left:11%;">int
<b>Ns_ConnReturnForbidden</b>(<i>conn</i>)</p>

<p style="margin-left:22%;">Returns an HTTP 403 response
with the short HTML message &quot;Forbidden: The requested
URL cannot be accessed by this server.&quot;</p>

<p style="margin-left:11%;">int
<b>Ns_ConnReturnInternalError</b>(<i>conn</i>)</p>

<p style="margin-left:22%;">Returns an HTTP 500 response
with the short HTML message &quot;Server Error: The
requested URL cannot be accessed due to a system error on
this server.&quot;</p>

<p style="margin-left:11%;">int
<b>Ns_ConnReturnNoResponse</b>(<i>conn</i>)</p>

<p style="margin-left:22%;">Equivalent to
<b>Ns_ConnReturnStatus</b>(<i>conn, 204</i>).</p>

<p style="margin-left:11%;">int
<b>Ns_ConnReturnNotFound</b>(<i>conn</i>)</p>

<p style="margin-left:22%;">Returns an HTTP 404 response
with the short HTML message &quot;Not Found: The requested
URL was not found on this server.&quot;</p>

<p style="margin-left:11%;">int
<b>Ns_ConnReturnNotImplemented</b>(<i>conn</i>)</p>

<p style="margin-left:22%;">Returns an HTTP 404 response
with the short HTML message &quot;Not Implemented: The
requested URL or method is not implemented by this
server.&quot;</p>

<p style="margin-left:11%;">int
<b>Ns_ConnReturnNotModified</b>(<i>conn</i>)</p>

<p style="margin-left:22%;">Equivalent to
<b>Ns_ConnReturnStatus</b>(<i>conn, 304</i>).</p>

<p style="margin-left:11%;">int
<b>Ns_ConnReturnOk</b>(<i>conn</i>)</p>

<p style="margin-left:22%;">Equivalent to
<b>Ns_ConnReturnStatus</b>(<i>conn, 200</i>).</p>

<p style="margin-left:11%;">int
<b>Ns_ConnReturnStatus</b>(<i>conn, status</i>)</p>

<p style="margin-left:22%;">Generates a response with the
given HTTP <i>status</i> with no content.</p>

<p style="margin-left:11%;">int
<b>Ns_ConnReturnUnauthorized</b>(<i>conn</i>)</p>

<p style="margin-left:22%;">Returns an HTTP 401 response
with the short HTML message &quot;Access Denied: The
requested URL cannot be accessed because a valid username
and password are required.&quot; As &quot;WWW-Authenticate:
Basic realm=<i>server realm</i>&quot; header is also
included in the response.</p>

<p style="margin-left:11%;">void
<b>Ns_RegisterRedirect</b>(<i>server, status, url</i>)</p>

<p style="margin-left:22%;">Redirect the above responses
from the given <i>server</i> for the given <i>status</i>
code from the simple internal messages described above to
the given internal url. The redirect is performed using
<b>Ns_ConnRedirect</b>.</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em">Ns_ConnFlush(3),
Ns_ConnRedirect(3), Ns_ConnSetRequiredHeaders(3),
Ns_ConnQueueHeaders(3), ns_return(n)</p>

<h2>KEYWORDS
<a name="KEYWORDS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">connnection,
response</p>
<hr>
</body>
</html>
