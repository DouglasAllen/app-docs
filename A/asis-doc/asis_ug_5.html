<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html401/loose.dtd">
<html>
<!-- Created on June 12, 2012 by texi2html 1.82
texi2html was written by: 
            Lionel Cons <Lionel.Cons@cern.ch> (original author)
            Karl Berry  <karl@freefriends.org>
            Olaf Bachmann <obachman@mathematik.uni-kl.de>
            and many others.
Maintained by: Many creative people.
Send bugs and suggestions to <texi2html-bug@nongnu.org>
-->
<head>
<title>ASIS-for-GNAT User's Guide: 5. ASIS Interpreter asistant</title>

<meta name="description" content="ASIS-for-GNAT User's Guide: 5. ASIS Interpreter asistant">
<meta name="keywords" content="ASIS-for-GNAT User's Guide: 5. ASIS Interpreter asistant">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="texi2html 1.82">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
blockquote.smallquotation {font-size: smaller}
pre.display {font-family: serif}
pre.format {font-family: serif}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
pre.smalldisplay {font-family: serif; font-size: smaller}
pre.smallexample {font-size: smaller}
pre.smallformat {font-family: serif; font-size: smaller}
pre.smalllisp {font-size: smaller}
span.roman {font-family:serif; font-weight:normal;}
span.sansserif {font-family:sans-serif; font-weight:normal;}
ul.toc {list-style: none}
-->
</style>


</head>

<body lang="en" bgcolor="#FFFFFF" text="#000000" link="#0000FF" vlink="#800080" alink="#FF0000">

<a name="ASIS-Interpreter-asistant"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="asis_ug_4.html#Using-ASIS-with-a-cross_002dcompiler" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#asistant-introduction" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="asis_ug_4.html#ASIS-Context" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="asis_ug_0.html#About-This-Guide" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="asis_ug_6.html#ASIS-Application-Templates" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="asis_ug_0.html#About-This-Guide" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="asis_ug_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="asis_ug_14.html#Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="asis_ug_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="ASIS-Interpreter-asistant-1"></a>
<h1 class="chapter">5. ASIS Interpreter <code>asistant</code></h1>
<a name="index-asistant"></a>

<p>This chapter describes <code>asistant</code>, an interactive interface to ASIS queries.
<a name="index-ASIS-queries-10"></a>
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#asistant-introduction">5.1 <code>asistant</code> Introduction</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#asistant-commands">5.2 <code>asistant</code> commands</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#asistant-variables">5.3 <code>asistant</code> variables</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Browsing-an-ASIS-tree">5.4 Browsing an ASIS tree</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Example">5.5 Example</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>


<hr size="6">
<a name="asistant-introduction"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#ASIS-Interpreter-asistant" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#asistant-commands" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#ASIS-Interpreter-asistant" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#ASIS-Interpreter-asistant" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="asis_ug_6.html#ASIS-Application-Templates" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="asis_ug_0.html#About-This-Guide" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="asis_ug_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="asis_ug_14.html#Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="asis_ug_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="asistant-Introduction"></a>
<h2 class="section">5.1 <code>asistant</code> Introduction</h2>

<p>The <code>asistant</code> tool allows you
to use ASIS without building your own ASIS applications. It
provides a simple command language that allows you to define variables of ASIS
types and to assign them values by calling ASIS queries.
</p>
<p>This tool may be very useful while you are learning ASIS:
it lets you try different ASIS queries and see the results immediately.
It does not crash when there is an error in calling an ASIS query
(such as passing an inappropriate <code>Element</code>); instead <code>asistant</code> reports an
error and lets you try again.
</p>
<p>You can also use <code>asistant</code> as a debug and &ldquo;ASIS visualization&rdquo; tool in
an ASIS application project.  If you have problems
finding out which query should be used in a given situation, or why a given
query does not work correctly with a given piece of Ada code, you may use
<code>asistant</code> to reconstruct the situation that causes the problems,
and then experiment with ASIS queries.
</p>
<p>Though primarily an interactive tool, <code>asistant</code> also can interpret
sequences of commands written to a file (called a &ldquo;script file&rdquo;
<a name="index-Script-file-_0028for-asistant_0029"></a>
below). The <code>asistant</code> tool can also store in a file the log of an interactive
session that can then be reused as a script file.
</p>
<p>The full documentation of <code>asistant</code> may be found in the
<cite><code>asistant</code> Users&rsquo; Guide</cite> (file &lsquo;<tt>asistant.ug</tt>&rsquo; in the <code>asistant</code> source directory).
Here is a brief overview of <code>asistant</code> usage.
</p>
<p>The executable for <code>asistant</code> is created in the <code>asistant</code>
source directory as a part of the standard procedure of installing
ASIS-for-GNAT as an Ada library (or it is placed in the &lsquo;<tt>GNATPRO/bin</tt>&rsquo;
directory when installing ASIS from the binary distribution). Put this
executable somewhere on your path<a name="DOCF4" href="asis_ug_fot.html#FOOT4">(4)</a>,
and then type
&ldquo;<code>asistant</code>&rdquo; to call <code>asistant</code> in an interactive mode. As a result,
the program will output brief information about itself and then the
<code>asistant</code> prompt &ldquo;<code>&gt;</code>&rdquo; will appear:
<a name="index-ASIS_002dfor_002dGNAT-6"></a>
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">ASIStant - ASIS Tester And iNTerpreter, v1.2
(C) 1997-2002, Free Software Foundation, Inc.
  Asis Version: ASIS 2.0.R

&gt;
</pre></td></tr></table>

<p>Now you can input <code>asistant</code> commands (<code>asistant</code> supports
in its command language the same form of comments as Ada, and names in
<code>asistant</code> are not case-sensitive):
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt;Initialize (&quot;&quot;) -- the ASIS Initialize query is called with an
                 -- empty string as a parameter

&gt;set (Cont) --  the non-initialized variable Cont of the ASIS
            --  Context type is created

&gt;Associate (Cont, &quot;&quot;, &quot;&quot;) --  the ASIS Associate query with two empty
                          --  strings as parameters is called for Cont

&gt;Open (Cont)  --  the ASIS Open query is called for Cont

&gt;set (C_U, Compilation_Unit_Body (&quot;Test&quot;, Cont)) -- the variable C_U
  --  of the ASIS Compilation_Unit type is created and initialized as
  --  the result of the call to the ASIS query Compilation_Unit_Body.
  --  As a result, C_U will represent a compilation unit named &quot;Test&quot;
  --  and contained in the ASIS Context named Cont

&gt;set (Unit, Unit_Declaration (C_U))  --  the variable Unit of the ASIS
  --  Element type is created and initialized as the result of calling
  --  the ASIS Unit_Declaration query

&gt;print (Unit) --  as a result of this command, some information about
              --  the current value of Unit will be printed (a user can set
              --  the desired level of detail of this information):

A_PROCEDURE_BODY_DECLARATION at ( 1 : 1 )-( 9 : 9 )

--  suppose now, that we do make an error - we call an ASIS query for
--  an inappropriate element:

&gt;set (Elem, Assignment_Expression (Unit))

--  ASIS will raise an exception, asistant will output the ASIS debug
--  information:

Exception is raised by ASIS query ASSIGNMENT_EXPRESSION.
Status : VALUE_ERROR
Diagnosis :
Inappropriate Element Kind in Asis.Statements.Assignment_Expression

--  it does not change any of the existing variables and it prompts
--  a user again:

&gt; ...
</pre></td></tr></table>


<hr size="6">
<a name="asistant-commands"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#asistant-introduction" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#asistant-variables" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#ASIS-Interpreter-asistant" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#ASIS-Interpreter-asistant" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="asis_ug_6.html#ASIS-Application-Templates" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="asis_ug_0.html#About-This-Guide" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="asis_ug_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="asis_ug_14.html#Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="asis_ug_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="asistant-commands-1"></a>
<h2 class="section">5.2 <code>asistant</code> commands</h2>
<a name="index-asistant-commands"></a>

<p>The list of <code>asistant</code> commands given in this section is incomplete;
its purpose is only to give a general idea of <code>asistant</code>&rsquo;s capabilities.
Standard metalanguage is assumed (i.e., &ldquo;<code>[</code><em>construct</em><code>]</code>&rdquo;
denotes an optional instance of &ldquo;<em>construct</em>&rdquo;).
</p>
<dl compact="compact">
<dt> <code>Help [(name)]</code></dt>
<dd><a name="index-Help-_0028asistant-command_0029"></a>
<p>Outputs the profile of the ASIS query &ldquo;<code>name</code>&rdquo;; when called with no argument,
 generates general <code>asistant</code> help information.
</p>
</dd>
<dt> <code>Set (name)</code></dt>
<dd><a name="index-Set-_0028asistant-command_0029"></a>
<p>Creates a (non-initialized) variable &ldquo;<code>name</code>&rdquo; of the ASIS <code>Context</code> type.
</p>
</dd>
<dt> <code>Set (name, expr)</code></dt>
<dd><p>Evaluates the expression &ldquo;<code>expr</code>&rdquo; (it may be any legal <code>asistant</code>
 expression; a call to some ASIS query is the most common case in practice)
 and creates the variable &ldquo;<code>name</code>&rdquo; of the type and with the value of
&ldquo;<code>expr</code>&rdquo;.
</p>
</dd>
<dt> <code>Print (expr)</code></dt>
<dd><a name="index-Print-_0028asistant-command_0029"></a>
<p>Evaluates the expression &ldquo;<code>expr</code>&rdquo; and outputs its value (some information may be
 omitted depending on the level specified by the <code>PrintDetail</code> command).
</p>
</dd>
<dt> <code>Run (&lsquo;<tt>filename</tt>&rsquo;)</code></dt>
<dd><a name="index-Run-_0028asistant-command_0029"></a>
<p>Launches the script from a file &lsquo;<tt>filename</tt>&rsquo;, reading further commands from it.
<a name="index-Script-file-_0028for-asistant_0029-1"></a>
</p>
</dd>
<dt> <code>Pause</code></dt>
<dd><a name="index-Pause-_0028asistant-command_0029"></a>
<p>Pauses the current script and turns <code>asistant</code> into interactive mode.
</p>
</dd>
<dt> <code>Run</code></dt>
<dd><p>Resumes a previously <code>Pause</code>d script.
</p>
</dd>
<dt> <code>Browse</code></dt>
<dd><a name="index-Browse-_0028asistant-command_0029"></a>
<p>Switches <code>asistant</code> into step-by-step ASIS tree browsing.
</p>
</dd>
<dt> <code>Log (&lsquo;<tt>filename</tt>&rsquo;)</code></dt>
<dd><a name="index-Log-_0028asistant-command_0029"></a>
<p>Opens the file &lsquo;<tt>filename</tt>&rsquo; for session logging.
</p>
</dd>
<dt> <code>Log</code></dt>
<dd><p>Closes the current log file.
</p>
</dd>
<dt> <code>PrintDetail</code></dt>
<dd><a name="index-PrintDetail-_0028asistant-command_0029"></a>
<p>Toggles whether the <code>Print</code> command outputs additional information.
</p>
</dd>
<dt> <code>Quit [(exit-status)]</code></dt>
<dd><a name="index-Quit-_0028asistant-command_0029"></a>
<p>Quits <code>asistant</code>.
</p></dd>
</dl>


<hr size="6">
<a name="asistant-variables"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#asistant-commands" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Browsing-an-ASIS-tree" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#ASIS-Interpreter-asistant" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#ASIS-Interpreter-asistant" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="asis_ug_6.html#ASIS-Application-Templates" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="asis_ug_0.html#About-This-Guide" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="asis_ug_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="asis_ug_14.html#Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="asis_ug_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="asistant-variables-1"></a>
<h2 class="section">5.3 <code>asistant</code> variables</h2>
<a name="index-asistant-variables"></a>

<p>The <code>asistant</code> tool lets you define variables with Ada-style (simple) names.
Variables can be of
any ASIS type and of conventional <code>Integer</code>, <code>Boolean</code> and <code>String</code> type.
All the variables are created and assigned dynamically by the <code>Set</code>
command; there are no predefined variables.
</p>
<p>There is no type checking in <code>asistant</code>: each call to a <code>Set</code>
command may be considered as creating the first argument from scratch and
initializing it by the value provided by the second argument.
</p>

<hr size="6">
<a name="Browsing-an-ASIS-tree"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#asistant-variables" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Example" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#ASIS-Interpreter-asistant" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#ASIS-Interpreter-asistant" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="asis_ug_6.html#ASIS-Application-Templates" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="asis_ug_0.html#About-This-Guide" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="asis_ug_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="asis_ug_14.html#Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="asis_ug_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Browsing-an-ASIS-tree-1"></a>
<h2 class="section">5.4 Browsing an ASIS tree</h2>
<a name="index-Browser-_0028asistant-utility_0029"></a>

<p>You perform ASIS tree browsing by invoking the <code>asistant</code> service function
<code>Browse</code>. This will disable the <code>asistant</code> command interpreter
and activate the Browser command interpreter. The Browser <code>Q</code> command
switches back into the <code>asistant</code> environment by enabling the <code>asistant</code>
command interpreter and disabling the Browser interpreter.
</p>
<p><code>Browse</code> has a single parameter of <code>Element</code> type, which establishes
where the ASIS tree browsing will begin.
<code>Browse</code> returns a
result of type <code>Element</code>, namely the <code>Element</code> at which the tree browsing was
stopped. Thus, if you type:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; set (e0, Browse (e1))
</pre></td></tr></table>

<p>you will start ASIS tree browsing from <code>e1</code>; when you finish
browsing, <code>e0</code> will represent the last <code>Element</code> visited during the
browsing.
</p>
<p>If you type:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; Browse (e1)
</pre></td></tr></table>

<p>you will be able to browse the ASIS tree, but the last <code>Element</code> of the
browsing will be discarded.
</p>
<p>Browser displays the ASIS <code>Element</code> it currently points at and expects one of
the following commands:
</p>
<dl compact="compact">
<dt> <code>U</code></dt>
<dd><p>Go one step up the ASIS tree (equivalent to calling the ASIS
 <code>Enclosing_Element</code> query);
<a name="index-Enclosing_005fElement-query-1"></a>
</p>
</dd>
<dt> <code>D</code></dt>
<dd><p>Go one step down the ASIS tree, to the left-most component of the current <code>Element</code>
</p>
</dd>
<dt> <code>N</code></dt>
<dd><p>Go to the right sibling (to the next <code>Element</code> in the ASIS tree hierarchy)
</p>
</dd>
<dt> <code>P</code></dt>
<dd><p>Go to the left sibling (to the previous <code>Element</code> in the ASIS tree hierarchy)
</p>
</dd>
<dt> <code>\k1k2</code></dt>
<dd><p>where <code>k1</code> is either <code>D</code> or <code>d</code>, and
<code>k2</code> is either <code>T</code> or <code>t</code>.
Change the form of displaying the current <code>Element</code>: <code>D</code> turns ON displaying the
debug image, <code>d</code> turns it OFF. <code>T</code> turns ON displaying the text image, <code>t</code>
turns it OFF.
</p>
</dd>
<dt> <code>&lt;SPACE&gt;&lt;query&gt;</code></dt>
<dd><p>Call the &lt;query&gt; for the current <code>Element</code>.
</p>
</dd>
<dt> <code>Q</code></dt>
<dd><p>Go back to the <code>asistant</code> environment; the Browser command interpreter is
disabled and the <code>asistant</code> command interpreter is enabled with the
current <code>Element</code> returned as a result of the call to <code>Browse</code>.
</p></dd>
</dl>

<p>Browser immediately interprets the keystroke and displays the new current
<code>Element</code>. If the message <code>&quot;Cannot go in this direction.&quot;</code> appears, this
means that traversal in this direction from current node is impossible (that
is, the current node is either a terminal <code>Element</code> and it is not possible to go
down, or it is the leftmost or the rightmost component of some <code>Element</code>, and
it is not possible to go left or right, or it is the top <code>Element</code> in its
enclosing unit structure and it is not possible to go up).
</p>
<p>It is possible to issue some ordinary ASIS queries from inside the Browser
(for example, semantic queries). These queries should accept one parameter of
type <code>Element</code> and return <code>Element</code> as a result.
</p>
<p>When you press <code>&lt;SPACE&gt;</code>, you are asked to enter the query name. If the
query is legal, the current <code>Element</code> is replaced by the result of the call to
the given query with the current <code>Element</code> as a parameter.
</p>

<hr size="6">
<a name="Example"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Browsing-an-ASIS-tree" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="asis_ug_6.html#ASIS-Application-Templates" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#ASIS-Interpreter-asistant" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#ASIS-Interpreter-asistant" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="asis_ug_6.html#ASIS-Application-Templates" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="asis_ug_0.html#About-This-Guide" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="asis_ug_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="asis_ug_14.html#Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="asis_ug_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Example-1"></a>
<h2 class="section">5.5 Example</h2>
<a name="index-ASIS-Example-1"></a>

<p>Suppose we have an ASIS <code>Compilation_Unit</code> <code>Demo</code> in the source file &lsquo;<tt>demo.adb</tt>&rsquo;:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample"> procedure Demo is
   function F (I : Integer) return Integer;

   function F (I : Integer) return Integer is
   begin
      return (I + 1);
   end F;

   N : Integer;

begin
    N := F (3);
end Demo;
</pre></td></tr></table>

<p>Suppose also that the tree for this source is created in the current directory.
Below is a sequence of <code>asistant</code> commands which does process this
unit. Explanation is provided via <code>asistant</code> comments.
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample"> initialize (&quot;&quot;)

--  Create and open a Context comprising all the tree files
--  in the current directory:

Set (Cont)
Associate (Cont, &quot;&quot;, &quot;&quot;)
Open (Cont)

-- Get a Compilation_Unit (body) named &quot;Demo&quot; from this Context:

Set (CU, Compilation_Unit_Body (&quot;Demo&quot;, Cont))

--  Go into the unit structure and get to the expression
--  in the right part of the assignment statements in the unit body:

Set (Unit, Unit_Declaration (CU))
Set (Stmts, Body_Statements (Unit, False))
Set (Stmt, Stmts (1))
Set (Expr, Assignment_Expression (Stmt))

-- Output the debug image and the text image of this expression:

Print (Expr)
Print (Element_Image (Expr))

--  This expression is of A_Function_Call kind, so it's possible to ask
--  for the declaration of the called function:

Set (Corr_Called_Fun, Corresponding_Called_Function (Expr))

--  Print the debug and the text image of the declaration of the called
--  function:

Print (Corr_Called_Fun)
Print (Element_Image (Corr_Called_Fun))

-- Close the asistant session:

Quit
</pre></td></tr></table>


<hr size="6">
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#ASIS-Interpreter-asistant" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="asis_ug_6.html#ASIS-Application-Templates" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="asis_ug_0.html#About-This-Guide" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="asis_ug_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="asis_ug_14.html#Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="asis_ug_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<p>
 <font size="-1">
  This document was generated by <em>root</em> on <em>June 12, 2012</em> using <a href="http://www.nongnu.org/texi2html/"><em>texi2html 1.82</em></a>.
 </font>
 <br>

</p>
</body>
</html>
