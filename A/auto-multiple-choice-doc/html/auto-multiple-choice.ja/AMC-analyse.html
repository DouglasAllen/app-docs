<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>AMC-analyse</title><link rel="stylesheet" type="text/css" href="../style.css" /><meta name="generator" content="DocBook XSL Stylesheets V1.76.1" /><link rel="home" href="index.html" title="Auto Multiple Choice" /><link rel="up" href="commands.html" title="コマンドマニュアル" /><link rel="prev" href="AMC-imprime.html" title="AMC-imprime" /><link rel="next" href="AMC-note.html" title="AMC-note" /></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">AMC-analyse</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="AMC-imprime.html">戻る</a> </td><th width="60%" align="center">コマンドマニュアル</th><td width="20%" align="right"> <a accesskey="n" href="AMC-note.html">次へ</a></td></tr></table><hr /></div><div class="refentry" title="AMC-analyse"><a id="AMC-analyse"></a><div class="titlepage"></div><div class="refnamediv"><h2>名前</h2><p>AMC-analyse — AMC選択式試験問題のスキャンデータから自動マーク認識する</p></div><div class="refsynopsisdiv" title="概要"><h2>概要</h2><div class="cmdsynopsis"><p><code class="command">auto-multiple-choice</code>   analyse   --projet
          <em class="replaceable"><code>project-dir</code></em>  [--seuil-coche <em class="replaceable"><code>threshold</code></em>] [--tol-marque <em class="replaceable"><code>tol</code></em>] [ --list-fichiers
            <em class="replaceable"><code>files-list.txt</code></em>  |   <em class="replaceable"><code>scan-files</code></em>... ]</p></div></div><div class="refsect1" title="解説"><a id="idp7776400"></a><h2>解説</h2><p><span class="command"><strong>AMC-analyse.pl</strong></span>コマンドは、AMC選択式試験問題の答案用紙のスキャンデータから自動マーク認識を実行します。<span class="command"><strong>AMC-analyse.pl</strong></span>を呼び出す前に、<span class="citerefentry"><span class="refentrytitle">AMC-prepare</span>(1)</span>を呼び出して、作業文書（<code class="option">--mode s</code>）とMEPファイル（<code class="option">--mode m</code>）を作成し、<span class="citerefentry"><span class="refentrytitle">AMC-meptex</span>(1)</span>を用いてレイアウトを処理しておかなければなりません。</p><div class="variablelist"><dl><dt><span class="term"><code class="option">--data
            <em class="replaceable"><code>data-dir</code></em></code></span></dt><dd><p>データファイルがあるディレクトリを指定します（<span class="citerefentry"><span class="refentrytitle">AMC-meptex</span>(1)</span>などを参照してください）。デフォルトは<code class="filename"><em class="replaceable"><code>project-dir</code></em>/data</code>です。</p></dd><dt><span class="term"><code class="option">--cr
            <em class="replaceable"><code>project-cr-dir</code></em></code></span></dt><dd><p>マーク認識に利用する画像を作成するディレクトリを指定します（ボックスの拡大画像は<code class="filename">zooms</code>サブディレクトリに、氏名記入欄の画像は<code class="filename">name-*.jpg</code>ファイルに、レイアウト結果の画像は<code class="filename">page-*.jpg</code>ファイルに格納されます）。</p></dd><dt><span class="term"><code class="option">--projet
            <em class="replaceable"><code>project-dir</code></em></code></span></dt><dd><p><code class="option">--cr</code>が使用されていない場合、このオプションを使用すると、<em class="replaceable"><code>project-cr-dir</code></em>が <code class="filename"><em class="replaceable"><code>project-dir</code></em>/cr</code> に設定されます。</p></dd></dl></div><p>処理するスキャンファイルの名前の指定方法には2通りあります:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>ファイル名を引数により指定する。</p></li><li class="listitem"><p>ファイル名をプレーンファイルに（各行に1ファイル名の形式で）列挙して、<code class="option">--list-fichiers <em class="replaceable"><code>files-list.txt</code></em></code>でこのファイルを指定する。</p></li></ul></div><p>マーク認識用のパラメータは以下のオプションを用いて設定できます:</p><div class="variablelist"><dl><dt><span class="term"><code class="option">--prop
            <em class="replaceable"><code>proportion</code></em></code></span></dt><dd><p>各ボックスのマーク有無を判定する領域の比率を設定します。デフォルト値は0.8です。</p></dd><dt><span class="term"><code class="option">--seuil-coche
            <em class="replaceable"><code>threshold</code></em></code></span></dt><dd><p>ボックスがマークされているかどうか判定する際、<span class="command"><strong>AMC-analyse.pl</strong></span>は黒ピクセル比率（全ピクセル数に対する黒ピクセル数の割合）を<em class="replaceable"><code>threshold</code></em>（閾値）と比較します。黒ピクセル比率が<em class="replaceable"><code>threshold</code></em>よりも大きい場合、このボックスはマークされていると宣言されます。標準的な値は通常レイアウトで0.15、別紙答案用紙レイアウト（ボックス内に文字が記入されており、受験者にはボックスを完全に塗りつぶすよう指示する）で0.5程度です。<span class="command"><strong>AMC-analyse.pl</strong></span>を再実行しなくても閾値を調整できるように、黒ピクセル比率はマーク認識データに記録されます。</p></dd><dt><span class="term"><code class="option">--bw-threshold
            <em class="replaceable"><code>threshold</code></em></code></span></dt><dd><p>このパラメータはグレースケールのスキャンデータを白黒に変換する際に使用されます。多くのピクセルを黒とするには、大きな値を使用します。多くのピクセルを白とするには、小さな値を使用します。閾値は0と1の間でなければなりません。デフォルト値は0.6です。</p></dd><dt><span class="term"><code class="option">--ignore-red</code></span></dt><dd><p>このオプションを用いると、カラースキャンデータの赤チャネルのみ使用されます。これにより、スキャンデータ上の赤色で記入されたものはすべて無視されます。ボックスが赤で印刷されている場合に有用です。</p></dd><dt><span class="term"><code class="option">--tol-marque
            <em class="replaceable"><code>tol</code></em></code></span></dt><dd><p>スキャンデータの四隅にあるマーカーを検出する際の許容度を定義します。マーカーの検出には、目標サイズ<em class="replaceable"><code>target</code></em>（印刷とスキャンが完璧であった場合のマーカーの正確なサイズ）に<span class="emphasis"><em>近い</em></span>サイズの、黒い連結領域を探します。<em class="replaceable"><code>tol</code></em>が単純な実数の場合、サイズが近いと判断されるのは(1-<em class="replaceable"><code>tol</code></em>)*<em class="replaceable"><code>target</code></em>から(1+<em class="replaceable"><code>tol</code></em>)*<em class="replaceable"><code>target</code></em> までの範囲です。<em class="replaceable"><code>tol</code></em>が "<em class="replaceable"><code>tinf</code></em>,<em class="replaceable"><code>tsup</code></em>" の形式（<em class="replaceable"><code>tinf</code></em>と<em class="replaceable"><code>tsup</code></em>は実数）の場合は(1-<em class="replaceable"><code>tinf</code></em>)*<em class="replaceable"><code>target</code></em>から(1+<em class="replaceable"><code>tsup</code></em>)*<em class="replaceable"><code>target</code></em> までの範囲です。標準値は0.2です。</p></dd><dt><span class="term"><code class="option">--multiple</code></span></dt><dd><p>このオプションは、試験問題をコピーした（つまり複数の受験者が同じ試験問題に解答しうる）場合に使用します。この場合、同じ試験問題番号をもつ答案用紙が区別できるように、答案用紙に<span class="emphasis"><em>複製</em></span>番号が割り当てられます。</p></dd><dt><span class="term"><code class="option">--pre-allocate
            <em class="replaceable"><code>copy_id</code></em></code></span></dt><dd><p>このオプションは<code class="option">--multiple</code>と共に使用されます。スキャンごとの複製番号が<em class="replaceable"><code>copy_id</code></em>から開始し、引数で与えたスキャンデータと同じ順序で割り当てられます。</p></dd><dt><span class="term"><code class="option">--debug
            <em class="replaceable"><code>file.log</code></em></code></span></dt><dd><p>デバッグ情報を記録するファイルを指定します。</p></dd></dl></div></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="AMC-imprime.html">戻る</a> </td><td width="20%" align="center"><a accesskey="u" href="commands.html">上に戻る</a></td><td width="40%" align="right"> <a accesskey="n" href="AMC-note.html">次へ</a></td></tr><tr><td width="40%" align="left" valign="top">AMC-imprime </td><td width="20%" align="center"><a accesskey="h" href="index.html">ホーム</a></td><td width="40%" align="right" valign="top"> AMC-note</td></tr></table></div></body></html>
